<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.9.2">Jekyll</generator><link href="https://mafulong.github.io/feed.xml" rel="self" type="application/atom+xml" /><link href="https://mafulong.github.io/" rel="alternate" type="text/html" /><updated>2025-05-04T21:03:26+08:00</updated><id>https://mafulong.github.io/feed.xml</id><title type="html">Fulongã®blog</title><subtitle>Fulongã®blog</subtitle><author><name>Fulong Ma</name></author><entry><title type="html">Javaå¹¶å‘åŒ…å’Œçº¿ç¨‹æ± </title><link href="https://mafulong.github.io/2025/05/04/Java%E5%B9%B6%E5%8F%91%E5%8C%85%E5%92%8C%E7%BA%BF%E7%A8%8B%E6%B1%A0/" rel="alternate" type="text/html" title="Javaå¹¶å‘åŒ…å’Œçº¿ç¨‹æ± " /><published>2025-05-04T00:00:00+08:00</published><updated>2025-05-04T00:00:00+08:00</updated><id>https://mafulong.github.io/2025/05/04/Java%E5%B9%B6%E5%8F%91%E5%8C%85%E5%92%8C%E7%BA%BF%E7%A8%8B%E6%B1%A0</id><content type="html" xml:base="https://mafulong.github.io/2025/05/04/Java%E5%B9%B6%E5%8F%91%E5%8C%85%E5%92%8C%E7%BA%BF%E7%A8%8B%E6%B1%A0/">&lt;h2 id=&quot;javaå¹¶å‘åŒ…å’Œçº¿ç¨‹æ± &quot;&gt;Javaå¹¶å‘åŒ…å’Œçº¿ç¨‹æ± &lt;/h2&gt;

&lt;h2 id=&quot;jdk-å¹¶å‘åŒ…&quot;&gt;JDK å¹¶å‘åŒ…&lt;/h2&gt;

&lt;h3 id=&quot;é‡å…¥é”&quot;&gt;é‡å…¥é”&lt;/h3&gt;

&lt;p&gt;å‡ ä¸ªé‡è¦æ–¹æ³•
re-entrance-lock&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;lock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;lock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//è·å¾—é”ï¼Œå¦‚å ç”¨ï¼Œåˆ™ç­‰å¾…&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;lockInteruptibly&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;ï¼›&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//è·å¾—é”ï¼Œä½†ä¼˜å…ˆå“åº”ä¸­æ–­ï¼Œå°±æ˜¯å¯ä»¥ä¸­æ–­çš„&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;tryLock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;ï¼›&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//å¤±è´¥è¿”å›false,ä¸ç­‰å¾…&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;tryLock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//åœ¨ç»™å®šæ—¶é—´å†…å°è¯•è·å¾—é”&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;unlock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//é‡Šæ”¾é”&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;é‡å…¥é”çš„å¥½æ­æ¡£condition-æ¡ä»¶&quot;&gt;é‡å…¥é”çš„å¥½æ­æ¡£ï¼šCondition æ¡ä»¶&lt;/h3&gt;

&lt;p&gt;condition.await()å’Œ wait()ç±»ä¼¼&lt;/p&gt;

&lt;p&gt;condition.signal()å’Œ notify()ç±»ä¼¼&lt;/p&gt;

&lt;p&gt;è¦åœ¨ lock å—å†…&lt;/p&gt;

&lt;h3 id=&quot;semaphore&quot;&gt;Semaphore&lt;/h3&gt;

&lt;p&gt;ä¿¡å·é‡æœºåˆ¶&lt;/p&gt;

&lt;p&gt;å…è®¸å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;Semaphore&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;semaphore&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;semaphore&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;permits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;//permitsæ˜¯ä¸ªè®¸å¯è¯&lt;/span&gt;


&lt;span class=&quot;n&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(){&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;semaphore&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;acquire&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;

    &lt;span class=&quot;o&quot;&gt;..&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;semaphore&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;release&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä»¥ä¸‹ä»£ç æ¨¡æ‹Ÿäº†å¯¹æŸä¸ªæœåŠ¡çš„å¹¶å‘è¯·æ±‚ï¼Œæ¯æ¬¡åªèƒ½æœ‰ 3 ä¸ªå®¢æˆ·ç«¯åŒæ—¶è®¿é—®ï¼Œè¯·æ±‚æ€»æ•°ä¸º 10ã€‚&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;SemaphoreExample&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;clientCount&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;totalRequestCount&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;Semaphore&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;semaphore&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Semaphore&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;clientCount&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;ExecutorService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;executorService&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Executors&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;newCachedThreadPool&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;totalRequestCount&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;executorService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;execute&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(()-&amp;gt;{&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;semaphore&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;acquire&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
                    &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;semaphore&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;availablePermits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;InterruptedException&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;printStackTrace&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;finally&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;semaphore&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;release&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;});&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;executorService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;shutdown&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;resutl:
2 1 2 2 2 2 2 1 2 2&lt;/p&gt;

&lt;h3 id=&quot;readwritelock&quot;&gt;ReadWriteLock&lt;/h3&gt;

&lt;p&gt;è¯»å†™åˆ†ç¦»é”ï¼Œå¯ä»¥å‡å°‘é”ç«äº‰ï¼Œæå‡æ€§èƒ½&lt;/p&gt;

&lt;h3 id=&quot;countdownlatch&quot;&gt;CountdownLatch&lt;/h3&gt;

&lt;p&gt;å°±æ˜¯å€’è®¡æ•°çš„é”å­˜æœŸï¼Œå¯ä»¥è®©çº¿ç¨‹ç­‰å¾…ç›´åˆ°å€’è®¡æ—¶ç»“æŸï¼Œå†å¼€å§‹æ‰§è¡Œ&lt;/p&gt;

&lt;p&gt;ç”¨æ¥æ§åˆ¶ä¸€ä¸ªçº¿ç¨‹ç­‰å¾…å¤šä¸ªçº¿ç¨‹ã€‚&lt;/p&gt;

&lt;p&gt;ç»´æŠ¤äº†ä¸€ä¸ªè®¡æ•°å™¨ cntï¼Œæ¯æ¬¡è°ƒç”¨ countDown() æ–¹æ³•ä¼šè®©è®¡æ•°å™¨çš„å€¼å‡ 1ï¼Œå‡åˆ° 0 çš„æ—¶å€™ï¼Œé‚£äº›å› ä¸ºè°ƒç”¨ await() æ–¹æ³•è€Œåœ¨ç­‰å¾…çš„çº¿ç¨‹å°±ä¼šè¢«å”¤é†’ã€‚&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CountdownLatchExample&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;InterruptedException&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;totalThread&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;CountDownLatch&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;countDownLatch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CountDownLatch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;totalThread&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;ExecutorService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;executorService&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Executors&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;newCachedThreadPool&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;totalThread&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;executorService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;execute&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;run..&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;countDownLatch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;countDown&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;});&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;countDownLatch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;await&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;end&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;executorService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;shutdown&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;result:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;run..run..run..run..run..run..run..run..run..run..end
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;cyclicbarrier&quot;&gt;CyclicBarrier&lt;/h3&gt;

&lt;p&gt;å…è®¸ä¸€ç»„çº¿ç¨‹äº’ç›¸ç­‰å¾…ï¼Œç›´åˆ°éƒ½åˆ°è¾¾æŸä¸ªå…¬å…±å±éšœç‚¹&lt;/p&gt;

&lt;p&gt;ç”¨æ¥æ§åˆ¶å¤šä¸ªçº¿ç¨‹äº’ç›¸ç­‰å¾…ï¼Œåªæœ‰å½“å¤šä¸ªçº¿ç¨‹éƒ½åˆ°è¾¾æ—¶ï¼Œè¿™äº›çº¿ç¨‹æ‰ä¼šç»§ç»­æ‰§è¡Œã€‚&lt;/p&gt;

&lt;p&gt;å’Œ CountdownLatch ç›¸ä¼¼ï¼Œéƒ½æ˜¯é€šè¿‡ç»´æŠ¤è®¡æ•°å™¨æ¥å®ç°çš„ã€‚ä½†æ˜¯å®ƒçš„è®¡æ•°å™¨æ˜¯é€’å¢çš„ï¼Œæ¯æ¬¡æ‰§è¡Œ await() æ–¹æ³•ä¹‹åï¼Œè®¡æ•°å™¨ä¼šåŠ  1ï¼Œç›´åˆ°è®¡æ•°å™¨çš„å€¼å’Œè®¾ç½®çš„å€¼ç›¸ç­‰ï¼Œç­‰å¾…çš„æ‰€æœ‰çº¿ç¨‹æ‰ä¼šç»§ç»­æ‰§è¡Œã€‚å’Œ CountdownLatch çš„å¦ä¸€ä¸ªåŒºåˆ«æ˜¯ï¼ŒCyclicBarrier çš„è®¡æ•°å™¨å¯ä»¥å¾ªç¯ä½¿ç”¨ï¼Œæ‰€ä»¥å®ƒæ‰å«åšå¾ªç¯å±éšœã€‚&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªæ˜¯è§„å®šå¤šå°‘ä¸ªçº¿ç¨‹ï¼Œè¿™ä¸€å®šæ•°é‡çš„çº¿ç¨‹éƒ½åˆ°è¾¾ await()æ—¶æ‰å¼€å§‹éƒ½å”¤é†’ï¼Œç»§ç»­æ‰§è¡Œ&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CyclicBarrierExample&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;InterruptedException&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;totalThread&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;CyclicBarrier&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cyclicBarrier&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CyclicBarrier&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;totalThread&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;ExecutorService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;executorService&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Executors&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;newCachedThreadPool&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;totalThread&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;executorService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;execute&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;before..&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;cyclicBarrier&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;await&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;InterruptedException&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;printStackTrace&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;BrokenBarrierException&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;printStackTrace&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;after..&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;});&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;executorService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;shutdown&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;result:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;before..before..before..before..before..before..before..before..before..before..after..after..after..after..after..after..after..after..after..after..
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;exchanger&quot;&gt;Exchanger&lt;/h3&gt;

&lt;p&gt;ç”¨äºä¸¤ä¸ªçº¿ç¨‹ä¹‹é—´æ•°æ®çš„åŒæ­¥äº¤æ¢ï¼Œéƒ½å‡†å¤‡å¥½æ‰äº¤æ¢&lt;/p&gt;

&lt;h2 id=&quot;çº¿ç¨‹æ± &quot;&gt;çº¿ç¨‹æ± &lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://www.jianshu.com/p/edd7cb4eafa0&quot;&gt;çº¿ç¨‹æ± çš„ç²—æµ…ä½¿ç”¨&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://ifeve.com/java-threadpool/&quot;&gt;çº¿ç¨‹æ± çš„åˆ†æ&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.cnblogs.com/absfree/p/5357118.html&quot;&gt;çº¿ç¨‹æ± åˆ†ææ›´å¥½äº›&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;åˆç†åˆ©ç”¨çº¿ç¨‹æ± èƒ½å¤Ÿå¸¦æ¥ä¸‰ä¸ªå¥½å¤„ã€‚ç¬¬ä¸€ï¼šé™ä½èµ„æºæ¶ˆè€—ã€‚é€šè¿‡é‡å¤åˆ©ç”¨å·²åˆ›å»ºçš„çº¿ç¨‹é™ä½çº¿ç¨‹åˆ›å»ºå’Œé”€æ¯é€ æˆçš„æ¶ˆè€—ã€‚ç¬¬äºŒï¼šæé«˜å“åº”é€Ÿåº¦ã€‚å½“ä»»åŠ¡åˆ°è¾¾æ—¶ï¼Œä»»åŠ¡å¯ä»¥ä¸éœ€è¦çš„ç­‰åˆ°çº¿ç¨‹åˆ›å»ºå°±èƒ½ç«‹å³æ‰§è¡Œã€‚ç¬¬ä¸‰ï¼šæé«˜çº¿ç¨‹çš„å¯ç®¡ç†æ€§ã€‚çº¿ç¨‹æ˜¯ç¨€ç¼ºèµ„æºï¼Œå¦‚æœæ— é™åˆ¶çš„åˆ›å»ºï¼Œä¸ä»…ä¼šæ¶ˆè€—ç³»ç»Ÿèµ„æºï¼Œè¿˜ä¼šé™ä½ç³»ç»Ÿçš„ç¨³å®šæ€§ï¼Œä½¿ç”¨çº¿ç¨‹æ± å¯ä»¥è¿›è¡Œç»Ÿä¸€çš„åˆ†é…ï¼Œè°ƒä¼˜å’Œç›‘æ§ã€‚ä½†æ˜¯è¦åšåˆ°åˆç†çš„åˆ©ç”¨çº¿ç¨‹æ± ï¼Œå¿…é¡»å¯¹å…¶åŸç†äº†å¦‚æŒ‡æŒã€‚&lt;/p&gt;

&lt;h3 id=&quot;åˆ›å»ºçº¿ç¨‹æ± &quot;&gt;åˆ›å»ºçº¿ç¨‹æ± &lt;/h3&gt;

&lt;p&gt;ä¸€èˆ¬é€šè¿‡å·¥å…·ç±» Executors çš„é™æ€æ–¹æ³•æ¥è·å–çº¿ç¨‹æ± æˆ–é™æ€æ–¹æ³•ã€‚ä»‹ç»å››ç§å¸¸ç”¨åˆ›å»ºæ–¹æ³•&lt;/p&gt;

&lt;p&gt;å•ä¾‹çº¿ç¨‹ï¼Œè¡¨ç¤ºåœ¨ä»»æ„çš„æ—¶é—´æ®µå†…ï¼Œçº¿ç¨‹æ± ä¸­åªæœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨å·¥ä½œ&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;ExecutorService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;service1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Executors&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;newSingleThreadExecutor&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç¼“å­˜çº¿ç¨‹æ± ï¼Œå…ˆæŸ¥çœ‹çº¿ç¨‹æ± ä¸­æ˜¯å¦æœ‰å½“å‰æ‰§è¡Œçº¿ç¨‹çš„ç¼“å­˜ï¼Œå¦‚æœæœ‰å°± resue(å¤ç”¨),å¦‚æœæ²¡æœ‰,é‚£ä¹ˆéœ€è¦åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ¥å®Œæˆå½“å‰çš„è°ƒç”¨.å¹¶ä¸”è¿™ç±»çº¿ç¨‹æ± åªèƒ½å®Œæˆä¸€äº›ç”Ÿå­˜æœŸå¾ˆçŸ­çš„ä¸€äº›ä»»åŠ¡.å¹¶ä¸”è¿™ç±»çº¿ç¨‹æ± å†…éƒ¨è§„å®šèƒ½ resue(å¤ç”¨)çš„çº¿ç¨‹ï¼Œç©ºé—²çš„æ—¶é—´ä¸èƒ½è¶…è¿‡ 60s,ä¸€æ—¦è¶…è¿‡äº† 60s,å°±ä¼šè¢«ç§»å‡ºçº¿ç¨‹æ± &lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;ExecutorService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;service2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Executors&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;newCacheThreadPool&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å›ºå®šå‹çº¿ç¨‹æ± ï¼Œå’Œ newCacheThreadPool()å·®ä¸å¤šï¼Œä¹Ÿèƒ½å¤Ÿå®ç° resue(å¤ç”¨),ä½†æ˜¯è¿™ä¸ªæ± å­è§„å®šäº†çº¿ç¨‹çš„æœ€å¤§æ•°é‡ï¼Œä¹Ÿå°±æ˜¯è¯´å½“æ± å­æœ‰ç©ºé—²æ—¶ï¼Œé‚£ä¹ˆæ–°çš„ä»»åŠ¡å°†ä¼šåœ¨ç©ºé—²çº¿ç¨‹ä¸­è¢«æ‰§è¡Œï¼Œä¸€æ—¦çº¿ç¨‹æ± å†…çš„çº¿ç¨‹éƒ½åœ¨è¿›è¡Œå·¥ä½œï¼Œé‚£ä¹ˆæ–°çš„ä»»åŠ¡å°±å¿…é¡»ç­‰å¾…çº¿ç¨‹æ± æœ‰ç©ºé—²çš„æ—¶å€™æ‰èƒ½å¤Ÿè¿›å…¥çº¿ç¨‹æ± ,å…¶ä»–çš„ä»»åŠ¡ç»§ç»­æ’é˜Ÿç­‰å¾….è¿™ç±»æ± å­æ²¡æœ‰è§„å®šå…¶ç©ºé—²çš„æ—¶é—´åˆ°åº•æœ‰å¤šé•¿.è¿™ä¸€ç±»çš„æ± å­æ›´é€‚ç”¨äºæœåŠ¡å™¨.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;ExecutorService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;service3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Executors&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;newFixedThreadPool&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è°ƒåº¦å‹çº¿ç¨‹æ± ,è°ƒåº¦å‹çº¿ç¨‹æ± ä¼šæ ¹æ® Scheduled(ä»»åŠ¡åˆ—è¡¨)è¿›è¡Œå»¶è¿Ÿæ‰§è¡Œï¼Œæˆ–è€…æ˜¯è¿›è¡Œå‘¨æœŸæ€§çš„æ‰§è¡Œ.é€‚ç”¨äºä¸€äº›å‘¨æœŸæ€§çš„å·¥ä½œ.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Test&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;ExecutorService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;service&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Executors&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;newCachedThreadPool&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;submit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Runnable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
            &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
                    &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;hello world !&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;nc&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
                    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;InterruptedException&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;printStackTrace&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
                    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;});&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot; ===&amp;gt; main Thread execute here ! &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;ExecutorService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;service4&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Executors&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;newScheduledThreadPool&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;çº¿ç¨‹æ± ä»»åŠ¡åˆ›å»ºä¸æäº¤&quot;&gt;çº¿ç¨‹æ± ä»»åŠ¡åˆ›å»ºä¸æäº¤&lt;/h3&gt;

&lt;p&gt;ä»»åŠ¡åˆ†ä¸ºä¸¤ç§:ä¸€ç§æ˜¯æœ‰è¿”å›å€¼çš„ï¼ˆ callable ï¼‰ï¼Œä¸€ç§æ˜¯æ²¡æœ‰è¿”å›å€¼çš„ï¼ˆ runnable ï¼‰. Callable ä¸ Future ä¸¤åŠŸèƒ½æ˜¯ Java åœ¨åç»­ç‰ˆæœ¬ä¸­ä¸ºäº†é€‚åº”å¤šå¹¶æ³•æ‰åŠ å…¥çš„ï¼ŒCallable æ˜¯ç±»ä¼¼äº Runnable çš„æ¥å£ï¼Œå®ç° Callable æ¥å£çš„ç±»å’Œå®ç° Runnable çš„ç±»éƒ½æ˜¯å¯è¢«å…¶ä»–çº¿ç¨‹æ‰§è¡Œçš„ä»»åŠ¡ã€‚&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;æ— è¿”å›å€¼çš„ä»»åŠ¡å°±æ˜¯ä¸€ä¸ªå®ç°äº† runnable æ¥å£çš„ç±».ä½¿ç”¨ run æ–¹æ³•.&lt;/li&gt;
  &lt;li&gt;æœ‰è¿”å›å€¼çš„ä»»åŠ¡æ˜¯ä¸€ä¸ªå®ç°äº† callable æ¥å£çš„ç±».ä½¿ç”¨ call æ–¹æ³•.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Callable å’Œ Runnable çš„åŒºåˆ«å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Callable å®šä¹‰çš„æ–¹æ³•æ˜¯ callï¼Œè€Œ Runnable å®šä¹‰çš„æ–¹æ³•æ˜¯ runã€‚&lt;/li&gt;
  &lt;li&gt;Callable çš„ call æ–¹æ³•å¯ä»¥æœ‰è¿”å›å€¼ï¼Œè€Œ Runnable çš„ run æ–¹æ³•ä¸èƒ½æœ‰è¿”å›å€¼ã€‚&lt;/li&gt;
  &lt;li&gt;Callable çš„ call æ–¹æ³•å¯æŠ›å‡ºå¼‚å¸¸ï¼Œè€Œ Runnable çš„ run æ–¹æ³•ä¸èƒ½æŠ›å‡ºå¼‚å¸¸ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;execute ä¸ submit åŒºåˆ«ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;æ¥æ”¶çš„å‚æ•°ä¸ä¸€æ ·&lt;/li&gt;
  &lt;li&gt;submit æœ‰è¿”å›å€¼ï¼Œè€Œ execute æ²¡æœ‰&lt;/li&gt;
  &lt;li&gt;submit æ–¹ä¾¿ Exception å¤„ç†&lt;/li&gt;
  &lt;li&gt;execute æ˜¯ Executor æ¥å£ä¸­å”¯ä¸€å®šä¹‰çš„æ–¹æ³•ï¼›submit æ˜¯ ExecutorServiceï¼ˆè¯¥æ¥å£ç»§æ‰¿ Executorï¼‰ä¸­å®šä¹‰çš„æ–¹æ³•&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;çº¿ç¨‹æ± çš„å…³é—­&quot;&gt;çº¿ç¨‹æ± çš„å…³é—­&lt;/h3&gt;

&lt;p&gt;æˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨çº¿ç¨‹æ± çš„ shutdown æˆ– shutdownNow æ–¹æ³•æ¥å…³é—­çº¿ç¨‹æ± ï¼Œä½†æ˜¯å®ƒä»¬çš„å®ç°åŸç†ä¸åŒï¼Œshutdown çš„åŸç†æ˜¯åªæ˜¯å°†çº¿ç¨‹æ± çš„çŠ¶æ€è®¾ç½®æˆ SHUTDOWN çŠ¶æ€ï¼Œç„¶åä¸­æ–­æ‰€æœ‰æ²¡æœ‰æ­£åœ¨æ‰§è¡Œä»»åŠ¡çš„çº¿ç¨‹ã€‚shutdownNow çš„åŸç†æ˜¯éå†çº¿ç¨‹æ± ä¸­çš„å·¥ä½œçº¿ç¨‹ï¼Œç„¶åé€ä¸ªè°ƒç”¨çº¿ç¨‹çš„ interrupt æ–¹æ³•æ¥ä¸­æ–­çº¿ç¨‹ï¼Œæ‰€ä»¥æ— æ³•å“åº”ä¸­æ–­çš„ä»»åŠ¡å¯èƒ½æ°¸è¿œæ— æ³•ç»ˆæ­¢ã€‚shutdownNow ä¼šé¦–å…ˆå°†çº¿ç¨‹æ± çš„çŠ¶æ€è®¾ç½®æˆ STOPï¼Œç„¶åå°è¯•åœæ­¢æ‰€æœ‰çš„æ­£åœ¨æ‰§è¡Œæˆ–æš‚åœä»»åŠ¡çš„çº¿ç¨‹ï¼Œå¹¶è¿”å›ç­‰å¾…æ‰§è¡Œä»»åŠ¡çš„åˆ—è¡¨ã€‚&lt;/p&gt;

&lt;p&gt;åªè¦è°ƒç”¨äº†è¿™ä¸¤ä¸ªå…³é—­æ–¹æ³•çš„å…¶ä¸­ä¸€ä¸ªï¼ŒisShutdown æ–¹æ³•å°±ä¼šè¿”å› trueã€‚å½“æ‰€æœ‰çš„ä»»åŠ¡éƒ½å·²å…³é—­å,æ‰è¡¨ç¤ºçº¿ç¨‹æ± å…³é—­æˆåŠŸï¼Œè¿™æ—¶è°ƒç”¨ isTerminaed æ–¹æ³•ä¼šè¿”å› trueã€‚è‡³äºæˆ‘ä»¬åº”è¯¥è°ƒç”¨å“ªä¸€ç§æ–¹æ³•æ¥å…³é—­çº¿ç¨‹æ± ï¼Œåº”è¯¥ç”±æäº¤åˆ°çº¿ç¨‹æ± çš„ä»»åŠ¡ç‰¹æ€§å†³å®šï¼Œé€šå¸¸è°ƒç”¨ shutdown æ¥å…³é—­çº¿ç¨‹æ± ï¼Œå¦‚æœä»»åŠ¡ä¸ä¸€å®šè¦æ‰§è¡Œå®Œï¼Œåˆ™å¯ä»¥è°ƒç”¨ shutdownNowã€‚&lt;/p&gt;

&lt;h3 id=&quot;çº¿ç¨‹æ± çš„åˆ†æ&quot;&gt;çº¿ç¨‹æ± çš„åˆ†æ&lt;/h3&gt;

&lt;h4 id=&quot;çº¿ç¨‹æ± åˆ›å»ºåˆ†æ&quot;&gt;çº¿ç¨‹æ± åˆ›å»ºåˆ†æ&lt;/h4&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ThreadPoolExecutor&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;corePoolSize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;maximumPoolSize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;keepAliveTime&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;milliseconds&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;runnableTaskQueue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;threadFactory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;handler&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± éœ€è¦è¾“å…¥å‡ ä¸ªå‚æ•°ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;corePoolSizeï¼ˆçº¿ç¨‹æ± çš„åŸºæœ¬å¤§å°ï¼‰ï¼šå½“æäº¤ä¸€ä¸ªä»»åŠ¡åˆ°çº¿ç¨‹æ± æ—¶ï¼Œçº¿ç¨‹æ± ä¼šåˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼Œå³ä½¿å…¶ä»–ç©ºé—²çš„åŸºæœ¬çº¿ç¨‹èƒ½å¤Ÿæ‰§è¡Œæ–°ä»»åŠ¡ä¹Ÿä¼šåˆ›å»ºçº¿ç¨‹ï¼Œç­‰åˆ°éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡æ•°å¤§äºçº¿ç¨‹æ± åŸºæœ¬å¤§å°æ—¶å°±ä¸å†åˆ›å»ºã€‚å¦‚æœè°ƒç”¨äº†çº¿ç¨‹æ± çš„ prestartAllCoreThreads æ–¹æ³•ï¼Œçº¿ç¨‹æ± ä¼šæå‰åˆ›å»ºå¹¶å¯åŠ¨æ‰€æœ‰åŸºæœ¬çº¿ç¨‹ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨åˆ›å»ºäº†çº¿ç¨‹æ± åï¼Œçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°ä¸º 0ï¼Œå½“æœ‰ä»»åŠ¡æ¥ä¹‹åï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªçº¿ç¨‹å»æ‰§è¡Œä»»åŠ¡ï¼Œå½“çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°ç›®è¾¾åˆ° corePoolSize åï¼Œå°±ä¼šæŠŠåˆ°è¾¾çš„ä»»åŠ¡æ”¾åˆ°ç¼“å­˜é˜Ÿåˆ—å½“ä¸­ï¼›&lt;/li&gt;
  &lt;li&gt;runnableTaskQueueï¼ˆä»»åŠ¡é˜Ÿåˆ—ï¼‰ï¼šç”¨äºä¿å­˜ç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡çš„é˜»å¡é˜Ÿåˆ—ã€‚å¯ä»¥é€‰æ‹©ä»¥ä¸‹å‡ ä¸ªé˜»å¡é˜Ÿåˆ—ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;ol&gt;
  &lt;li&gt;ArrayBlockingQueueï¼šæ˜¯ä¸€ä¸ªåŸºäºæ•°ç»„ç»“æ„çš„æœ‰ç•Œé˜»å¡é˜Ÿåˆ—ï¼Œæ­¤é˜Ÿåˆ—æŒ‰ FIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰åŸåˆ™å¯¹å…ƒç´ è¿›è¡Œæ’åºã€‚&lt;/li&gt;
  &lt;li&gt;LinkedBlockingQueueï¼šä¸€ä¸ªåŸºäºé“¾è¡¨ç»“æ„çš„é˜»å¡é˜Ÿåˆ—ï¼Œæ­¤é˜Ÿåˆ—æŒ‰ FIFO ï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰ æ’åºå…ƒç´ ï¼Œååé‡é€šå¸¸è¦é«˜äº ArrayBlockingQueueã€‚é™æ€å·¥å‚æ–¹æ³• Executors.newFixedThreadPool()ä½¿ç”¨äº†è¿™ä¸ªé˜Ÿåˆ—ã€‚&lt;/li&gt;
  &lt;li&gt;SynchronousQueueï¼šä¸€ä¸ªä¸å­˜å‚¨å…ƒç´ çš„é˜»å¡é˜Ÿåˆ—ã€‚æ¯ä¸ªæ’å…¥æ“ä½œå¿…é¡»ç­‰åˆ°å¦ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨ç§»é™¤æ“ä½œï¼Œå¦åˆ™æ’å…¥æ“ä½œä¸€ç›´å¤„äºé˜»å¡çŠ¶æ€ï¼Œååé‡é€šå¸¸è¦é«˜äº LinkedBlockingQueueï¼Œé™æ€å·¥å‚æ–¹æ³• Executors.newCachedThreadPool ä½¿ç”¨äº†è¿™ä¸ªé˜Ÿåˆ—ã€‚&lt;/li&gt;
  &lt;li&gt;PriorityBlockingQueueï¼šä¸€ä¸ªå…·æœ‰ä¼˜å…ˆçº§å¾—æ— é™é˜»å¡é˜Ÿåˆ—ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;ul&gt;
  &lt;li&gt;maximumPoolSizeï¼ˆçº¿ç¨‹æ± æœ€å¤§å¤§å°ï¼‰ï¼šçº¿ç¨‹æ± å…è®¸åˆ›å»ºçš„æœ€å¤§çº¿ç¨‹æ•°ã€‚å¦‚æœé˜Ÿåˆ—æ»¡äº†ï¼Œå¹¶ä¸”å·²åˆ›å»ºçš„çº¿ç¨‹æ•°å°äºæœ€å¤§çº¿ç¨‹æ•°ï¼Œåˆ™çº¿ç¨‹æ± ä¼šå†åˆ›å»ºæ–°çš„çº¿ç¨‹æ‰§è¡Œä»»åŠ¡ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯å¦‚æœä½¿ç”¨äº†æ— ç•Œçš„ä»»åŠ¡é˜Ÿåˆ—è¿™ä¸ªå‚æ•°å°±æ²¡ä»€ä¹ˆæ•ˆæœã€‚ä¹Ÿå°±æ˜¯è¯´ corePoolSize å°±æ˜¯çº¿ç¨‹æ± å¤§å°ï¼ŒmaximumPoolSize åœ¨æˆ‘çœ‹æ¥æ˜¯çº¿ç¨‹æ± çš„ä¸€ç§è¡¥æ•‘æªæ–½ï¼Œå³ä»»åŠ¡é‡çªç„¶è¿‡å¤§æ—¶çš„ä¸€ç§è¡¥æ•‘æªæ–½ã€‚&lt;/li&gt;
  &lt;li&gt;ThreadFactoryï¼šç”¨äºè®¾ç½®åˆ›å»ºçº¿ç¨‹çš„å·¥å‚ï¼Œå¯ä»¥é€šè¿‡çº¿ç¨‹å·¥å‚ç»™æ¯ä¸ªåˆ›å»ºå‡ºæ¥çš„çº¿ç¨‹è®¾ç½®æ›´æœ‰æ„ä¹‰çš„åå­—ï¼ŒDebug å’Œå®šä½é—®é¢˜æ—¶éå¸¸åˆå¸®åŠ©ã€‚&lt;/li&gt;
  &lt;li&gt;RejectedExecutionHandlerï¼ˆé¥±å’Œç­–ç•¥ï¼‰ï¼šå½“é˜Ÿåˆ—å’Œçº¿ç¨‹æ± éƒ½æ»¡äº†ï¼Œè¯´æ˜çº¿ç¨‹æ± å¤„äºé¥±å’ŒçŠ¶æ€ï¼Œé‚£ä¹ˆå¿…é¡»é‡‡å–ä¸€ç§ç­–ç•¥å¤„ç†æäº¤çš„æ–°ä»»åŠ¡ã€‚è¿™ä¸ªç­–ç•¥é»˜è®¤æƒ…å†µä¸‹æ˜¯ AbortPolicyï¼Œè¡¨ç¤ºæ— æ³•å¤„ç†æ–°ä»»åŠ¡æ—¶æŠ›å‡ºå¼‚å¸¸ã€‚ä»¥ä¸‹æ˜¯ JDK1.5 æä¾›çš„å››ç§ç­–ç•¥ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;ol&gt;
  &lt;li&gt;AbortPolicyï¼šç›´æ¥æŠ›å‡ºå¼‚å¸¸&lt;/li&gt;
  &lt;li&gt;CallerRunsPolicyï¼šåªç”¨è°ƒç”¨è€…æ‰€åœ¨çº¿ç¨‹æ¥è¿è¡Œä»»åŠ¡ã€‚&lt;/li&gt;
  &lt;li&gt;DiscardOldestPolicyï¼šä¸¢å¼ƒé˜Ÿåˆ—é‡Œæœ€è¿‘çš„ä¸€ä¸ªä»»åŠ¡ï¼Œå¹¶æ‰§è¡Œå½“å‰ä»»åŠ¡ã€‚&lt;/li&gt;
  &lt;li&gt;DiscardPolicyï¼šä¸å¤„ç†ï¼Œä¸¢å¼ƒæ‰ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;å½“ç„¶ä¹Ÿå¯ä»¥æ ¹æ®åº”ç”¨åœºæ™¯éœ€è¦æ¥å®ç° RejectedExecutionHandler æ¥å£è‡ªå®šä¹‰ç­–ç•¥ã€‚å¦‚è®°å½•æ—¥å¿—æˆ–æŒä¹…åŒ–ä¸èƒ½å¤„ç†çš„ä»»åŠ¡ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;keepAliveTimeï¼ˆçº¿ç¨‹æ´»åŠ¨ä¿æŒæ—¶é—´ï¼‰ï¼šçº¿ç¨‹æ± çš„å·¥ä½œçº¿ç¨‹ç©ºé—²åï¼Œä¿æŒå­˜æ´»çš„æ—¶é—´ã€‚æ‰€ä»¥å¦‚æœä»»åŠ¡å¾ˆå¤šï¼Œå¹¶ä¸”æ¯ä¸ªä»»åŠ¡æ‰§è¡Œçš„æ—¶é—´æ¯”è¾ƒçŸ­ï¼Œå¯ä»¥è°ƒå¤§è¿™ä¸ªæ—¶é—´ï¼Œæé«˜çº¿ç¨‹çš„åˆ©ç”¨ç‡ã€‚&lt;/li&gt;
  &lt;li&gt;TimeUnitï¼ˆçº¿ç¨‹æ´»åŠ¨ä¿æŒæ—¶é—´çš„å•ä½ï¼‰ï¼šå¯é€‰çš„å•ä½æœ‰å¤©ï¼ˆDAYSï¼‰ï¼Œå°æ—¶ï¼ˆHOURSï¼‰ï¼Œåˆ†é’Ÿï¼ˆMINUTESï¼‰ï¼Œæ¯«ç§’(MILLISECONDS)ï¼Œå¾®ç§’(MICROSECONDS, åƒåˆ†ä¹‹ä¸€æ¯«ç§’)å’Œæ¯«å¾®ç§’(NANOSECONDS, åƒåˆ†ä¹‹ä¸€å¾®ç§’)ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/mafulong/mdPic@vv6/v6/202505041121762.jpeg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ä»ä¸Šå›¾æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œå½“æäº¤ä¸€ä¸ªæ–°ä»»åŠ¡åˆ°çº¿ç¨‹æ± æ—¶ï¼Œçº¿ç¨‹æ± çš„å¤„ç†æµç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;å¦‚æœå½“å‰çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°ç›®å°äº corePoolSizeï¼Œåˆ™æ¯æ¥ä¸€ä¸ªä»»åŠ¡ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªçº¿ç¨‹å»æ‰§è¡Œè¿™ä¸ªä»»åŠ¡ï¼›&lt;/li&gt;
  &lt;li&gt;å¦‚æœå½“å‰çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°ç›®&amp;gt;=corePoolSizeï¼Œåˆ™æ¯æ¥ä¸€ä¸ªä»»åŠ¡ï¼Œä¼šå°è¯•å°†å…¶æ·»åŠ åˆ°ä»»åŠ¡ç¼“å­˜é˜Ÿåˆ—å½“ä¸­ï¼Œè‹¥æ·»åŠ æˆåŠŸï¼Œåˆ™è¯¥ä»»åŠ¡ä¼šç­‰å¾…ç©ºé—²çº¿ç¨‹å°†å…¶å–å‡ºå»æ‰§è¡Œï¼›è‹¥æ·»åŠ å¤±è´¥ï¼ˆä¸€èˆ¬æ¥è¯´æ˜¯ä»»åŠ¡ç¼“å­˜é˜Ÿåˆ—å·²æ»¡ï¼‰ï¼Œåˆ™ä¼šå°è¯•åˆ›å»ºæ–°çš„çº¿ç¨‹å»æ‰§è¡Œè¿™ä¸ªä»»åŠ¡ï¼›&lt;/li&gt;
  &lt;li&gt;å¦‚æœå½“å‰çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°ç›®è¾¾åˆ° maximumPoolSizeï¼Œåˆ™ä¼šé‡‡å–ä»»åŠ¡æ‹’ç»ç­–ç•¥è¿›è¡Œå¤„ç†ï¼›&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;å¦‚æœçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°é‡å¤§äº corePoolSize æ—¶ï¼Œå¦‚æœæŸçº¿ç¨‹ç©ºé—²æ—¶é—´è¶…è¿‡ keepAliveTimeï¼Œçº¿ç¨‹å°†è¢«ç»ˆæ­¢ï¼Œç›´è‡³çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°ç›®ä¸å¤§äº corePoolSizeï¼›å¦‚æœå…è®¸ä¸ºæ ¸å¿ƒæ± ä¸­çš„çº¿ç¨‹è®¾ç½®å­˜æ´»æ—¶é—´ï¼Œé‚£ä¹ˆæ ¸å¿ƒæ± ä¸­çš„çº¿ç¨‹ç©ºé—²æ—¶é—´è¶…è¿‡ keepAliveTimeï¼Œçº¿ç¨‹ä¹Ÿä¼šè¢«ç»ˆæ­¢&lt;/p&gt;

&lt;p&gt;ä»å®ƒä»¬çš„å…·ä½“å®ç°æ¥çœ‹ï¼Œå®ƒä»¬å®é™…ä¸Šä¹Ÿæ˜¯è°ƒç”¨äº† ThreadPoolExecutorï¼Œåªä¸è¿‡å‚æ•°éƒ½å·²é…ç½®å¥½äº†ã€‚&lt;/p&gt;

&lt;p&gt;newFixedThreadPool åˆ›å»ºçš„çº¿ç¨‹æ±  corePoolSize å’Œ maximumPoolSize å€¼æ˜¯ç›¸ç­‰çš„ï¼Œå®ƒä½¿ç”¨çš„ LinkedBlockingQueueï¼›&lt;/p&gt;

&lt;p&gt;newSingleThreadExecutor å°† corePoolSize å’Œ maximumPoolSize éƒ½è®¾ç½®ä¸º 1ï¼Œä¹Ÿä½¿ç”¨çš„ LinkedBlockingQueueï¼›&lt;/p&gt;

&lt;p&gt;newCachedThreadPool å°† corePoolSize è®¾ç½®ä¸º 0ï¼Œå°† maximumPoolSize è®¾ç½®ä¸º Integer.MAX_VALUEï¼Œä½¿ç”¨çš„ SynchronousQueueï¼Œä¹Ÿå°±æ˜¯è¯´æ¥äº†ä»»åŠ¡å°±åˆ›å»ºçº¿ç¨‹è¿è¡Œï¼Œå½“çº¿ç¨‹ç©ºé—²è¶…è¿‡ 60 ç§’ï¼Œå°±é”€æ¯çº¿ç¨‹ã€‚&lt;/p&gt;

&lt;p&gt;å®é™…ä¸­ï¼Œå¦‚æœ Executors æä¾›çš„ä¸‰ä¸ªé™æ€æ–¹æ³•èƒ½æ»¡è¶³è¦æ±‚ï¼Œå°±å°½é‡ä½¿ç”¨å®ƒæä¾›çš„ä¸‰ä¸ªæ–¹æ³•ï¼Œå› ä¸ºè‡ªå·±å»æ‰‹åŠ¨é…ç½® ThreadPoolExecutor çš„å‚æ•°æœ‰ç‚¹éº»çƒ¦ï¼Œè¦æ ¹æ®å®é™…ä»»åŠ¡çš„ç±»å‹å’Œæ•°é‡æ¥è¿›è¡Œé…ç½®ã€‚å¦å¤–ï¼Œå¦‚æœ ThreadPoolExecutor è¾¾ä¸åˆ°è¦æ±‚ï¼Œå¯ä»¥è‡ªå·±ç»§æ‰¿ ThreadPoolExecutor ç±»è¿›è¡Œé‡å†™ã€‚&lt;/p&gt;

&lt;h2 id=&quot;aqsåŸç†&quot;&gt;AQSåŸç†&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;AQSï¼ˆAbstractQueuedSynchronizerï¼‰çš„åŸç†ã€‚å®ƒæ˜¯ Java å¹¶å‘æ¡†æ¶ä¸­ç”¨äºæ„å»ºé”å’ŒåŒæ­¥å™¨çš„ä¸€ä¸ªæ ¸å¿ƒæ¡†æ¶ç±»ï¼Œæ¯”å¦‚ ReentrantLockã€Semaphoreã€CountDownLatch ç­‰åŒæ­¥å™¨ï¼Œåº•å±‚éƒ½æ˜¯åŸºäº AQS å®ç°çš„ã€‚æ˜¯ Java å¹¶å‘åŒ… &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;java.util.concurrent.locks&lt;/code&gt; ä¸­ç”¨æ¥æ„å»ºé”å’Œå…¶ä»–åŒæ­¥å™¨ï¼ˆå¦‚ä¿¡å·é‡ã€è¯»å†™é”ã€å€’è®¡æ—¶å™¨ç­‰ï¼‰çš„ä¸€ä¸ª&lt;strong&gt;åŸºç¡€æ¡†æ¶ç±»&lt;/strong&gt;ã€‚å®ƒæ˜¯ J.U.C å¹¶å‘æ¡†æ¶ä¸­æœ€æ ¸å¿ƒçš„åº•å±‚ç»„ä»¶ä¹‹ä¸€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;AQS é€šè¿‡ä¸€ä¸ª&lt;strong&gt;FIFO é˜Ÿåˆ—&lt;/strong&gt;ï¼ˆå…ˆè¿›å…ˆå‡ºç­‰å¾…é˜Ÿåˆ—ï¼‰æ¥&lt;strong&gt;ç®¡ç†è·å–é”å¤±è´¥çš„çº¿ç¨‹&lt;/strong&gt;ï¼Œå¹¶é€šè¿‡ä¸€ä¸ª&lt;strong&gt;åŸå­å˜é‡ state&lt;/strong&gt; æ¥&lt;strong&gt;è¡¨ç¤ºåŒæ­¥çŠ¶æ€&lt;/strong&gt;ï¼Œä»è€Œå®ç°å„ç§è‡ªå®šä¹‰åŒæ­¥å™¨ã€‚&lt;/p&gt;

&lt;h4 id=&quot;-1-æ ¸å¿ƒæ€æƒ³çŠ¶æ€--é˜Ÿåˆ—&quot;&gt;ğŸŒŸ 1. æ ¸å¿ƒæ€æƒ³ï¼šçŠ¶æ€ + é˜Ÿåˆ—&lt;/h4&gt;

&lt;p&gt;AQS çš„æ ¸å¿ƒæ˜¯ä¸¤ä¸ªéƒ¨åˆ†ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;state&lt;/strong&gt;ï¼šä¸€ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;volatile int state&lt;/code&gt; è¡¨ç¤ºå½“å‰çš„åŒæ­¥çŠ¶æ€ï¼Œæ¯”å¦‚ 0 è¡¨ç¤ºæœªåŠ é”ï¼Œ1 è¡¨ç¤ºå·²åŠ é”ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ç­‰å¾…é˜Ÿåˆ—ï¼ˆCLH é˜Ÿåˆ—ï¼‰&lt;/strong&gt;ï¼šçº¿ç¨‹è·å–é”å¤±è´¥åï¼Œä¼šè¢«å°è£…ä¸ºä¸€ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Node&lt;/code&gt; èŠ‚ç‚¹ï¼ŒåŠ å…¥åˆ°ä¸€ä¸ª &lt;strong&gt;FIFO åŒå‘é˜Ÿåˆ—&lt;/strong&gt; ä¸­ï¼Œå¹¶é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LockSupport.park()&lt;/code&gt; æŒ‚èµ·ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;-2-è·å–é”æµç¨‹ä»¥ç‹¬å ä¸ºä¾‹&quot;&gt;ğŸ” 2. è·å–é”æµç¨‹ï¼ˆä»¥ç‹¬å ä¸ºä¾‹ï¼‰ï¼š&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;çº¿ç¨‹è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;acquire()&lt;/code&gt; å°è¯•åŠ é”ï¼Œåº•å±‚ä¼šè°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tryAcquire()&lt;/code&gt;ã€‚&lt;/li&gt;
  &lt;li&gt;å¦‚æœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tryAcquire()&lt;/code&gt; å¤±è´¥ï¼Œå°±è¿›å…¥ç­‰å¾…é˜Ÿåˆ—ï¼Œå¹¶é˜»å¡å½“å‰çº¿ç¨‹ã€‚&lt;/li&gt;
  &lt;li&gt;å‰ä¸€ä¸ªçº¿ç¨‹é‡Šæ”¾é”æ—¶è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;release()&lt;/code&gt;ï¼Œåº•å±‚è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tryRelease()&lt;/code&gt; æˆåŠŸåå”¤é†’ä¸‹ä¸€ä¸ªçº¿ç¨‹ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;-3-aqs-æä¾›æ¨¡æ¿æ–¹æ³•å­ç±»è´Ÿè´£å®ç°&quot;&gt;ğŸ§± 3. AQS æä¾›æ¨¡æ¿æ–¹æ³•ï¼Œå­ç±»è´Ÿè´£å®ç°ï¼š&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
protected boolean tryAcquire(int arg);
protected boolean tryRelease(int arg);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¼€å‘è€…é€šè¿‡ç»§æ‰¿ AQS å¹¶å®ç°è¿™äº›æ–¹æ³•ï¼Œå¯ä»¥è‡ªå®šä¹‰åŒæ­¥å™¨çš„è¡Œä¸ºã€‚&lt;/p&gt;

&lt;h4 id=&quot;-4-æ”¯æŒä¸¤ç§æ¨¡å¼&quot;&gt;ğŸ“Œ 4. æ”¯æŒä¸¤ç§æ¨¡å¼ï¼š&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;ç‹¬å æ¨¡å¼ï¼ˆExclusiveï¼‰&lt;/strong&gt;ï¼šä¸€æ¬¡åªå…è®¸ä¸€ä¸ªçº¿ç¨‹è·å–èµ„æºï¼Œå¦‚ ReentrantLockã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;å…±äº«æ¨¡å¼ï¼ˆSharedï¼‰&lt;/strong&gt;ï¼šå¤šä¸ªçº¿ç¨‹å¯ä»¥å…±äº«èµ„æºï¼Œå¦‚ Semaphoreã€CountDownLatchã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;-5-å®é™…åº”ç”¨ä¸¾ä¾‹&quot;&gt;ğŸ“š 5. å®é™…åº”ç”¨ä¸¾ä¾‹ï¼š&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;ReentrantLockï¼šåŸºäº AQS çš„ç‹¬å æ¨¡å¼ã€‚&lt;/li&gt;
  &lt;li&gt;Semaphoreï¼šåŸºäºå…±äº«æ¨¡å¼æ§åˆ¶å¹¶å‘æ•°é‡ã€‚&lt;/li&gt;
  &lt;li&gt;CountDownLatchï¼šé€šè¿‡å…±äº«è®¡æ•°æ§åˆ¶çº¿ç¨‹ç­‰å¾…ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Java ä¸­å¾ˆå¤šåŒæ­¥å™¨éƒ½æ˜¯åŸºäº AQS å®ç°çš„ï¼š&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;åŒæ­¥å™¨&lt;/th&gt;
      &lt;th&gt;ä½¿ç”¨ AQS æ¨¡å¼&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;ReentrantLock&lt;/td&gt;
      &lt;td&gt;ç‹¬å &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Semaphore&lt;/td&gt;
      &lt;td&gt;å…±äº«&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;CountDownLatch&lt;/td&gt;
      &lt;td&gt;å…±äº«&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ReentrantReadWriteLock&lt;/td&gt;
      &lt;td&gt;è¯»å…±äº«ï¼Œå†™ç‹¬å &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;AbstractQueuedSynchronizer&lt;/td&gt;
      &lt;td&gt;è‡ªå®šä¹‰æ‰©å±•&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;</content><author><name>Fulong Ma</name></author><category term="Java" /><category term="Java" /><summary type="html">Javaå¹¶å‘åŒ…å’Œçº¿ç¨‹æ± </summary></entry><entry><title type="html">javaè™šæ‹Ÿæœºå¯¹è±¡æ¢ç§˜</title><link href="https://mafulong.github.io/2025/05/04/java%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AF%B9%E8%B1%A1%E6%8E%A2%E7%A7%98/" rel="alternate" type="text/html" title="javaè™šæ‹Ÿæœºå¯¹è±¡æ¢ç§˜" /><published>2025-05-04T00:00:00+08:00</published><updated>2025-05-04T00:00:00+08:00</updated><id>https://mafulong.github.io/2025/05/04/java%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AF%B9%E8%B1%A1%E6%8E%A2%E7%A7%98</id><content type="html" xml:base="https://mafulong.github.io/2025/05/04/java%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AF%B9%E8%B1%A1%E6%8E%A2%E7%A7%98/">&lt;h2 id=&quot;javaè™šæ‹Ÿæœºå¯¹è±¡æ¢ç§˜&quot;&gt;javaè™šæ‹Ÿæœºå¯¹è±¡æ¢ç§˜&lt;/h2&gt;

&lt;h2 id=&quot;hotspot-è™šæ‹Ÿæœºå¯¹è±¡æ¢ç§˜&quot;&gt;HotSpot è™šæ‹Ÿæœºå¯¹è±¡æ¢ç§˜&lt;/h2&gt;

&lt;p&gt;é€šè¿‡ä¸Šé¢çš„ä»‹ç»æˆ‘ä»¬å¤§æ¦‚çŸ¥é“äº†è™šæ‹Ÿæœºçš„å†…å­˜æƒ…å†µï¼Œä¸‹é¢æˆ‘ä»¬æ¥è¯¦ç»†çš„äº†è§£ä¸€ä¸‹ HotSpot è™šæ‹Ÿæœºåœ¨ Java å †ä¸­å¯¹è±¡åˆ†é…ã€å¸ƒå±€å’Œè®¿é—®çš„å…¨è¿‡ç¨‹ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å¯¹è±¡çš„åˆ›å»º&quot;&gt;&lt;a href=&quot;https://javaguide.cn/java/jvm/memory-area.html#å¯¹è±¡çš„åˆ›å»º&quot;&gt;å¯¹è±¡çš„åˆ›å»º&lt;/a&gt;&lt;/h3&gt;

&lt;p&gt;Java å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹æˆ‘å»ºè®®æœ€å¥½æ˜¯èƒ½é»˜å†™å‡ºæ¥ï¼Œå¹¶ä¸”è¦æŒæ¡æ¯ä¸€æ­¥åœ¨åšä»€ä¹ˆã€‚&lt;/p&gt;

&lt;h4 id=&quot;step1ç±»åŠ è½½æ£€æŸ¥&quot;&gt;Step1:ç±»åŠ è½½æ£€æŸ¥&lt;/h4&gt;

&lt;p&gt;è™šæ‹Ÿæœºé‡åˆ°ä¸€æ¡ new æŒ‡ä»¤æ—¶ï¼Œé¦–å…ˆå°†å»æ£€æŸ¥è¿™ä¸ªæŒ‡ä»¤çš„å‚æ•°æ˜¯å¦èƒ½åœ¨å¸¸é‡æ± ä¸­å®šä½åˆ°è¿™ä¸ªç±»çš„ç¬¦å·å¼•ç”¨ï¼Œå¹¶ä¸”æ£€æŸ¥è¿™ä¸ªç¬¦å·å¼•ç”¨ä»£è¡¨çš„ç±»æ˜¯å¦å·²è¢«åŠ è½½è¿‡ã€è§£æå’Œåˆå§‹åŒ–è¿‡ã€‚å¦‚æœæ²¡æœ‰ï¼Œé‚£å¿…é¡»å…ˆæ‰§è¡Œç›¸åº”çš„ç±»åŠ è½½è¿‡ç¨‹ã€‚&lt;/p&gt;

&lt;h4 id=&quot;step2åˆ†é…å†…å­˜&quot;&gt;&lt;a href=&quot;https://javaguide.cn/java/jvm/memory-area.html#step2-åˆ†é…å†…å­˜&quot;&gt;Step2:åˆ†é…å†…å­˜&lt;/a&gt;&lt;/h4&gt;

&lt;p&gt;åœ¨&lt;strong&gt;ç±»åŠ è½½æ£€æŸ¥&lt;/strong&gt;é€šè¿‡åï¼Œæ¥ä¸‹æ¥è™šæ‹Ÿæœºå°†ä¸ºæ–°ç”Ÿå¯¹è±¡&lt;strong&gt;åˆ†é…å†…å­˜&lt;/strong&gt;ã€‚å¯¹è±¡æ‰€éœ€çš„å†…å­˜å¤§å°åœ¨ç±»åŠ è½½å®Œæˆåä¾¿å¯ç¡®å®šï¼Œä¸ºå¯¹è±¡åˆ†é…ç©ºé—´çš„ä»»åŠ¡ç­‰åŒäºæŠŠä¸€å—ç¡®å®šå¤§å°çš„å†…å­˜ä» Java å †ä¸­åˆ’åˆ†å‡ºæ¥ã€‚&lt;strong&gt;åˆ†é…æ–¹å¼&lt;/strong&gt;æœ‰ &lt;strong&gt;â€œæŒ‡é’ˆç¢°æ’â€&lt;/strong&gt; å’Œ &lt;strong&gt;â€œç©ºé—²åˆ—è¡¨â€&lt;/strong&gt; ä¸¤ç§ï¼Œ&lt;strong&gt;é€‰æ‹©å“ªç§åˆ†é…æ–¹å¼ç”± Java å †æ˜¯å¦è§„æ•´å†³å®šï¼Œè€Œ Java å †æ˜¯å¦è§„æ•´åˆç”±æ‰€é‡‡ç”¨çš„åƒåœ¾æ”¶é›†å™¨æ˜¯å¦å¸¦æœ‰å‹ç¼©æ•´ç†åŠŸèƒ½å†³å®š&lt;/strong&gt;ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;å†…å­˜åˆ†é…çš„ä¸¤ç§æ–¹å¼&lt;/strong&gt; ï¼ˆè¡¥å……å†…å®¹ï¼Œéœ€è¦æŒæ¡ï¼‰ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;æŒ‡é’ˆç¢°æ’ï¼š
    &lt;ul&gt;
      &lt;li&gt;é€‚ç”¨åœºåˆï¼šå †å†…å­˜è§„æ•´ï¼ˆå³æ²¡æœ‰å†…å­˜ç¢ç‰‡ï¼‰çš„æƒ…å†µä¸‹ã€‚&lt;/li&gt;
      &lt;li&gt;åŸç†ï¼šç”¨è¿‡çš„å†…å­˜å…¨éƒ¨æ•´åˆåˆ°ä¸€è¾¹ï¼Œæ²¡æœ‰ç”¨è¿‡çš„å†…å­˜æ”¾åœ¨å¦ä¸€è¾¹ï¼Œä¸­é—´æœ‰ä¸€ä¸ªåˆ†ç•ŒæŒ‡é’ˆï¼Œåªéœ€è¦å‘ç€æ²¡ç”¨è¿‡çš„å†…å­˜æ–¹å‘å°†è¯¥æŒ‡é’ˆç§»åŠ¨å¯¹è±¡å†…å­˜å¤§å°ä½ç½®å³å¯ã€‚&lt;/li&gt;
      &lt;li&gt;ä½¿ç”¨è¯¥åˆ†é…æ–¹å¼çš„ GC æ”¶é›†å™¨ï¼šSerial, ParNew&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;ç©ºé—²åˆ—è¡¨ï¼š
    &lt;ul&gt;
      &lt;li&gt;é€‚ç”¨åœºåˆï¼šå †å†…å­˜ä¸è§„æ•´çš„æƒ…å†µä¸‹ã€‚&lt;/li&gt;
      &lt;li&gt;åŸç†ï¼šè™šæ‹Ÿæœºä¼šç»´æŠ¤ä¸€ä¸ªåˆ—è¡¨ï¼Œè¯¥åˆ—è¡¨ä¸­ä¼šè®°å½•å“ªäº›å†…å­˜å—æ˜¯å¯ç”¨çš„ï¼Œåœ¨åˆ†é…çš„æ—¶å€™ï¼Œæ‰¾ä¸€å—å„¿è¶³å¤Ÿå¤§çš„å†…å­˜å—å„¿æ¥åˆ’åˆ†ç»™å¯¹è±¡å®ä¾‹ï¼Œæœ€åæ›´æ–°åˆ—è¡¨è®°å½•ã€‚&lt;/li&gt;
      &lt;li&gt;ä½¿ç”¨è¯¥åˆ†é…æ–¹å¼çš„ GC æ”¶é›†å™¨ï¼šCMS&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;é€‰æ‹©ä»¥ä¸Šä¸¤ç§æ–¹å¼ä¸­çš„å“ªä¸€ç§ï¼Œå–å†³äº Java å †å†…å­˜æ˜¯å¦è§„æ•´ã€‚è€Œ Java å †å†…å­˜æ˜¯å¦è§„æ•´ï¼Œå–å†³äº GC æ”¶é›†å™¨çš„ç®—æ³•æ˜¯â€æ ‡è®°-æ¸…é™¤â€ï¼Œè¿˜æ˜¯â€æ ‡è®°-æ•´ç†â€ï¼ˆä¹Ÿç§°ä½œâ€æ ‡è®°-å‹ç¼©â€ï¼‰ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¤åˆ¶ç®—æ³•å†…å­˜ä¹Ÿæ˜¯è§„æ•´çš„ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;å†…å­˜åˆ†é…å¹¶å‘é—®é¢˜ï¼ˆè¡¥å……å†…å®¹ï¼Œéœ€è¦æŒæ¡ï¼‰&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;åœ¨åˆ›å»ºå¯¹è±¡çš„æ—¶å€™æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„é—®é¢˜ï¼Œå°±æ˜¯çº¿ç¨‹å®‰å…¨ï¼Œå› ä¸ºåœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œåˆ›å»ºå¯¹è±¡æ˜¯å¾ˆé¢‘ç¹çš„äº‹æƒ…ï¼Œä½œä¸ºè™šæ‹Ÿæœºæ¥è¯´ï¼Œå¿…é¡»è¦ä¿è¯çº¿ç¨‹æ˜¯å®‰å…¨çš„ï¼Œé€šå¸¸æ¥è®²ï¼Œè™šæ‹Ÿæœºé‡‡ç”¨ä¸¤ç§æ–¹å¼æ¥ä¿è¯çº¿ç¨‹å®‰å…¨ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;CAS+å¤±è´¥é‡è¯•ï¼š&lt;/strong&gt; CAS æ˜¯ä¹è§‚é”çš„ä¸€ç§å®ç°æ–¹å¼ã€‚æ‰€è°“ä¹è§‚é”å°±æ˜¯ï¼Œæ¯æ¬¡ä¸åŠ é”è€Œæ˜¯å‡è®¾æ²¡æœ‰å†²çªè€Œå»å®ŒæˆæŸé¡¹æ“ä½œï¼Œå¦‚æœå› ä¸ºå†²çªå¤±è´¥å°±é‡è¯•ï¼Œç›´åˆ°æˆåŠŸä¸ºæ­¢ã€‚&lt;strong&gt;è™šæ‹Ÿæœºé‡‡ç”¨ CAS é…ä¸Šå¤±è´¥é‡è¯•çš„æ–¹å¼ä¿è¯æ›´æ–°æ“ä½œçš„åŸå­æ€§ã€‚&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;TLABï¼š&lt;/strong&gt; ä¸ºæ¯ä¸€ä¸ªçº¿ç¨‹é¢„å…ˆåœ¨ Eden åŒºåˆ†é…ä¸€å—å„¿å†…å­˜ï¼ŒJVM åœ¨ç»™çº¿ç¨‹ä¸­çš„å¯¹è±¡åˆ†é…å†…å­˜æ—¶ï¼Œé¦–å…ˆåœ¨ TLAB åˆ†é…ï¼Œå½“å¯¹è±¡å¤§äº TLAB ä¸­çš„å‰©ä½™å†…å­˜æˆ– TLAB çš„å†…å­˜å·²ç”¨å°½æ—¶ï¼Œå†é‡‡ç”¨ä¸Šè¿°çš„ CAS è¿›è¡Œå†…å­˜åˆ†é…&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;step3åˆå§‹åŒ–é›¶å€¼&quot;&gt;&lt;a href=&quot;https://javaguide.cn/java/jvm/memory-area.html#step3-åˆå§‹åŒ–é›¶å€¼&quot;&gt;Step3:åˆå§‹åŒ–é›¶å€¼&lt;/a&gt;&lt;/h4&gt;

&lt;p&gt;å†…å­˜åˆ†é…å®Œæˆåï¼Œè™šæ‹Ÿæœºéœ€è¦å°†åˆ†é…åˆ°çš„å†…å­˜ç©ºé—´éƒ½åˆå§‹åŒ–ä¸ºé›¶å€¼ï¼ˆä¸åŒ…æ‹¬å¯¹è±¡å¤´ï¼‰ï¼Œè¿™ä¸€æ­¥æ“ä½œä¿è¯äº†å¯¹è±¡çš„å®ä¾‹å­—æ®µåœ¨ Java ä»£ç ä¸­å¯ä»¥ä¸èµ‹åˆå§‹å€¼å°±ç›´æ¥ä½¿ç”¨ï¼Œç¨‹åºèƒ½è®¿é—®åˆ°è¿™äº›å­—æ®µçš„æ•°æ®ç±»å‹æ‰€å¯¹åº”çš„é›¶å€¼ã€‚&lt;/p&gt;

&lt;h4 id=&quot;step4è®¾ç½®å¯¹è±¡å¤´&quot;&gt;&lt;a href=&quot;https://javaguide.cn/java/jvm/memory-area.html#step4-è®¾ç½®å¯¹è±¡å¤´&quot;&gt;Step4:è®¾ç½®å¯¹è±¡å¤´&lt;/a&gt;&lt;/h4&gt;

&lt;p&gt;åˆå§‹åŒ–é›¶å€¼å®Œæˆä¹‹åï¼Œ&lt;strong&gt;è™šæ‹Ÿæœºè¦å¯¹å¯¹è±¡è¿›è¡Œå¿…è¦çš„è®¾ç½®&lt;/strong&gt;ï¼Œä¾‹å¦‚è¿™ä¸ªå¯¹è±¡æ˜¯å“ªä¸ªç±»çš„å®ä¾‹ã€å¦‚ä½•æ‰èƒ½æ‰¾åˆ°ç±»çš„å…ƒæ•°æ®ä¿¡æ¯ã€å¯¹è±¡çš„å“ˆå¸Œç ã€å¯¹è±¡çš„ GC åˆ†ä»£å¹´é¾„ç­‰ä¿¡æ¯ã€‚ &lt;strong&gt;è¿™äº›ä¿¡æ¯å­˜æ”¾åœ¨å¯¹è±¡å¤´ä¸­ã€‚&lt;/strong&gt; å¦å¤–ï¼Œæ ¹æ®è™šæ‹Ÿæœºå½“å‰è¿è¡ŒçŠ¶æ€çš„ä¸åŒï¼Œå¦‚æ˜¯å¦å¯ç”¨åå‘é”ç­‰ï¼Œå¯¹è±¡å¤´ä¼šæœ‰ä¸åŒçš„è®¾ç½®æ–¹å¼ã€‚&lt;/p&gt;

&lt;h4 id=&quot;step5æ‰§è¡Œ-init-æ–¹æ³•&quot;&gt;&lt;a href=&quot;https://javaguide.cn/java/jvm/memory-area.html#step5-æ‰§è¡Œ-init-æ–¹æ³•&quot;&gt;Step5:æ‰§è¡Œ init æ–¹æ³•&lt;/a&gt;&lt;/h4&gt;

&lt;p&gt;åœ¨ä¸Šé¢å·¥ä½œéƒ½å®Œæˆä¹‹åï¼Œä»è™šæ‹Ÿæœºçš„è§†è§’æ¥çœ‹ï¼Œä¸€ä¸ªæ–°çš„å¯¹è±¡å·²ç»äº§ç”Ÿäº†ï¼Œä½†ä» Java ç¨‹åºçš„è§†è§’æ¥çœ‹ï¼Œå¯¹è±¡åˆ›å»ºæ‰åˆšå¼€å§‹ï¼Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;init&amp;gt;&lt;/code&gt; æ–¹æ³•è¿˜æ²¡æœ‰æ‰§è¡Œï¼Œæ‰€æœ‰çš„å­—æ®µéƒ½è¿˜ä¸ºé›¶ã€‚æ‰€ä»¥ä¸€èˆ¬æ¥è¯´ï¼Œæ‰§è¡Œ new æŒ‡ä»¤ä¹‹åä¼šæ¥ç€æ‰§è¡Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;init&amp;gt;&lt;/code&gt; æ–¹æ³•ï¼ŒæŠŠå¯¹è±¡æŒ‰ç…§ç¨‹åºå‘˜çš„æ„æ„¿è¿›è¡Œåˆå§‹åŒ–ï¼Œè¿™æ ·ä¸€ä¸ªçœŸæ­£å¯ç”¨çš„å¯¹è±¡æ‰ç®—å®Œå…¨äº§ç”Ÿå‡ºæ¥ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å¯¹è±¡çš„å†…å­˜å¸ƒå±€&quot;&gt;&lt;a href=&quot;https://javaguide.cn/java/jvm/memory-area.html#å¯¹è±¡çš„å†…å­˜å¸ƒå±€&quot;&gt;å¯¹è±¡çš„å†…å­˜å¸ƒå±€&lt;/a&gt;&lt;/h3&gt;

&lt;p&gt;åœ¨ Hotspot è™šæ‹Ÿæœºä¸­ï¼Œå¯¹è±¡åœ¨å†…å­˜ä¸­çš„å¸ƒå±€å¯ä»¥åˆ†ä¸º 3 å—åŒºåŸŸï¼š&lt;strong&gt;å¯¹è±¡å¤´ï¼ˆHeaderï¼‰&lt;/strong&gt;ã€&lt;strong&gt;å®ä¾‹æ•°æ®ï¼ˆInstance Dataï¼‰*&lt;em&gt;å’Œ*&lt;/em&gt;å¯¹é½å¡«å……ï¼ˆPaddingï¼‰&lt;/strong&gt;ã€‚&lt;/p&gt;

&lt;p&gt;å¯¹è±¡å¤´åŒ…æ‹¬ä¸¤éƒ¨åˆ†ä¿¡æ¯ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;æ ‡è®°å­—æ®µï¼ˆMark Wordï¼‰ï¼šç”¨äºå­˜å‚¨å¯¹è±¡è‡ªèº«çš„è¿è¡Œæ—¶æ•°æ®ï¼Œ å¦‚å“ˆå¸Œç ï¼ˆHashCodeï¼‰ã€GC åˆ†ä»£å¹´é¾„ã€é”çŠ¶æ€æ ‡å¿—ã€çº¿ç¨‹æŒæœ‰çš„é”ã€åå‘çº¿ç¨‹ IDã€åå‘æ—¶é—´æˆ³ç­‰ç­‰ã€‚&lt;/li&gt;
  &lt;li&gt;ç±»å‹æŒ‡é’ˆï¼ˆKlass pointerï¼‰ï¼šå¯¹è±¡æŒ‡å‘å®ƒçš„ç±»å…ƒæ•°æ®çš„æŒ‡é’ˆï¼Œè™šæ‹Ÿæœºé€šè¿‡è¿™ä¸ªæŒ‡é’ˆæ¥ç¡®å®šè¿™ä¸ªå¯¹è±¡æ˜¯å“ªä¸ªç±»çš„å®ä¾‹ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;strong&gt;å®ä¾‹æ•°æ®éƒ¨åˆ†æ˜¯å¯¹è±¡çœŸæ­£å­˜å‚¨çš„æœ‰æ•ˆä¿¡æ¯&lt;/strong&gt;ï¼Œä¹Ÿæ˜¯åœ¨ç¨‹åºä¸­æ‰€å®šä¹‰çš„å„ç§ç±»å‹çš„å­—æ®µå†…å®¹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;å¯¹é½å¡«å……éƒ¨åˆ†ä¸æ˜¯å¿…ç„¶å­˜åœ¨çš„ï¼Œä¹Ÿæ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„å«ä¹‰ï¼Œä»…ä»…èµ·å ä½ä½œç”¨ã€‚&lt;/strong&gt; å› ä¸º Hotspot è™šæ‹Ÿæœºçš„è‡ªåŠ¨å†…å­˜ç®¡ç†ç³»ç»Ÿè¦æ±‚å¯¹è±¡èµ·å§‹åœ°å€å¿…é¡»æ˜¯ 8 å­—èŠ‚çš„æ•´æ•°å€ï¼Œæ¢å¥è¯è¯´å°±æ˜¯å¯¹è±¡çš„å¤§å°å¿…é¡»æ˜¯ 8 å­—èŠ‚çš„æ•´æ•°å€ã€‚è€Œå¯¹è±¡å¤´éƒ¨åˆ†æ­£å¥½æ˜¯ 8 å­—èŠ‚çš„å€æ•°ï¼ˆ1 å€æˆ– 2 å€ï¼‰ï¼Œå› æ­¤ï¼Œå½“å¯¹è±¡å®ä¾‹æ•°æ®éƒ¨åˆ†æ²¡æœ‰å¯¹é½æ—¶ï¼Œå°±éœ€è¦é€šè¿‡å¯¹é½å¡«å……æ¥è¡¥å…¨ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å¯¹è±¡çš„è®¿é—®å®šä½&quot;&gt;&lt;a href=&quot;https://javaguide.cn/java/jvm/memory-area.html#å¯¹è±¡çš„è®¿é—®å®šä½&quot;&gt;å¯¹è±¡çš„è®¿é—®å®šä½&lt;/a&gt;&lt;/h3&gt;

&lt;p&gt;å»ºç«‹å¯¹è±¡å°±æ˜¯ä¸ºäº†ä½¿ç”¨å¯¹è±¡ï¼Œæˆ‘ä»¬çš„ Java ç¨‹åºé€šè¿‡æ ˆä¸Šçš„ reference æ•°æ®æ¥æ“ä½œå †ä¸Šçš„å…·ä½“å¯¹è±¡ã€‚å¯¹è±¡çš„è®¿é—®æ–¹å¼ç”±è™šæ‹Ÿæœºå®ç°è€Œå®šï¼Œç›®å‰ä¸»æµçš„è®¿é—®æ–¹å¼æœ‰ï¼š&lt;strong&gt;ä½¿ç”¨å¥æŸ„&lt;/strong&gt;ã€&lt;strong&gt;ç›´æ¥æŒ‡é’ˆ&lt;/strong&gt;ã€‚&lt;/p&gt;

&lt;h4 id=&quot;å¥æŸ„&quot;&gt;&lt;a href=&quot;https://javaguide.cn/java/jvm/memory-area.html#å¥æŸ„&quot;&gt;å¥æŸ„&lt;/a&gt;&lt;/h4&gt;

&lt;p&gt;å¦‚æœä½¿ç”¨å¥æŸ„çš„è¯ï¼Œé‚£ä¹ˆ Java å †ä¸­å°†ä¼šåˆ’åˆ†å‡ºä¸€å—å†…å­˜æ¥ä½œä¸ºå¥æŸ„æ± ï¼Œreference ä¸­å­˜å‚¨çš„å°±æ˜¯å¯¹è±¡çš„å¥æŸ„åœ°å€ï¼Œè€Œå¥æŸ„ä¸­åŒ…å«äº†å¯¹è±¡å®ä¾‹æ•°æ®ä¸å¯¹è±¡ç±»å‹æ•°æ®å„è‡ªçš„å…·ä½“åœ°å€ä¿¡æ¯ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/mafulong/mdPic@vv6/v6/202505042102847.png&quot; alt=&quot;å¯¹è±¡çš„è®¿é—®å®šä½-ä½¿ç”¨å¥æŸ„&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;ç›´æ¥æŒ‡é’ˆ&quot;&gt;&lt;a href=&quot;https://javaguide.cn/java/jvm/memory-area.html#ç›´æ¥æŒ‡é’ˆ&quot;&gt;ç›´æ¥æŒ‡é’ˆ&lt;/a&gt;&lt;/h4&gt;

&lt;p&gt;å¦‚æœä½¿ç”¨ç›´æ¥æŒ‡é’ˆè®¿é—®ï¼Œreference ä¸­å­˜å‚¨çš„ç›´æ¥å°±æ˜¯å¯¹è±¡çš„åœ°å€ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/mafulong/mdPic@vv6/v6/202505042102873.png&quot; alt=&quot;å¯¹è±¡çš„è®¿é—®å®šä½-ç›´æ¥æŒ‡é’ˆ&quot; /&gt;&lt;/p&gt;

&lt;p&gt;è¿™ä¸¤ç§å¯¹è±¡è®¿é—®æ–¹å¼å„æœ‰ä¼˜åŠ¿ã€‚ä½¿ç”¨å¥æŸ„æ¥è®¿é—®çš„æœ€å¤§å¥½å¤„æ˜¯ reference ä¸­å­˜å‚¨çš„æ˜¯ç¨³å®šçš„å¥æŸ„åœ°å€ï¼Œåœ¨å¯¹è±¡è¢«ç§»åŠ¨æ—¶åªä¼šæ”¹å˜å¥æŸ„ä¸­çš„å®ä¾‹æ•°æ®æŒ‡é’ˆï¼Œè€Œ reference æœ¬èº«ä¸éœ€è¦ä¿®æ”¹ã€‚ä½¿ç”¨ç›´æ¥æŒ‡é’ˆè®¿é—®æ–¹å¼æœ€å¤§çš„å¥½å¤„å°±æ˜¯é€Ÿåº¦å¿«ï¼Œå®ƒèŠ‚çœäº†ä¸€æ¬¡æŒ‡é’ˆå®šä½çš„æ—¶é—´å¼€é”€ã€‚&lt;/p&gt;

&lt;p&gt;HotSpot è™šæ‹Ÿæœºä¸»è¦ä½¿ç”¨çš„å°±æ˜¯è¿™ç§æ–¹å¼æ¥è¿›è¡Œå¯¹è±¡è®¿é—®ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;å¤§å¤šæ•°ç°ä»£ HotSpot JVM é»˜è®¤ä½¿ç”¨çš„æ˜¯â€œç›´æ¥æŒ‡é’ˆâ€æ–¹å¼ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;åŸå› å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;è®¿é—®é€Ÿåº¦æ›´å¿«&lt;/strong&gt;ï¼šçœå»äº†é€šè¿‡å¥æŸ„çš„é—´æ¥å¯»å€ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ç°ä»£ JVM ä¼˜åŒ– GC æ—¶å¯¹å¯¹è±¡ç§»åŠ¨æœ‰æ›´å¼ºçš„æ§åˆ¶èƒ½åŠ›ï¼Œå› æ­¤å¥æŸ„å¸¦æ¥çš„çµæ´»æ€§ä¼˜åŠ¿å˜å°äº†ã€‚&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Fulong Ma</name></author><category term="Java" /><category term="Java" /><summary type="html">javaè™šæ‹Ÿæœºå¯¹è±¡æ¢ç§˜</summary></entry><entry><title type="html">å°è¯´ä¸‹è½½</title><link href="https://mafulong.github.io/2025/05/04/%E5%B0%8F%E8%AF%B4%E4%B8%8B%E8%BD%BD/" rel="alternate" type="text/html" title="å°è¯´ä¸‹è½½" /><published>2025-05-04T00:00:00+08:00</published><updated>2025-05-04T00:00:00+08:00</updated><id>https://mafulong.github.io/2025/05/04/%E5%B0%8F%E8%AF%B4%E4%B8%8B%E8%BD%BD</id><content type="html" xml:base="https://mafulong.github.io/2025/05/04/%E5%B0%8F%E8%AF%B4%E4%B8%8B%E8%BD%BD/">&lt;h2 id=&quot;å°è¯´ä¸‹è½½&quot;&gt;å°è¯´ä¸‹è½½&lt;/h2&gt;

&lt;h2 id=&quot;å°è¯´æ ¼å¼&quot;&gt;å°è¯´æ ¼å¼&lt;/h2&gt;

&lt;p&gt;equb &amp;gt; mobi &amp;gt; txt.&lt;/p&gt;

&lt;p&gt;mobiå¥½å¤„æ˜¯ç›¸æ¯”equbæ›´è½»é‡çº§ï¼Œä¸€èˆ¬kindleåœ¨ä½¿ç”¨ã€‚ç›´æ¥mobiå³å¯ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å°è¯´ä¸‹è½½-1&quot;&gt;å°è¯´ä¸‹è½½&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;æ¨è  https://github.com/freeok/so-novel&lt;/li&gt;
  &lt;li&gt;https://github.com/uncle-novel/uncle-novel&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Fulong Ma</name></author><category term="Tools" /><category term="Tools" /><summary type="html">å°è¯´ä¸‹è½½</summary></entry><entry><title type="html">javaåƒåœ¾å›æ”¶</title><link href="https://mafulong.github.io/2025/05/03/java%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/" rel="alternate" type="text/html" title="javaåƒåœ¾å›æ”¶" /><published>2025-05-03T00:00:00+08:00</published><updated>2025-05-03T00:00:00+08:00</updated><id>https://mafulong.github.io/2025/05/03/java%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6</id><content type="html" xml:base="https://mafulong.github.io/2025/05/03/java%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/">&lt;h2 id=&quot;javaåƒåœ¾å›æ”¶&quot;&gt;javaåƒåœ¾å›æ”¶&lt;/h2&gt;

&lt;p&gt;åƒåœ¾æ”¶é›†ä¸»è¦æ˜¯é’ˆå¯¹å †å’Œæ–¹æ³•åŒºè¿›è¡Œã€‚ç¨‹åºè®¡æ•°å™¨ã€è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆè¿™ä¸‰ä¸ªåŒºåŸŸå±äºçº¿ç¨‹ç§æœ‰çš„ï¼Œåªå­˜åœ¨äºçº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸå†…ï¼Œçº¿ç¨‹ç»“æŸä¹‹åå°±ä¼šæ¶ˆå¤±ï¼Œå› æ­¤ä¸éœ€è¦å¯¹è¿™ä¸‰ä¸ªåŒºåŸŸè¿›è¡Œåƒåœ¾å›æ”¶ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å¼•ç”¨ç±»å‹&quot;&gt;å¼•ç”¨ç±»å‹&lt;/h2&gt;

&lt;p&gt;æ— è®ºæ˜¯é€šè¿‡å¼•ç”¨è®¡æ•°ç®—æ³•åˆ¤æ–­å¯¹è±¡çš„å¼•ç”¨æ•°é‡ï¼Œè¿˜æ˜¯é€šè¿‡å¯è¾¾æ€§åˆ†æç®—æ³•åˆ¤æ–­å¯¹è±¡æ˜¯å¦å¯è¾¾ï¼Œåˆ¤å®šå¯¹è±¡æ˜¯å¦å¯è¢«å›æ”¶éƒ½ä¸å¼•ç”¨æœ‰å…³ã€‚&lt;/p&gt;

&lt;p&gt;Java æä¾›äº†å››ç§å¼ºåº¦ä¸åŒçš„å¼•ç”¨ç±»å‹ã€‚&lt;/p&gt;

&lt;h4 id=&quot;1-å¼ºå¼•ç”¨&quot;&gt;1. å¼ºå¼•ç”¨&lt;/h4&gt;

&lt;p&gt;è¢«å¼ºå¼•ç”¨å…³è”çš„å¯¹è±¡ä¸ä¼šè¢«å›æ”¶ã€‚&lt;/p&gt;

&lt;p&gt;ä½¿ç”¨ new ä¸€ä¸ªæ–°å¯¹è±¡çš„æ–¹å¼æ¥åˆ›å»ºå¼ºå¼•ç”¨ã€‚&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;2-è½¯å¼•ç”¨&quot;&gt;2. è½¯å¼•ç”¨&lt;/h4&gt;

&lt;p&gt;è¢«è½¯å¼•ç”¨å…³è”çš„å¯¹è±¡åªæœ‰åœ¨å†…å­˜ä¸å¤Ÿçš„æƒ…å†µä¸‹æ‰ä¼šè¢«å›æ”¶ã€‚&lt;/p&gt;

&lt;p&gt;ä½¿ç”¨ SoftReference ç±»æ¥åˆ›å»ºè½¯å¼•ç”¨ã€‚&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;SoftReference&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;SoftReference&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;// ä½¿å¯¹è±¡åªè¢«è½¯å¼•ç”¨å…³è”&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;3-å¼±å¼•ç”¨&quot;&gt;3. å¼±å¼•ç”¨&lt;/h4&gt;

&lt;p&gt;è¢«å¼±å¼•ç”¨å…³è”çš„å¯¹è±¡ä¸€å®šä¼šè¢«å›æ”¶ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒåªèƒ½å­˜æ´»åˆ°ä¸‹ä¸€æ¬¡åƒåœ¾å›æ”¶å‘ç”Ÿä¹‹å‰ã€‚&lt;/p&gt;

&lt;p&gt;ä½¿ç”¨ WeakReference ç±»æ¥åˆ›å»ºå¼±å¼•ç”¨ã€‚&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;WeakReference&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;WeakReference&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;4-è™šå¼•ç”¨&quot;&gt;4. è™šå¼•ç”¨&lt;/h4&gt;

&lt;p&gt;åˆç§°ä¸ºå¹½çµå¼•ç”¨æˆ–è€…å¹»å½±å¼•ç”¨ï¼Œä¸€ä¸ªå¯¹è±¡æ˜¯å¦æœ‰è™šå¼•ç”¨çš„å­˜åœ¨ï¼Œä¸ä¼šå¯¹å…¶ç”Ÿå­˜æ—¶é—´é€ æˆå½±å“ï¼Œä¹Ÿæ— æ³•é€šè¿‡è™šå¼•ç”¨å¾—åˆ°ä¸€ä¸ªå¯¹è±¡ã€‚&lt;/p&gt;

&lt;p&gt;ä¸ºä¸€ä¸ªå¯¹è±¡è®¾ç½®è™šå¼•ç”¨çš„å”¯ä¸€ç›®çš„æ˜¯èƒ½åœ¨è¿™ä¸ªå¯¹è±¡è¢«å›æ”¶æ—¶æ”¶åˆ°ä¸€ä¸ªç³»ç»Ÿé€šçŸ¥ã€‚&lt;/p&gt;

&lt;p&gt;ä½¿ç”¨ PhantomReference æ¥åˆ›å»ºè™šå¼•ç”¨ã€‚&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;PhantomReference&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;PhantomReference&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;åƒåœ¾å›æ”¶&quot;&gt;åƒåœ¾å›æ”¶&lt;/h2&gt;

&lt;p&gt;ç°åœ¨çš„å•†ä¸šè™šæ‹Ÿæœºé‡‡ç”¨åˆ†ä»£æ”¶é›†ç®—æ³•ï¼Œå®ƒæ ¹æ®å¯¹è±¡å­˜æ´»å‘¨æœŸå°†å†…å­˜åˆ’åˆ†ä¸ºå‡ å—ï¼Œä¸åŒå—é‡‡ç”¨é€‚å½“çš„æ”¶é›†ç®—æ³•ã€‚&lt;/p&gt;

&lt;p&gt;ä¸€èˆ¬å°†å †åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;æ–°ç”Ÿä»£ä½¿ç”¨ï¼šå¤åˆ¶ç®—æ³•&lt;/li&gt;
  &lt;li&gt;è€å¹´ä»£ä½¿ç”¨ï¼šæ ‡è®° - æ¸…é™¤ æˆ–è€… æ ‡è®° - æ•´ç† ç®—æ³•&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;åƒåœ¾æ”¶é›†å™¨&quot;&gt;åƒåœ¾æ”¶é›†å™¨&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/mafulong/mdPic@vv6/v6/202505031212304.jpg&quot; alt=&quot;img&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ä»¥ä¸Šæ˜¯ HotSpot è™šæ‹Ÿæœºä¸­çš„ 7 ä¸ªåƒåœ¾æ”¶é›†å™¨ï¼Œè¿çº¿è¡¨ç¤ºåƒåœ¾æ”¶é›†å™¨å¯ä»¥é…åˆä½¿ç”¨ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;å•çº¿ç¨‹ä¸å¤šçº¿ç¨‹ï¼šå•çº¿ç¨‹æŒ‡çš„æ˜¯åƒåœ¾æ”¶é›†å™¨åªä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹ï¼Œè€Œå¤šçº¿ç¨‹ä½¿ç”¨å¤šä¸ªçº¿ç¨‹ï¼›&lt;/li&gt;
  &lt;li&gt;ä¸²è¡Œä¸å¹¶è¡Œï¼šä¸²è¡ŒæŒ‡çš„æ˜¯åƒåœ¾æ”¶é›†å™¨ä¸ç”¨æˆ·ç¨‹åºäº¤æ›¿æ‰§è¡Œï¼Œè¿™æ„å‘³ç€åœ¨æ‰§è¡Œåƒåœ¾æ”¶é›†çš„æ—¶å€™éœ€è¦åœé¡¿ç”¨æˆ·ç¨‹åºï¼›å¹¶è¡ŒæŒ‡çš„æ˜¯åƒåœ¾æ”¶é›†å™¨å’Œç”¨æˆ·ç¨‹åºåŒæ—¶æ‰§è¡Œã€‚é™¤äº† CMS å’Œ G1 ä¹‹å¤–ï¼Œå…¶å®ƒåƒåœ¾æ”¶é›†å™¨éƒ½æ˜¯ä»¥ä¸²è¡Œçš„æ–¹å¼æ‰§è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ç»†èŠ‚å‚è€ƒ &lt;a href=&quot;http://www.cyc2018.xyz/Java/Java%20%E8%99%9A%E6%8B%9F%E6%9C%BA.html#%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E7%AE%97%E6%B3%95&quot;&gt;link&lt;/a&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;æ”¶é›†å™¨&lt;/th&gt;
      &lt;th&gt;æ–°ç”Ÿä»£ / è€å¹´ä»£&lt;/th&gt;
      &lt;th&gt;æ˜¯å¦å¹¶å‘&lt;/th&gt;
      &lt;th&gt;æ˜¯å¦å‹ç¼©æ•´ç†&lt;/th&gt;
      &lt;th&gt;æš‚åœæ—¶é—´&lt;/th&gt;
      &lt;th&gt;ä½¿ç”¨åœºæ™¯&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Serial&lt;/td&gt;
      &lt;td&gt;æ˜¯ / æ˜¯&lt;/td&gt;
      &lt;td&gt;å¦&lt;/td&gt;
      &lt;td&gt;æ˜¯&lt;/td&gt;
      &lt;td&gt;é«˜&lt;/td&gt;
      &lt;td&gt;å°å†…å­˜ã€å•æ ¸åœºæ™¯ï¼ˆå¦‚å®¢æˆ·ç«¯ï¼‰&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Parallel&lt;/td&gt;
      &lt;td&gt;æ˜¯ / æ˜¯&lt;/td&gt;
      &lt;td&gt;å¦&lt;/td&gt;
      &lt;td&gt;æ˜¯&lt;/td&gt;
      &lt;td&gt;ä¸­&lt;/td&gt;
      &lt;td&gt;ååä¼˜å…ˆåœºæ™¯ï¼Œå¦‚æ‰¹å¤„ç†&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;CMS&lt;/td&gt;
      &lt;td&gt;æ˜¯ / æ˜¯&lt;/td&gt;
      &lt;td&gt;éƒ¨åˆ†å¹¶å‘&lt;/td&gt;
      &lt;td&gt;å¦&lt;/td&gt;
      &lt;td&gt;ä½&lt;/td&gt;
      &lt;td&gt;ä½å»¶è¿Ÿè¦æ±‚ï¼Œä½† JDK9 èµ·åºŸå¼ƒ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;G1&lt;/td&gt;
      &lt;td&gt;æ˜¯ / æ˜¯ï¼ˆRegionï¼‰&lt;/td&gt;
      &lt;td&gt;æ˜¯&lt;/td&gt;
      &lt;td&gt;æ˜¯ï¼ˆå¹¶å‘æ•´ç†ï¼‰&lt;/td&gt;
      &lt;td&gt;ä¸­ä½&lt;/td&gt;
      &lt;td&gt;æ¨èï¼Œé»˜è®¤ GCï¼Œé€‚åˆå¤§å¤šæ•°æœåŠ¡ç«¯åº”ç”¨&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ZGC&lt;/td&gt;
      &lt;td&gt;æ˜¯ / æ˜¯ï¼ˆRegionï¼‰&lt;/td&gt;
      &lt;td&gt;å…¨å¹¶å‘&lt;/td&gt;
      &lt;td&gt;æ˜¯&lt;/td&gt;
      &lt;td&gt;æä½&lt;/td&gt;
      &lt;td&gt;è¶…ä½å»¶è¿Ÿï¼Œå¤§å†…å­˜åº”ç”¨ï¼ŒJDK11+&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Shenandoah&lt;/td&gt;
      &lt;td&gt;æ˜¯ / æ˜¯ï¼ˆRegionï¼‰&lt;/td&gt;
      &lt;td&gt;å…¨å¹¶å‘&lt;/td&gt;
      &lt;td&gt;æ˜¯&lt;/td&gt;
      &lt;td&gt;æä½&lt;/td&gt;
      &lt;td&gt;RedHat ä¸»æ¨ï¼Œç±»ä¼¼ ZGCï¼Œé€‚åˆä½å»¶è¿Ÿ&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Serial&lt;/strong&gt; ç®€å•ã€ä½èµ„æºï¼›&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Parallel&lt;/strong&gt; é«˜ååï¼›&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;CMS&lt;/strong&gt; åœé¡¿çŸ­ä½†å®¹æ˜“ç¢ç‰‡ï¼›&lt;strong&gt;CMS&lt;/strong&gt; ä¸å»ºè®®ä½¿ç”¨ï¼ŒG1 æ˜¯æ¨èæ›¿ä»£æ–¹æ¡ˆã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;G1&lt;/strong&gt; å¹³è¡¡å‹ã€é€‚ç”¨äºå¤§å¤šæ•°æœåŠ¡ç«¯ï¼›&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ZGC/Shenandoah&lt;/strong&gt; é¢å‘è¶…ä½å»¶è¿Ÿåœºæ™¯ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;CMS å’Œ G1 æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;å¯¹æ¯”é¡¹&lt;/th&gt;
      &lt;th&gt;CMS&lt;/th&gt;
      &lt;th&gt;G1&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;å†…å­˜ç»“æ„&lt;/td&gt;
      &lt;td&gt;æ–°ç”Ÿä»£ + è€å¹´ä»£&lt;/td&gt;
      &lt;td&gt;Region åŠ¨æ€åˆ†é…&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;å¹¶å‘æ€§&lt;/td&gt;
      &lt;td&gt;å¹¶å‘æ ‡è®°&lt;/td&gt;
      &lt;td&gt;å¹¶å‘æ ‡è®° + å‹ç¼©&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ç¢ç‰‡é—®é¢˜&lt;/td&gt;
      &lt;td&gt;æœ‰&lt;/td&gt;
      &lt;td&gt;æ— &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ååé‡&lt;/td&gt;
      &lt;td&gt;ä¸­&lt;/td&gt;
      &lt;td&gt;ä¸­é«˜&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;å·²åºŸå¼ƒ&lt;/td&gt;
      &lt;td&gt;æ˜¯&lt;/td&gt;
      &lt;td&gt;å¦ï¼ˆé»˜è®¤ï¼‰&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;STW æ˜¯ JVM åœ¨æŸäº› GC é˜¶æ®µéœ€è¦ &lt;strong&gt;æš‚åœæ‰€æœ‰ç”¨æˆ·çº¿ç¨‹&lt;/strong&gt;ã€‚ä¸ºäº†å‡å°‘å½±å“ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ä½¿ç”¨å¹¶å‘æ”¶é›†å™¨ï¼ˆå¦‚ G1ã€ZGCï¼‰&lt;/li&gt;
  &lt;li&gt;è®¾ç½®åˆç†å‚æ•°ï¼ˆå¦‚ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MaxGCPauseMillis&lt;/code&gt;ï¼‰&lt;/li&gt;
  &lt;li&gt;å‡å°‘å¤§å¯¹è±¡å’Œé¢‘ç¹åˆ†é…&lt;/li&gt;
  &lt;li&gt;ä½¿ç”¨ GC æ—¥å¿—åˆ†æ GC æ¬¡æ•°ä¸è€—æ—¶&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;GCå¡é¡¿æ’æŸ¥&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;å¼€å¯ GC æ—¥å¿—ï¼š&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-Xlog:gc*&lt;/code&gt; æˆ– &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-XX:+PrintGCDetails&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;åˆ†æ GC æ—¶é—´ã€é¢‘ç‡ã€Full GC æ˜¯å¦é¢‘ç¹&lt;/li&gt;
  &lt;li&gt;è§‚å¯Ÿå †ä½¿ç”¨æƒ…å†µã€æ™‹å‡å¤±è´¥ç­‰&lt;/li&gt;
  &lt;li&gt;ä½¿ç”¨å·¥å…·ï¼ˆå¦‚ VisualVMã€jstatã€JFRã€Arthasï¼‰è¯Šæ–­&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;g1&quot;&gt;G1&lt;/h3&gt;

&lt;p&gt;G1 çš„æ€è·¯æ˜¯ â€”â€” &lt;strong&gt;ä»¥ Region ä¸ºå•ä½æ•´ç†æ´»å¯¹è±¡&lt;/strong&gt;ã€‚ G1 é€šè¿‡åœ¨ GC è¿‡ç¨‹ä¸­ï¼ŒæŒ‰ Region å•ä½å°†æ´»å¯¹è±¡æ¬è¿å¹¶å‹ç¼©ï¼Œé¿å…ç¢ç‰‡åŒ–ï¼ŒåŒæ—¶åˆåˆ†é˜¶æ®µè¿›è¡Œï¼Œå‡è½»æš‚åœè´Ÿæ‹…ã€‚&lt;/p&gt;

&lt;p&gt;âœ… å…·ä½“æµç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;æ ‡è®°æ´»å¯¹è±¡ï¼ˆConcurrent Markingï¼‰&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;é€šè¿‡å¹¶å‘æ ‡è®°é˜¶æ®µï¼Œè¯†åˆ«å‡ºæ‰€æœ‰â€œå­˜æ´»å¯¹è±¡â€&lt;/li&gt;
      &lt;li&gt;å¹¶è®¡ç®—æ¯ä¸ª Region çš„â€œå›æ”¶ä»·å€¼â€ï¼ˆåƒåœ¾æ¯”ä¾‹ï¼‰&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ç­›é€‰ Region&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;G1 é€‰æ‹©å›æ”¶ä»·å€¼æœ€é«˜çš„éƒ¨åˆ† Region è¿›è¡Œå›æ”¶ï¼ˆç§°ä¸º &lt;strong&gt;æ”¶é›†é›†ï¼ˆCollection Set, CSetï¼‰&lt;/strong&gt;ï¼‰&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;å¯¹è±¡è½¬ç§»ï¼ˆEvacuationï¼‰&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;å°†å­˜æ´»å¯¹è±¡ä» CSet ä¸­è¿ç§»åˆ°æ–°çš„ç©º Regionï¼ˆå¯ Edenã€Survivorã€Oldï¼‰&lt;/li&gt;
      &lt;li&gt;è¿ç§»æ—¶æ˜¯å‹ç¼©å¼ç§»åŠ¨ï¼š&lt;strong&gt;è¿ç»­åœ°å¤åˆ¶æ´»å¯¹è±¡ â†’ å‡å°‘ç¢ç‰‡&lt;/strong&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;æ›´æ–°å¼•ç”¨&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;å¹¶å‘åœ°é€šè¿‡è®°å¿†é›†ï¼ˆRemembered Setï¼‰å’Œ SATBï¼ˆSnapshot At The Beginningï¼‰æœºåˆ¶ï¼Œæ›´æ–°è¢«å¼•ç”¨åœ°å€&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;æ—§ Region å›æ”¶&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;æ‰€æœ‰å¯¹è±¡è¢«è½¬ç§»åï¼Œæ—§ Region è¢«æ ‡è®°ä¸ºç©ºï¼Œå¯é‡ç”¨&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;æ³¨æ„&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;G1 çš„å‹ç¼©ä¸æ˜¯åœ¨ &lt;strong&gt;Full GC&lt;/strong&gt; é˜¶æ®µæ‰æ‰§è¡Œï¼Œè€Œæ˜¯åœ¨ &lt;strong&gt;Young GC å’Œ Mixed GC ä¸­å¢é‡åœ°è¿›è¡Œ&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;æ¯æ¬¡ GC åªå¤„ç†éƒ¨åˆ† Regionï¼Œ&lt;strong&gt;å‡å°‘ä¸€æ¬¡æ€§ Stop-The-World çš„å¼€é”€&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;æ‰€ä»¥ G1 è¢«ç§°ä¸ºæ”¯æŒâ€œ&lt;strong&gt;å¢é‡å‹ç¼©&lt;/strong&gt;â€çš„æ”¶é›†å™¨&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;å„ç‰ˆæœ¬jdkåƒåœ¾å›æ”¶&quot;&gt;å„ç‰ˆæœ¬JDKåƒåœ¾å›æ”¶&lt;/h3&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;JDKç‰ˆæœ¬&lt;/th&gt;
      &lt;th&gt;é»˜è®¤ GC&lt;/th&gt;
      &lt;th&gt;æè¿°ç®€è¦&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;â‰¤ JDK 1.3&lt;/td&gt;
      &lt;td&gt;Serial GC&lt;/td&gt;
      &lt;td&gt;å•çº¿ç¨‹ã€Stop-The-World&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;JDK 1.4 - 7&lt;/td&gt;
      &lt;td&gt;Parallel GC&lt;/td&gt;
      &lt;td&gt;é«˜ååé‡ï¼ŒæœåŠ¡ç«¯é»˜è®¤&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;JDK 8&lt;/td&gt;
      &lt;td&gt;Parallel GC&lt;/td&gt;
      &lt;td&gt;é»˜è®¤ Parallelï¼Œå¯é€‰å¼€å¯ G1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;JDK 9 - 14&lt;/td&gt;
      &lt;td&gt;G1 GC&lt;/td&gt;
      &lt;td&gt;é»˜è®¤ G1ï¼Œæ”¯æŒå¹¶å‘å‹ç¼©ï¼Œä½åœé¡¿&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;JDK 15 - 17&lt;/td&gt;
      &lt;td&gt;G1 GC&lt;/td&gt;
      &lt;td&gt;é»˜è®¤ G1ï¼ŒZGC/Shenandoah æˆç†Ÿ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;JDK 18 - 20&lt;/td&gt;
      &lt;td&gt;G1 GC&lt;/td&gt;
      &lt;td&gt;é»˜è®¤ä»ä¸º G1ï¼ŒZGC æ›´åŠ ç¨³å®š&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;JDK 21 LTS&lt;/td&gt;
      &lt;td&gt;G1 GC&lt;/td&gt;
      &lt;td&gt;é»˜è®¤ G1ï¼ŒZGC/Shenandoah å¯é€‰ç”Ÿäº§ç”¨&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;JDK 22+&lt;/td&gt;
      &lt;td&gt;G1 GC&lt;/td&gt;
      &lt;td&gt;ç¤¾åŒºæ‹Ÿæ”¹ä¸º ZGCï¼Œæš‚æœªåˆ‡æ¢é»˜è®¤&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;</content><author><name>Fulong Ma</name></author><category term="Java" /><category term="Java" /><summary type="html">javaåƒåœ¾å›æ”¶</summary></entry><entry><title type="html">javaç±»åŠ è½½æœºåˆ¶</title><link href="https://mafulong.github.io/2025/05/03/java%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6/" rel="alternate" type="text/html" title="javaç±»åŠ è½½æœºåˆ¶" /><published>2025-05-03T00:00:00+08:00</published><updated>2025-05-03T00:00:00+08:00</updated><id>https://mafulong.github.io/2025/05/03/java%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6</id><content type="html" xml:base="https://mafulong.github.io/2025/05/03/java%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6/">&lt;h2 id=&quot;javaç±»åŠ è½½æœºåˆ¶&quot;&gt;javaç±»åŠ è½½æœºåˆ¶&lt;/h2&gt;

&lt;h2 id=&quot;ç±»åŠ è½½æœºåˆ¶æ ¸å¿ƒçŸ¥è¯†ç‚¹æ€»ç»“&quot;&gt;ç±»åŠ è½½æœºåˆ¶æ ¸å¿ƒçŸ¥è¯†ç‚¹æ€»ç»“&lt;/h2&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;é˜¶æ®µ&lt;/th&gt;
      &lt;th&gt;è¯´æ˜&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;åŠ è½½ï¼ˆLoadingï¼‰&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;è¯»å– &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.class&lt;/code&gt; æ–‡ä»¶ï¼Œç”Ÿæˆ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Class&lt;/code&gt; å¯¹è±¡&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;éªŒè¯ï¼ˆVerificationï¼‰&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;å­—èŠ‚ç æ ¼å¼éªŒè¯ã€å®‰å…¨æ€§éªŒè¯&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;å‡†å¤‡ï¼ˆPreparationï¼‰&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;åˆ†é…é™æ€å˜é‡å†…å­˜å¹¶åˆå§‹åŒ–é»˜è®¤å€¼&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;è§£æï¼ˆResolutionï¼‰&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;å°†ç¬¦å·å¼•ç”¨è½¬æ¢ä¸ºç›´æ¥å¼•ç”¨&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;åˆå§‹åŒ–ï¼ˆInitializationï¼‰&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;æ‰§è¡Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;clinit&amp;gt;&lt;/code&gt; æ–¹æ³•ï¼Œåˆå§‹åŒ–é™æ€å˜é‡å’Œé™æ€ä»£ç å—&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;-ç±»åŠ è½½å™¨åˆ†ç±»&quot;&gt;âœ… ç±»åŠ è½½å™¨åˆ†ç±»&lt;/h3&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;åŠ è½½å™¨&lt;/th&gt;
      &lt;th&gt;ä½œç”¨&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;Bootstrap ClassLoader&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;åŠ è½½ JDK æ ¸å¿ƒç±»ï¼Œå¦‚ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;java.lang.*&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;Extension ClassLoader&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;åŠ è½½ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ext&lt;/code&gt; ç›®å½•ä¸‹çš„æ‰©å±•ç±»&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;Application ClassLoader&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;åŠ è½½ CLASSPATH ä¸­çš„ç±»&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;è‡ªå®šä¹‰ ClassLoader&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;é€šè¿‡ç»§æ‰¿ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ClassLoader&lt;/code&gt; è‡ªå®šä¹‰é€»è¾‘&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;-åŒäº²å§”æ´¾æ¨¡å‹parent-delegation&quot;&gt;âœ… åŒäº²å§”æ´¾æ¨¡å‹ï¼ˆParent Delegationï¼‰&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;åŠ è½½è¯·æ±‚ä¼šå…ˆå§”æ‰˜ç»™çˆ¶åŠ è½½å™¨ï¼Œå±‚å±‚å‘ä¸Šï¼Œåªæœ‰çˆ¶ç±»åŠ è½½å™¨æ— æ³•åŠ è½½æ—¶ï¼Œæ‰ç”±å½“å‰åŠ è½½å™¨å°è¯•åŠ è½½ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;åŒäº²å§”æ´¾æ¨¡å‹æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;é¿å…é‡å¤åŠ è½½&lt;/li&gt;
  &lt;li&gt;é˜²æ­¢æ ¸å¿ƒç±»è¢«ç¯¡æ”¹ï¼ˆå¦‚ä½ å†™äº†ä¸€ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;java.lang.String&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;spi&quot;&gt;SPI&lt;/h2&gt;

&lt;p&gt;SPIï¼ˆ&lt;strong&gt;Service Provider Interface&lt;/strong&gt;ï¼ŒæœåŠ¡æä¾›æ¥å£ï¼‰æ˜¯ Java æä¾›çš„ä¸€ç§ &lt;strong&gt;æœåŠ¡å‘ç°æœºåˆ¶&lt;/strong&gt;ï¼Œç”¨äºå®ç°æ¨¡å—é—´çš„è§£è€¦ï¼Œå¸¸ç”¨äºæ¡†æ¶åº•å±‚æˆ–æ’ä»¶å¼æ¶æ„ä¸­ã€‚&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;å®šä¹‰æ¥å£ï¼ˆæœåŠ¡æ¥å£ï¼‰&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;å®ç°æ¥å£ï¼ˆæœåŠ¡æä¾›è€…ï¼‰&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;åœ¨èµ„æºç›®å½• &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/META-INF/services/&lt;/code&gt; ä¸‹æ–°å»ºä¸€ä¸ªä»¥æ¥å£å…¨é™å®šåå‘½åçš„æ–‡ä»¶&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;æ–‡ä»¶å†…å®¹æ˜¯å…·ä½“çš„å®ç°ç±»çš„å…¨é™å®šå&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;åœºæ™¯&lt;/th&gt;
      &lt;th&gt;ä¾‹å­&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;JDBC é©±åŠ¨æ³¨å†Œ&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DriverManager&lt;/code&gt; é€šè¿‡ SPI åŠ è½½é©±åŠ¨ç±»&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;æ—¥å¿—æ¡†æ¶é€‚é…&lt;/td&gt;
      &lt;td&gt;SLF4J -&amp;gt; Logbackã€Log4j&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Java åŠ å¯†å®ç°ï¼ˆJCEï¼‰&lt;/td&gt;
      &lt;td&gt;åŠ è½½ä¸åŒåŠ å¯†ç®—æ³•&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Dubboã€Spring Boot æ’ä»¶åŒ–&lt;/td&gt;
      &lt;td&gt;å®ç°æ¨¡å—é—´è§£è€¦ã€æ’ä»¶æ³¨å…¥&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;strong&gt;SPI æœ‰ä»€ä¹ˆç¼ºç‚¹ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;åŠ è½½æ˜¯å…¨é‡çš„ï¼Œ&lt;strong&gt;ä¸èƒ½æ‡’åŠ è½½&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;å®ç°ç±»æ— æ³•æŒ‰æ¡ä»¶ä¼˜å…ˆçº§æ’åº&lt;/li&gt;
  &lt;li&gt;é…ç½®æ–‡ä»¶å®¹æ˜“æ‹¼å†™å‡ºé”™ï¼Œä¸æ˜“è°ƒè¯•&lt;/li&gt;
  &lt;li&gt;ç±»åŠ è½½å™¨éš”ç¦»é—®é¢˜ï¼ˆå¦‚ OSGiã€Tomcatï¼‰å¯èƒ½å¯¼è‡´æ— æ³•å‘ç°æœåŠ¡&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ”¹è¿›æ–¹æ¡ˆ&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;æŠ€æœ¯&lt;/th&gt;
      &lt;th&gt;ä¼˜åŠ¿&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Spring SPI&lt;/td&gt;
      &lt;td&gt;æä¾›æ¡ä»¶è¿‡æ»¤ã€æ’åºã€æ‡’åŠ è½½ç­‰åŠŸèƒ½ï¼ˆå¦‚ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;spring.factories&lt;/code&gt;ï¼‰ã€‚&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Dubbo SPI&lt;/td&gt;
      &lt;td&gt;å¢å¼º SPIï¼Œæ”¯æŒæ³¨è§£ã€æ‰©å±•ç‚¹è‡ªåŠ¨æ¿€æ´»&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Java 9 Module SPI&lt;/td&gt;
      &lt;td&gt;åŸºäº &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;module-info.java&lt;/code&gt; å®ç°æ¨¡å—åŒ– SPI&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;Spring SPI = Spring æä¾›çš„ä¸€å¥— &lt;strong&gt;åŸºäºé…ç½®æ–‡ä»¶&lt;/strong&gt;çš„æ¥å£å‘ç°ä¸æ‰©å±•æœºåˆ¶ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;æ ¸å¿ƒæ€æƒ³&lt;/strong&gt;ï¼šåœ¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;META-INF/spring.factories&lt;/code&gt; æ–‡ä»¶ä¸­ï¼Œé…ç½®æ¥å£ä¸å®ç°ç±»æ˜ å°„ï¼ŒSpring ä¼šåœ¨è¿è¡Œæ—¶è‡ªåŠ¨åŠ è½½ã€‚&lt;/p&gt;

&lt;h2 id=&quot;qa&quot;&gt;QA&lt;/h2&gt;

&lt;h3 id=&quot;ç±»æ˜¯ä½•æ—¶è¢«åŠ è½½è¿›-jvm-çš„&quot;&gt;&lt;strong&gt;ç±»æ˜¯ä½•æ—¶è¢«åŠ è½½è¿› JVM çš„ï¼Ÿ&lt;/strong&gt;&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;ç¬¬ä¸€æ¬¡ä¸»åŠ¨ä½¿ç”¨æ—¶ï¼Œæ¯”å¦‚ï¼š
    &lt;ul&gt;
      &lt;li&gt;åˆ›å»ºå¯¹è±¡ï¼ˆ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;new&lt;/code&gt;ï¼‰&lt;/li&gt;
      &lt;li&gt;è®¿é—®é™æ€å˜é‡ã€æ–¹æ³•&lt;/li&gt;
      &lt;li&gt;åå°„è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Class.forName()&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;å­ç±»åˆå§‹åŒ–ä¼šå…ˆè§¦å‘çˆ¶ç±»åˆå§‹åŒ–&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;ç±»åŠ è½½å™¨ä¹‹é—´çš„å…³ç³»æ˜¯ç»§æ‰¿è¿˜æ˜¯ç»„åˆ&quot;&gt;&lt;strong&gt;ç±»åŠ è½½å™¨ä¹‹é—´çš„å…³ç³»æ˜¯ç»§æ‰¿è¿˜æ˜¯ç»„åˆï¼Ÿ&lt;/strong&gt;&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;æ˜¯ç»„åˆå…³ç³»ï¼Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ClassLoader&lt;/code&gt; å®ä¾‹ä¹‹é—´é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;parent&lt;/code&gt; å­—æ®µå…³è”ï¼Œä¸æ˜¯ç»§æ‰¿æ ‘ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;ç±»åŠ è½½è°ƒè¯•ä¸å·¥å…·&quot;&gt;ç±»åŠ è½½è°ƒè¯•ä¸å·¥å…·&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;æŸ¥çœ‹ç±»åŠ è½½å™¨ï¼š&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getClass().getClassLoader()&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;æ˜¾ç¤ºåŠ è½½è·¯å¾„ï¼š&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;System.getProperty(&quot;java.class.path&quot;)&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;jcmd&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;jmap&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;jstack&lt;/code&gt;ï¼šæ’æŸ¥ç±»åŠ è½½é—®é¢˜&lt;/li&gt;
  &lt;li&gt;ä½¿ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-verbose:class&lt;/code&gt; è§‚å¯Ÿç±»åŠ è½½è¿‡ç¨‹&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;ä»€ä¹ˆæ—¶å€™ä¼šç ´ååŒäº²å§”æ´¾æ¨¡å‹&quot;&gt;&lt;strong&gt;ä»€ä¹ˆæ—¶å€™ä¼šç ´ååŒäº²å§”æ´¾æ¨¡å‹ï¼Ÿ&lt;/strong&gt;&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;è‡ªå®šä¹‰ ClassLoader åŠ è½½ç‰¹å®šç±»ï¼ˆå¦‚ SPI æœºåˆ¶ï¼‰&lt;/li&gt;
  &lt;li&gt;Tomcatã€Spring Boot ä¸ºäº†å®ç°çƒ­éƒ¨ç½²ï¼Œæ•…æ„æ‰“ç ´æ¨¡å‹&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Fulong Ma</name></author><category term="Java" /><category term="Java" /><summary type="html">javaç±»åŠ è½½æœºåˆ¶</summary></entry><entry><title type="html">Javaç®—æ³•åŸºç¡€</title><link href="https://mafulong.github.io/2025/04/26/Java%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/" rel="alternate" type="text/html" title="Javaç®—æ³•åŸºç¡€" /><published>2025-04-26T00:00:00+08:00</published><updated>2025-04-26T00:00:00+08:00</updated><id>https://mafulong.github.io/2025/04/26/Java%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80</id><content type="html" xml:base="https://mafulong.github.io/2025/04/26/Java%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/">&lt;h2 id=&quot;åŸºæœ¬çŸ¥è¯†&quot;&gt;åŸºæœ¬çŸ¥è¯†&lt;/h2&gt;

&lt;h3 id=&quot;è¾“å…¥è¾“å‡º&quot;&gt;è¾“å…¥è¾“å‡º&lt;/h3&gt;

&lt;h4 id=&quot;å¸¸ç”¨çš„åŒ…&quot;&gt;å¸¸ç”¨çš„åŒ…&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;java.io&lt;/li&gt;
  &lt;li&gt;java.util&lt;/li&gt;
  &lt;li&gt;java.math&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;åŸºæœ¬è¾“å…¥è¾“å‡º&quot;&gt;åŸºæœ¬è¾“å…¥è¾“å‡º&lt;/h4&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    &lt;span class=&quot;nc&quot;&gt;Scanner&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Scanner&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;//åŸºæœ¬æ–¹æ³•&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;Scanner&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Scanner&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;BufferedInputStream&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;//æ›´å¿«&lt;/span&gt;
    &lt;span class=&quot;no&quot;&gt;XXX&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;foo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;nextXXX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;//ç„¶åè¿™æ ·ç»™ä¸€ä¸ªXXXç±»å‹çš„å˜é‡ä»æ ‡å‡†è¾“å…¥è·å–å€¼&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;hasNext&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;doSomeThing&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;//å¾ªç¯åˆ°EOFæ—¶è¿™ä¹ˆå†™ï¼Œåé¢ä¹Ÿå¯ä»¥åŠ ä¸Šå˜é‡ç±»å‹&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;charAt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;PrintWriter&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;PrintWriter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;BufferedOutputStream&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;//ä½¿ç”¨ç¼“å­˜åŠ é€Ÿï¼Œæ¯”ç›´æ¥ä½¿ç”¨System.outå¿«&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%.2f\n&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ans&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ä¸cè¯­è¨€ä¸­printfç”¨æ³•ç›¸åŒ&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;//è¾“å…¥char&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;æ— é™è¾“å…¥&quot;&gt;æ— é™è¾“å…¥&lt;/h4&gt;

&lt;p&gt;javaä¸­æœ‰ä¸ªhasNext()å‡½æ•°,ä½œç”¨å°±æ˜¯åˆ¤æ–­æ˜¯å¦è¿˜æœ‰ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œä»¥CTRL+Dç»“æŸã€‚&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;java.util.Scanner&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Main&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;c1&quot;&gt;// TODO Auto-generated method stub&lt;/span&gt;
	    &lt;span class=&quot;nc&quot;&gt;Scanner&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Scanner&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
	   &lt;span class=&quot;kt&quot;&gt;double&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
	   &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
	   &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;hasNext&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;())&lt;/span&gt;
	   &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
		   &lt;span class=&quot;kt&quot;&gt;double&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;nextDouble&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
		   &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++;&lt;/span&gt;
		   &lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
	   &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
	   &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;æ§åˆ¶å°è¾“å…¥è¾“å‡ºé‡å®šå‘åˆ°æ–‡ä»¶&quot;&gt;æ§åˆ¶å°è¾“å…¥è¾“å‡ºé‡å®šå‘åˆ°æ–‡ä»¶&lt;/h4&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    &lt;span class=&quot;nc&quot;&gt;FileInputStream&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fis&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;FileInputStream&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;b.in&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;  
    &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setIn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fis&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;  
    &lt;span class=&quot;nc&quot;&gt;PrintStream&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ps&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;PrintStream&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;FileOutputStream&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;b.out&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;  
    &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setOut&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ps&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;æ–‡ä»¶è¯»å†™&quot;&gt;æ–‡ä»¶è¯»å†™&lt;/h4&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    &lt;span class=&quot;nc&quot;&gt;PrintStream&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ps&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;PrintSteam&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;FileOutputStream&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;c:\\datain.txt&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;ps&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;BufferedReader&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;br&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;BufferedReader&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;FileReader&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/home/zjz/Desktop/myfile.txt&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;intå’Œstring&quot;&gt;intå’ŒString&lt;/h3&gt;

&lt;h4 id=&quot;javamath&quot;&gt;java.Math&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;max(a,b)æ–¹æ³•&lt;/li&gt;
  &lt;li&gt;sqrtè¿”å›doubleç±»å‹ï¼Œè®°ä½ä¸¤ä¸ªæ•°æ¯”è¾ƒæ—¶è½¬æ¢ä¸ºå¤æ‚ç±»å‹,intæ¯”è¾ƒdoubleä¼šéƒ½å˜doubleå†æ¯”è¾ƒ&lt;/li&gt;
  &lt;li&gt;floor()è¿”å›doubleç±»å‹ floor(-8.5)=-9.0&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;å››èˆäº”å…¥&quot;&gt;å››èˆäº”å…¥&lt;/h4&gt;

&lt;p&gt;è¿™ä¸ªæ˜¯å››èˆäº”å…¥è¾“å‡º&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%.2f&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;3.14&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™ä¸ªä¹Ÿæ˜¯å››èˆäº”å…¥è¾“å‡º&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    &lt;span class=&quot;nc&quot;&gt;DecimalFormat&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;decimalFormat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;DecimalFormat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;0.00&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;decimalFormat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;113.146134321&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æƒ³è¦æˆªå–è¾“å‡ºçš„åŠæ³•&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;decimalFormat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;113.146134321&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.005&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æˆ–&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;kt&quot;&gt;double&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;   &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;   &lt;span class=&quot;mf&quot;&gt;13.4324&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;   
  &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=((&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))/&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;   
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;ç®—æ³•åŸºç¡€&quot;&gt;ç®—æ³•åŸºç¡€&lt;/h2&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;org.example&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;


&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;java.math.BigInteger&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;java.util.*&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Main&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// Object&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;abc&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// getClass(). getClass() ä¼šä¸¥æ ¼æ¯”è¾ƒå¯¹è±¡çš„ç±»ï¼Œä¸è€ƒè™‘ç»§æ‰¿å…³ç³»ã€‚å› æ­¤ï¼Œåªèƒ½åˆ¤æ–­å¯¹è±¡æ˜¯å¦ç¡®åˆ‡ä¸ºæŸä¸ªç±»ï¼Œè€Œä¸èƒ½åˆ¤æ–­å®ƒæ˜¯å¦æ˜¯è¯¥ç±»çš„å­ç±»ã€‚&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getClass&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// Integer&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;max&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;MAX_VALUE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;min&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;MIN_VALUE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;double&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;pow&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// è¿›åˆ¶è½¬æ¢&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;binaryString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;toBinaryString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;// è¾“å‡º &quot;1010&quot;&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s10&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;//æŠŠintå‹æ•°æ®è½¬æ¢ä¹˜Xè¿›åˆ¶æ•°å¹¶è½¬æ¢æˆstringå‹&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;parseInt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;binaryString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;// è¾“å‡º 9&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// compare. ä»å°åˆ°å¤§æ—¶compareè¿”å›è´Ÿæ•°ï¼Œ è¿”å›è´Ÿæ•°ï¼Œè¡¨ç¤ºå‰é¢çš„â€œå°â€ï¼›è°æƒ³æ’åœ¨å‰é¢ï¼Œå°±è®©å®ƒå‡æ‰å¯¹æ–¹ï¼&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;compare&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// BigInteger&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;BigInteger&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bigInteger&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;BigInteger&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;341241&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bigInteger&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bigInteger&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;());&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// String-Integer &amp;amp;&amp;amp; Integer-String&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;parseInt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// char&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;&apos;a&apos;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;bad&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;&apos;j&apos;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;charAt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;toCharArray&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;());&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;];&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;());&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// char - ascii&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;&apos;A&apos;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;asciiValue&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;// è½¬æ¢ä¸º ASCII å€¼&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;asciiValue&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;65&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;asciiValue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;// è½¬æ¢ä¸ºå­—ç¬¦&lt;/span&gt;

        &lt;span class=&quot;nc&quot;&gt;Character&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;toUpperCase&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&apos;c&apos;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;Character&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;toLowerCase&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&apos;C&apos;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;Character&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;isLetter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&apos;a&apos;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;Character&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;isDigit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&apos;3&apos;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// String&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;#&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;adf&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;df&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;});&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;da#4#jk43#43&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;#&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%d111%.2f&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;3.1465926&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// List&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nums&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ArrayList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;nums&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ArrayList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Arrays&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;asList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nums&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// api: add, remove, get, set, contains, size()&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// Queue&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;LinkedList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;queue&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;LinkedList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;gt;();&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//        è¿™ä¸ªä¹Ÿè¡ŒDeque&amp;lt;Integer&amp;gt; queue = new LinkedList&amp;lt;&amp;gt;();&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// tail: add, poll&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// head: addFirst, pollFirst&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//        queue.getFirst();&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//        queue.getLast();&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// heap&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;PriorityQueue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pq&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;PriorityQueue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;gt;();&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//æ”¹ä¸ºå¤§é¡¶å †&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;pq&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;PriorityQueue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Comparator&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
            &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;compare&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;});&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//ç®€åŒ–å†™æ³•ï¼ˆåŒ¿åLambdaè¡¨è¾¾å¼ï¼‰&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;pq&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;PriorityQueue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;pq&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;pq&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;poll&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;pq&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;peek&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;

        &lt;span class=&quot;cm&quot;&gt;/**
         * Map
         */&lt;/span&gt;

        &lt;span class=&quot;nc&quot;&gt;Map&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;map&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;HashMap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;put&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getOrDefault&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;clear&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;//éå†&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//æŒ‰é”®éå†&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;keySet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;())&lt;/span&gt;
            &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//æŒ‰å€¼éå†&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;())&lt;/span&gt;
            &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//æŒ‰Entryéå†&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Map&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;Entry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;entry&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;entrySet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;entry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getKey&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;entry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getValue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;


        &lt;span class=&quot;cm&quot;&gt;/**
         * Set
         */&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;Set&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;HashSet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;contains&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//éœ€è¦æ’åºä½¿ç”¨TreeSet&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;TreeSet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;set1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;TreeSet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;o1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;o2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;o2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;o1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;TreeSet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;set2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;TreeSet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&amp;gt;(((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;o1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;o2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;o1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;o2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;])));&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;set2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]{&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;});&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// lower, higher å°äº å¤§äºï¼Œä¸åŒ…æ‹¬ç­‰äº&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// floor, ceiling åŒ…å«ç­‰äº&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// first, lastæœ€å°ï¼Œæœ€å¤§&lt;/span&gt;

        &lt;span class=&quot;cm&quot;&gt;/**
         * List
         */&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;ArrayList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;arrayList&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ArrayList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Arrays&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;asList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;34&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;413&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;123&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4132&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;123&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;31&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;arrayList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;sort&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;o1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;o2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;o2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;o1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arrayList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;Arrays&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;sort&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]{&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;34&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;34&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;});&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ansList&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ArrayList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&amp;gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;ansList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;sort&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;o1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;o2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;o1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;o2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;])));&lt;/span&gt;

        &lt;span class=&quot;cm&quot;&gt;/**
         * Array
         */&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;];&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]{&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;134&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3143&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;};&lt;/span&gt;

        &lt;span class=&quot;cm&quot;&gt;/**
         * Collections
         */&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//        Collections.sort;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//        Collections.reverse();&lt;/span&gt;
        &lt;span class=&quot;cm&quot;&gt;/**
         * äºŒåˆ†æŸ¥æ‰¾
         * å­˜åœ¨æ—¶è¿”å›index. ä¸å­˜åœ¨æ—¶è¿”å›-(index+1), æ˜¯è´Ÿæ•°ï¼Œindexæ˜¯æ’å…¥ç‚¹, å¯è¿˜åŸ
         */&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//        Arrays.binarySearch(, );&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//        Collections.binarySearch()&lt;/span&gt;


    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name>Fulong Ma</name></author><category term="Java" /><category term="Java" /><summary type="html">åŸºæœ¬çŸ¥è¯†</summary></entry><entry><title type="html">javaä»£ç†</title><link href="https://mafulong.github.io/2025/04/26/java%E4%BB%A3%E7%90%86/" rel="alternate" type="text/html" title="javaä»£ç†" /><published>2025-04-26T00:00:00+08:00</published><updated>2025-04-26T00:00:00+08:00</updated><id>https://mafulong.github.io/2025/04/26/java%E4%BB%A3%E7%90%86</id><content type="html" xml:base="https://mafulong.github.io/2025/04/26/java%E4%BB%A3%E7%90%86/">&lt;h2 id=&quot;javaä»£ç†&quot;&gt;javaä»£ç†&lt;/h2&gt;

&lt;h2 id=&quot;1-java-ä¸­çš„ä»£ç†åˆ†ç±»&quot;&gt;1. Java ä¸­çš„ä»£ç†åˆ†ç±»&lt;/h2&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;ç±»å‹&lt;/th&gt;
      &lt;th&gt;æè¿°&lt;/th&gt;
      &lt;th&gt;ä¾‹å­&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;é™æ€ä»£ç†&lt;/td&gt;
      &lt;td&gt;ç¼–å†™ä»£ç†ç±»ï¼Œæ‰‹åŠ¨è°ƒç”¨ç›®æ ‡æ–¹æ³•&lt;/td&gt;
      &lt;td&gt;è‡ªå·±å†™çš„ä»£ç†ç±»&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;åŠ¨æ€ä»£ç†&lt;/td&gt;
      &lt;td&gt;è¿è¡Œæ—¶ç”Ÿæˆä»£ç†ç±»&lt;/td&gt;
      &lt;td&gt;JDK åŠ¨æ€ä»£ç†ã€CGLIB ä»£ç†&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;2-é™æ€ä»£ç†&quot;&gt;2. é™æ€ä»£ç†&lt;/h2&gt;

&lt;h3 id=&quot;ç‰¹ç‚¹&quot;&gt;ç‰¹ç‚¹&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;ä»£ç†ç±»å’Œè¢«ä»£ç†ç±»éƒ½éœ€è¦å®ç°ç›¸åŒçš„æ¥å£ã€‚&lt;/li&gt;
  &lt;li&gt;éœ€è¦æ‰‹åŠ¨ç¼–å†™ä»£ç†ç±»ã€‚&lt;/li&gt;
  &lt;li&gt;æ‰©å±•æ€§å·®ï¼Œå¦‚æœæ¥å£æ–¹æ³•å¤šï¼Œéœ€è¦é‡å¤å·¥ä½œã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;ç¤ºä¾‹&quot;&gt;ç¤ºä¾‹&lt;/h3&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Service&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;doSomething&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;RealService&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Service&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;doSomething&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Real service is doing something&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ServiceProxy&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Service&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;RealService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;realService&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;RealService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;doSomething&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Before&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;realService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;doSomething&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;After&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;3-jdk-åŠ¨æ€ä»£ç†&quot;&gt;3. JDK åŠ¨æ€ä»£ç†&lt;/h2&gt;

&lt;h3 id=&quot;ç‰¹ç‚¹-1&quot;&gt;ç‰¹ç‚¹&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;åªèƒ½ä»£ç†&lt;strong&gt;æ¥å£&lt;/strong&gt;ï¼ˆ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;interface&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
  &lt;li&gt;è¿è¡Œæ—¶åŠ¨æ€ç”Ÿæˆä»£ç†å¯¹è±¡ã€‚&lt;/li&gt;
  &lt;li&gt;é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Proxy&lt;/code&gt; ç±»å’Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;InvocationHandler&lt;/code&gt; æ¥å£å®ç°ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;æ ¸å¿ƒç±»&quot;&gt;æ ¸å¿ƒç±»&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Proxy&lt;/code&gt;ï¼šç”Ÿæˆä»£ç†å¯¹è±¡ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;InvocationHandler&lt;/code&gt;ï¼šå¤„ç†æ–¹æ³•è°ƒç”¨çš„æ¥å£ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;ç¤ºä¾‹ä»£ç &quot;&gt;ç¤ºä¾‹ä»£ç &lt;/h3&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;nc&quot;&gt;UserService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;target&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;UserServiceImpl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;UserService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;proxy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;UserService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Proxy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;newProxyInstance&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getClass&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getClassLoader&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(),&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getClass&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getInterfaces&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(),&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;proxyObj&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Before&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;nc&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;invoke&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;After&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;proxy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;sayHello&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;é¢è¯•é‡ç‚¹&quot;&gt;é¢è¯•é‡ç‚¹&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆ JDK åŠ¨æ€ä»£ç†åªèƒ½ä»£ç†æ¥å£ï¼Ÿ&lt;/strong&gt;
 å› ä¸º Java çš„ Proxy ç±»ç”Ÿæˆçš„ä»£ç†ç±»æ˜¯é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;implements æ¥å£&lt;/code&gt; æ¥åˆ›å»ºçš„ï¼Œä¸æ˜¯ç»§æ‰¿ç±»ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;JDK åŠ¨æ€ä»£ç†çš„åº•å±‚å®ç°ï¼Ÿ&lt;/strong&gt;
 é€šè¿‡è¿è¡Œæ—¶ç”Ÿæˆä¸€ä¸ªæ–°ç±»ï¼ˆç»§æ‰¿ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Proxy&lt;/code&gt; ç±»å¹¶å®ç°æ¥å£ï¼‰ï¼Œå­—èŠ‚ç ç”ŸæˆååŠ è½½åˆ° JVM ä¸­ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;å¦‚ä½•ä¿å­˜ç”Ÿæˆçš„ä»£ç†ç±»ï¼Ÿ&lt;/strong&gt;
 è®¾ç½®ç³»ç»Ÿå±æ€§ï¼š&lt;/p&gt;

    &lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  
&lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setProperty&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;jdk.proxy.ProxyGenerator.saveGeneratedFiles&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;true&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;4-cglib-åŠ¨æ€ä»£ç†&quot;&gt;4. CGLIB åŠ¨æ€ä»£ç†&lt;/h2&gt;

&lt;h3 id=&quot;ç‰¹ç‚¹-2&quot;&gt;ç‰¹ç‚¹&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;å¯ä»¥ä»£ç†&lt;strong&gt;æ™®é€šç±»&lt;/strong&gt;ï¼ˆæ²¡æœ‰æ¥å£ä¹Ÿèƒ½ä»£ç†ï¼‰ã€‚&lt;/li&gt;
  &lt;li&gt;é€šè¿‡&lt;strong&gt;ç»§æ‰¿&lt;/strong&gt;çš„æ–¹å¼ç”Ÿæˆå­ç±»ä»£ç†ã€‚&lt;/li&gt;
  &lt;li&gt;CGLIBï¼ˆCode Generation Libraryï¼‰æ˜¯å¼€æºé¡¹ç›®ï¼ŒSpring é»˜è®¤ä¹Ÿé›†æˆäº†ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;æ ¸å¿ƒç±»-1&quot;&gt;æ ¸å¿ƒç±»&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Enhancer&lt;/code&gt;ï¼šç”Ÿæˆä»£ç†å¯¹è±¡ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MethodInterceptor&lt;/code&gt;ï¼šæ–¹æ³•æ‹¦æˆªå™¨ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;ç¤ºä¾‹ä»£ç -1&quot;&gt;ç¤ºä¾‹ä»£ç &lt;/h3&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;nc&quot;&gt;Enhancer&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;enhancer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Enhancer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;enhancer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setSuperclass&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;UserService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;enhancer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setCallback&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;MethodInterceptor&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;proxy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Before&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;proxy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;invokeSuper&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;After&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;});&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;UserService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;proxy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;UserService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;enhancer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;proxy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;sayHello&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;é¢è¯•é‡ç‚¹-1&quot;&gt;é¢è¯•é‡ç‚¹&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆ final ç±»ä¸èƒ½è¢« CGLIB ä»£ç†ï¼Ÿ&lt;/strong&gt;
 å› ä¸º CGLIB æ˜¯é€šè¿‡ç»§æ‰¿æ¥ç”Ÿæˆä»£ç†å­ç±»çš„ï¼Œfinal ç±»ä¸èƒ½è¢«ç»§æ‰¿ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;CGLIB ä¸ JDK åŠ¨æ€ä»£ç†çš„åŒºåˆ«ï¼Ÿ&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Â &lt;/th&gt;
      &lt;th&gt;JDK åŠ¨æ€ä»£ç†&lt;/th&gt;
      &lt;th&gt;CGLIB åŠ¨æ€ä»£ç†&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;æ˜¯å¦éœ€è¦æ¥å£&lt;/td&gt;
      &lt;td&gt;æ˜¯&lt;/td&gt;
      &lt;td&gt;å¦&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;å®ç°æ–¹å¼&lt;/td&gt;
      &lt;td&gt;å®ç°æ¥å£&lt;/td&gt;
      &lt;td&gt;ç»§æ‰¿ç±»&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ä»£ç†é™åˆ¶&lt;/td&gt;
      &lt;td&gt;åªèƒ½ä»£ç†æ¥å£&lt;/td&gt;
      &lt;td&gt;finalç±»ä¸èƒ½ä»£ç†ï¼Œfinalæ–¹æ³•ä¸ä¼šè¢«ä»£ç†&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;æ€§èƒ½&lt;/td&gt;
      &lt;td&gt;æ¥å£å°‘æ—¶æ€§èƒ½å¥½&lt;/td&gt;
      &lt;td&gt;ç±»å¤æ‚æ—¶æ€§èƒ½å¥½&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;CGLIB ä»£ç†çš„åŸç†ï¼Ÿ&lt;/strong&gt;
 åŸºäº ASM æ¡†æ¶ï¼Œåœ¨è¿è¡Œæ—¶ç”Ÿæˆå­—èŠ‚ç æ–‡ä»¶ï¼Œåˆ›å»ºå­ç±»å¹¶é‡å†™æ–¹æ³•ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;5-åŠ¨æ€ä»£ç†åœ¨-spring-aop-ä¸­çš„åº”ç”¨&quot;&gt;5. åŠ¨æ€ä»£ç†åœ¨ Spring AOP ä¸­çš„åº”ç”¨&lt;/h2&gt;

&lt;h3 id=&quot;spring-ä»£ç†é€‰æ‹©ç­–ç•¥&quot;&gt;Spring ä»£ç†é€‰æ‹©ç­–ç•¥&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;æœ‰æ¥å£ï¼š&lt;strong&gt;é»˜è®¤ç”¨ JDK åŠ¨æ€ä»£ç†&lt;/strong&gt;ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æ²¡æœ‰æ¥å£ï¼šä½¿ç”¨ &lt;strong&gt;CGLIB åŠ¨æ€ä»£ç†&lt;/strong&gt;ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;å¯ä»¥é€šè¿‡é…ç½®å¼ºåˆ¶ä½¿ç”¨ CGLIBï¼š&lt;/p&gt;

    &lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  
&lt;span class=&quot;nl&quot;&gt;spring:&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;aop:&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;proxy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;true&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;æˆ–è€…åœ¨ JavaConfig é‡Œï¼š&lt;/p&gt;

    &lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  
&lt;span class=&quot;nd&quot;&gt;@EnableAspectJAutoProxy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;proxyTargetClass&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;6-qa&quot;&gt;6. QA&lt;/h2&gt;

&lt;p&gt;âœ… &lt;strong&gt;ä»€ä¹ˆæ˜¯åŠ¨æ€ä»£ç†ï¼Ÿ&lt;/strong&gt;
 åŠ¨æ€ä»£ç†æ˜¯è¿è¡Œæ—¶ç”Ÿæˆä»£ç†å¯¹è±¡ï¼Œæ‹¦æˆªå¹¶å¢å¼ºæ–¹æ³•è°ƒç”¨çš„ä¸€ç§æœºåˆ¶ã€‚&lt;/p&gt;

&lt;p&gt;âœ… &lt;strong&gt;JDK åŠ¨æ€ä»£ç†å’Œ CGLIB çš„åŒºåˆ«ï¼Ÿ&lt;/strong&gt;
 JDK åŠ¨æ€ä»£ç†åŸºäºæ¥å£ï¼ŒCGLIB åŸºäºç»§æ‰¿ï¼ˆå­ç±»åŒ–ç›®æ ‡ç±»ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;âœ… &lt;strong&gt;JDK åŠ¨æ€ä»£ç†çš„åº•å±‚åŸç†ï¼Ÿ&lt;/strong&gt;
 é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Proxy&lt;/code&gt; ç±»+&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;InvocationHandler&lt;/code&gt; åŠ¨æ€ç”Ÿæˆå®ç°æ¥å£çš„ç±»ï¼ˆå­—èŠ‚ç ç”Ÿæˆ+åå°„è°ƒç”¨ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;âœ… &lt;strong&gt;CGLIB åŠ¨æ€ä»£ç†èƒ½ä»£ç† final ç±»å—ï¼Ÿ&lt;/strong&gt;
 ä¸èƒ½ï¼ŒCGLIB é€šè¿‡ç»§æ‰¿ç”Ÿæˆä»£ç†ç±»ï¼Œfinal ç±»æ— æ³•ç»§æ‰¿ã€‚finalæ–¹æ³•ä¹Ÿä¸èƒ½ä»£ç†&lt;/p&gt;

&lt;p&gt;âœ… &lt;strong&gt;Spring AOP æ˜¯å¦‚ä½•é€‰æ‹©ä»£ç†æ–¹å¼çš„ï¼Ÿ&lt;/strong&gt;
 é»˜è®¤æœ‰æ¥å£ç”¨ JDK åŠ¨æ€ä»£ç†ï¼Œæ²¡æ¥å£ç”¨ CGLIBï¼›å¯ä»¥é…ç½® &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;proxy-target-class=true&lt;/code&gt; å¼ºåˆ¶ä½¿ç”¨ CGLIBã€‚&lt;/p&gt;

&lt;p&gt;âœ… &lt;strong&gt;å¦‚ä½•ä¿å­˜ JDK ç”Ÿæˆçš„ä»£ç†ç±»å­—èŠ‚ç ï¼Ÿ&lt;/strong&gt;
 è®¾ç½®ç³»ç»Ÿå±æ€§ï¼š&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
System.setProperty(&quot;jdk.proxy.ProxyGenerator.saveGeneratedFiles&quot;, &quot;true&quot;);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;âœ… &lt;strong&gt;åŠ¨æ€ä»£ç†çš„ä¼˜ç¼ºç‚¹ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;ä¼˜ç‚¹&lt;/th&gt;
      &lt;th&gt;ç¼ºç‚¹&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1. è§£è€¦å¢å¼ºé€»è¾‘ä¸ä¸šåŠ¡é€»è¾‘ 2. è¿è¡Œæ—¶çµæ´»å¢å¼º&lt;/td&gt;
      &lt;td&gt;1. æ€§èƒ½ç¨æœ‰å¼€é”€ 2. JDK Proxyå¿…é¡»æœ‰æ¥å£ 3. CGLIBæ— æ³•ä»£ç†finalç±»æˆ–æ–¹æ³•&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;</content><author><name>Fulong Ma</name></author><category term="Java" /><category term="Java" /><summary type="html">javaä»£ç†</summary></entry><entry><title type="html">pdfä¸æ‰“å°åŠ ç­¾å</title><link href="https://mafulong.github.io/2025/04/17/pdf%E4%B8%8D%E6%89%93%E5%8D%B0%E5%8A%A0%E7%AD%BE%E5%90%8D/" rel="alternate" type="text/html" title="pdfä¸æ‰“å°åŠ ç­¾å" /><published>2025-04-17T00:00:00+08:00</published><updated>2025-04-17T00:00:00+08:00</updated><id>https://mafulong.github.io/2025/04/17/pdf%E4%B8%8D%E6%89%93%E5%8D%B0%E5%8A%A0%E7%AD%BE%E5%90%8D</id><content type="html" xml:base="https://mafulong.github.io/2025/04/17/pdf%E4%B8%8D%E6%89%93%E5%8D%B0%E5%8A%A0%E7%AD%BE%E5%90%8D/">&lt;h2 id=&quot;pdfä¸æ‰“å°åŠ ç­¾å&quot;&gt;pdfä¸æ‰“å°åŠ ç­¾å&lt;/h2&gt;

&lt;p&gt;macOS è‡ªå¸¦çš„ &lt;strong&gt;Previewï¼ˆé¢„è§ˆï¼‰&lt;/strong&gt; åº”ç”¨å®Œå…¨å¯ä»¥åœ¨ PDF ä¸Šâ€œå†™å­—â€ï¼ˆæ‰“å­—æˆ–æ‰‹å†™ï¼‰ï¼Œå¹¶ä¸”&lt;strong&gt;å¯ä»¥ä¿å­˜åˆ°åŸ PDF æ–‡ä»¶ä¸­&lt;/strong&gt;ã€‚ä»¥ä¸‹æ˜¯å…·ä½“æ­¥éª¤ï¼š&lt;/p&gt;

&lt;h3 id=&quot;åœ¨-pdf-ä¸Šå†™å­—å¹¶ä¿å­˜ä½¿ç”¨-preview&quot;&gt;åœ¨ PDF ä¸Šå†™å­—å¹¶ä¿å­˜ï¼ˆä½¿ç”¨ Previewï¼‰&lt;/h3&gt;

&lt;h4 id=&quot;-æ–¹æ³•ä¸€è¾“å…¥æ–‡æœ¬æ‰“å­—&quot;&gt;âœ… æ–¹æ³•ä¸€ï¼šè¾“å…¥æ–‡æœ¬ï¼ˆæ‰“å­—ï¼‰&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;ç”¨ &lt;strong&gt;Preview&lt;/strong&gt; æ‰“å¼€ PDF æ–‡ä»¶&lt;/li&gt;
  &lt;li&gt;ç‚¹å‡»é¡¶éƒ¨èœå•æ çš„ &lt;strong&gt;å·¥å…· &amp;gt; æ³¨é‡Š &amp;gt; æ–‡å­—&lt;/strong&gt;ï¼ˆæˆ–ç‚¹å‡»å·¥å…·æ ä¸Šçš„â€œTâ€å›¾æ ‡ï¼‰&lt;/li&gt;
  &lt;li&gt;å‡ºç°ä¸€ä¸ªæ–‡æœ¬æ¡†ï¼Œè¾“å…¥ä½ æƒ³å†™çš„æ–‡å­—&lt;/li&gt;
  &lt;li&gt;æ‹–åŠ¨æ–‡æœ¬æ¡†ç§»åŠ¨ä½ç½®ï¼Œç‚¹å‡»å³ä¸Šè§’â€œ&lt;strong&gt;Aa&lt;/strong&gt;â€å¯æ›´æ”¹å­—ä½“å’Œå¤§å°&lt;/li&gt;
  &lt;li&gt;æ–‡ä»¶ &amp;gt; å­˜å‚¨ï¼Œæˆ–ç›´æ¥ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Cmd + S&lt;/code&gt; ä¿å­˜ä¿®æ”¹&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;-æ–¹æ³•äºŒæ‰‹å†™ç”»ç­¾åæˆ–å†™å­—&quot;&gt;âœ… æ–¹æ³•äºŒï¼šæ‰‹å†™ï¼ˆç”»ç­¾åæˆ–å†™å­—ï¼‰&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;ç‚¹å‡»å·¥å…·æ çš„â€œ&lt;strong&gt;è®°å·å·¥å…·æ &lt;/strong&gt;â€å›¾æ ‡ï¼ˆä¸€ä¸ªé“…ç¬”å°–çš„å›¾æ ‡ï¼‰&lt;/li&gt;
  &lt;li&gt;ç‚¹å‡»â€œ&lt;strong&gt;ç­¾åå›¾æ ‡&lt;/strong&gt;â€ï¼ˆæˆ–è€…ä½¿ç”¨â€œç»˜å›¾â€å·¥å…·ï¼‰&lt;/li&gt;
  &lt;li&gt;å¯ç”¨è§¦æ§æ¿ã€é¼ æ ‡æˆ– iPadï¼ˆä½¿ç”¨ Sidecarï¼‰è¿›è¡Œæ‰‹å†™è¾“å…¥&lt;/li&gt;
  &lt;li&gt;æ”¾ç½®åœ¨åˆé€‚ä½ç½®ï¼Œä¿å­˜å³å¯&lt;/li&gt;
&lt;/ol&gt;</content><author><name>Fulong Ma</name></author><category term="Tools" /><category term="Tools" /><summary type="html">pdfä¸æ‰“å°åŠ ç­¾å</summary></entry><entry><title type="html">QQéŸ³ä¹æ–‡ä»¶ä¸‹è½½è½¬mp3</title><link href="https://mafulong.github.io/2025/04/08/QQ%E9%9F%B3%E4%B9%90%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E8%BD%ACmp3/" rel="alternate" type="text/html" title="QQéŸ³ä¹æ–‡ä»¶ä¸‹è½½è½¬mp3" /><published>2025-04-08T00:00:00+08:00</published><updated>2025-04-08T00:00:00+08:00</updated><id>https://mafulong.github.io/2025/04/08/QQ%E9%9F%B3%E4%B9%90%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E8%BD%ACmp3</id><content type="html" xml:base="https://mafulong.github.io/2025/04/08/QQ%E9%9F%B3%E4%B9%90%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E8%BD%ACmp3/">&lt;h2 id=&quot;qqéŸ³ä¹æ–‡ä»¶ä¸‹è½½è½¬mp3&quot;&gt;QQéŸ³ä¹æ–‡ä»¶ä¸‹è½½è½¬mp3&lt;/h2&gt;

&lt;p&gt;éœ€è¦ä½¿ç”¨æ—§ç‰ˆQQéŸ³ä¹ï¼Œè¿™æ ·ä¸‹è½½çš„åŠ å¯†æ–‡ä»¶flmac or oggæ–‡ä»¶æ‰å¯ä»¥è§£å¯†å˜æˆflac/wac/mp3ç­‰å¯ä»¥åœ¨ä¸€èˆ¬éŸ³ä¹è½¯ä»¶æ’­æ”¾çš„æ ¼å¼ï¼Œå…¶ä¸­mp3å“è´¨æœ€ä½ï¼Œå»ºè®®flacæ ¼å¼ã€‚&lt;/p&gt;

&lt;h3 id=&quot;æ—§ç‰ˆqqéŸ³ä¹&quot;&gt;æ—§ç‰ˆQQéŸ³ä¹:&lt;/h3&gt;

&lt;p&gt;macç‰ˆæœ¬ï¼Œå·²ç»åœ¨æˆ‘çš„ç™¾åº¦ç½‘ç›˜äº†ã€‚&lt;/p&gt;

&lt;p&gt;é€šè¿‡ç½‘ç›˜åˆ†äº«çš„æ–‡ä»¶ï¼šQQMusicMac_Mgr.dmg
é“¾æ¥: https://pan.baidu.com/s/1FRRQm5_OoTCJqsMO9u9_LQ æå–ç : wz9p&lt;/p&gt;

&lt;p&gt;ç™»å½•åè¿›è¡Œä¸‹è½½ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ä¼šå‘˜æ­Œæ›²æ˜¯åŠ å¯†çš„ï¼Œå•ç‹¬ä¸€ä¸ªç›®å½•. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/Users/mafulong/Library/Containers/com.tencent.QQMusicMac/Data/Library/Application Support/QQMusicMac/iQmc&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;å…è´¹æ­Œæ›²æ˜¯mp3æ ¼å¼ã€‚&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt; /Users/mafulong/Music/QQéŸ³ä¹&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;éŸ³ä¹æ–‡ä»¶æ ¼å¼è½¬æ¢&quot;&gt;éŸ³ä¹æ–‡ä»¶æ ¼å¼è½¬æ¢&lt;/h3&gt;

&lt;p&gt;å‚è€ƒ: https://www.bilibili.com/opus/902846904983879720?jump_opus=1&lt;/p&gt;

&lt;p&gt;ä½¿ç”¨ç½‘å€ä¸Šä¼ åŠ å¯†çš„ï¼Œå¹¶ä¸‹è½½è§£å¯†åçš„ã€‚ https://jiesuo.ink/&lt;/p&gt;</content><author><name>Fulong Ma</name></author><category term="Tools" /><category term="Tools" /><summary type="html">QQéŸ³ä¹æ–‡ä»¶ä¸‹è½½è½¬mp3</summary></entry><entry><title type="html">å¥—åˆ©</title><link href="https://mafulong.github.io/2025/04/02/%E5%A5%97%E5%88%A9/" rel="alternate" type="text/html" title="å¥—åˆ©" /><published>2025-04-02T00:00:00+08:00</published><updated>2025-04-02T00:00:00+08:00</updated><id>https://mafulong.github.io/2025/04/02/%E5%A5%97%E5%88%A9</id><content type="html" xml:base="https://mafulong.github.io/2025/04/02/%E5%A5%97%E5%88%A9/">&lt;h2 id=&quot;å¥—åˆ©&quot;&gt;å¥—åˆ©&lt;/h2&gt;

&lt;p&gt;æŠ˜ä»·å¥—åˆ©åŸç†ï¼Œæ˜¯åŸºé‡‘å¤„äºæŠ˜ä»·çŠ¶æ€ï¼Œåœºå†…ä»·æ ¼ä½ï¼Œå‡€å€¼é«˜ã€‚æ­¤æ—¶å¦‚æœæˆ‘ä»¬æŒæœ‰æ­¤åŸºé‡‘ï¼Œé‚£ä¹ˆå°±å¯ä»¥åœ¨å°¾ç›˜ï¼Œ&lt;strong&gt;æŒ‰ç…§å‡€å€¼èµå›ï¼ŒåŒæ—¶ä¹°å…¥ç­‰é¢çš„åœºå†…åŸºé‡‘ï¼Œå®ç°äº†â€œé«˜å–ä½ä¹°â€çš„å¥—åˆ©æ“ä½œï¼Œèµšå–å·®ä»·ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;æŠ˜ä»·&lt;/strong&gt;å¥—åˆ©ä»…é€‚åˆé•¿æœŸæŒæœ‰çš„åŸºé‡‘åšåº•ä»“ï¼Œä¸é€‚åˆæ–°ä¹°å…¥çš„åŸºé‡‘åšåº•ä»“ï¼Œè€Œä¸”åªèƒ½åšä¸€æ¬¡ï¼Œä¸é€‚åˆé¢‘ç¹æ“ä½œã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;æº¢ä»·å¥—åˆ©ç›¸æ¯”æŠ˜ä»·å¥—åˆ©ï¼Œæ‰‹ç»­è´¹æ›´ä½ï¼Œè€—æ—¶æ›´çŸ­ï¼Œèµ„é‡‘åˆ©ç”¨ç‡æ›´é«˜ï¼Œæœ€é‡è¦çš„æ˜¯é£é™©ä¹Ÿæœ€ä½ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;h3 id=&quot;æº¢ä»·å¥—åˆ©&quot;&gt;æº¢ä»·å¥—åˆ©&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;æº¢ä»·å¥—åˆ©çš„ç†è®ºçŸ¥è¯†ç‚¹å¾ˆç®€å•ï¼Œå°±æ˜¯å½“åŸºé‡‘åœºå†…ä»·æ ¼é«˜äºå‡€å€¼æ—¶ï¼Œå°±å¯ä»¥é€šè¿‡å–å‡ºåœºå†…ä»½é¢ï¼ŒåŒæ—¶åœ¨åœºå†…ç”³è´­ç­‰å€¼çš„åŸºé‡‘ä»½é¢ï¼ˆåœºå†…ç”³è´­çš„å¡«å†™çš„æ˜¯ç”³è´­çš„é‡‘é¢ï¼‰ï¼Œ&lt;/strong&gt;è¿™æ ·å°±å®Œæˆäº†ä¸€è½®æº¢ä»·å¥—åˆ©æ“ä½œ&lt;/p&gt;

&lt;p&gt;æº¢ä»·å¥—åˆ©çš„æ“ä½œæ—¶é—´ä¸€èˆ¬æ˜¯åœ¨ä¸¤ç‚¹åŠåï¼Œè·Ÿæ®åŸºé‡‘çš„ä¼°å€¼å’Œåœºå†…æˆäº¤ä»·æ ¼ï¼Œè®¡ç®—å‡ºåŸºé‡‘çš„æº¢ä»·ç‡ï¼Œåˆ¤æ–­åŸºé‡‘æ˜¯å¦å‡ºç°æº¢ä»·å¥—åˆ©æœºä¼šï¼Œä¹Ÿå¯ä»¥ç›´æ¥æŸ¥çœ‹æŸå¾®æŸå·â€œå°é±¼çš„å‚¨é’±ç½â€ï¼Œä¼šç›´æ¥æ˜¾ç¤ºæº¢ä»·ç‡ï¼Œè¿˜å¯ä»¥å¼€å¯æé†’ï¼Œé¿å…é”™å¤±æœºä¼š&lt;/p&gt;

&lt;p&gt;ç†è®ºä¸Šå½“æº¢ä»·ç‡ - æˆæœ¬ç‡ &amp;gt; 0%æ—¶ï¼Œå°±æœ‰æº¢ä»·å¥—åˆ©çš„æœºä¼šï¼Œä½†æ˜¯å› ä¸ºä¼°å€¼ä¼šæœ‰è¯¯å·®ï¼Œä¿å®ˆçš„å¥—åˆ©ç­–ç•¥æ˜¯å½“æº¢ä»·ç‡å¤§äº0.5%æ—¶ï¼Œæ‰è¿›è¡Œæº¢ä»·å¥—åˆ©æ“ä½œï¼Œè¿™æ ·å¯ä»¥å¤§å¤§å¢åŠ å¥—åˆ©çš„æˆåŠŸç‡ï¼Œå‡å°‘åƒé¢çš„å¯èƒ½ã€‚å½“ç„¶è¿™ä¹Ÿä¸æ˜¯ä¸€æ¡æ­»è§„åˆ™ï¼Œæˆ‘ä»¬å¯ä»¥çµæ´»è§‚å¯ŸåŸºé‡‘çš„å†å²ä¼°å€¼è¯¯å·®ç‡ï¼Œå¦‚æœè¯¯å·®ç‡å°çš„ï¼Œæˆ‘ä»¬å°±å¯ä»¥é™ä½æº¢ä»·ç‡çš„è¦æ±‚ï¼Œä¾‹å¦‚æŸäº›æŒ‡æ•°LOFã€‚&lt;/p&gt;

&lt;p&gt;å•æ¬¡æº¢ä»·å¥—åˆ©çš„æˆæœ¬ç‡å¤§çº¦æ˜¯0.16%ï¼ˆç”³è´­è´¹ä¸€æŠ˜0.15%+åŸºé‡‘å–å‡ºä½£é‡‘ä¸‡åˆ†ä¹‹ä¸€ï¼‰ï¼Œä¸åŒçš„åˆ¸å•†å¯èƒ½ä¼šæœ‰å·®åˆ«&lt;/p&gt;

&lt;h4 id=&quot;æ— åº•ä»“&quot;&gt;æ— åº•ä»“&lt;/h4&gt;

&lt;p&gt;&lt;strong&gt;æº¢ä»·å¥—åˆ©çš„æ“ä½œæ­¥éª¤ï¼ˆæ— åº•ä»“ï¼‰ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1ã€Tæ—¥ä½ å‘ç°åŸºé‡‘åœºå†…ä»·æ ¼å‡ºç°æº¢ä»·ï¼Œä½ ç»è¿‡æ·±æ€ç†Ÿè™‘åï¼Œåœ¨ä¸‹åˆ3ç‚¹å‰é€šè¿‡åœºå†…ç”³è´­äº†è¯¥åŸºé‡‘ï¼ˆåœºå†…ç”³è´­å¡«å†™çš„æ˜¯ç”³è´­é‡‘é¢ï¼Œè€Œä¸æ˜¯ä»½é¢ï¼‰ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2ã€T+2æ—¥ï¼Œç”³è´­çš„åŸºé‡‘ä»½é¢åˆ°è´¦åï¼Œåœ¨åœºå†…å–å‡ºåˆ°è´¦çš„åŸºé‡‘ä»½é¢ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;3ã€æ“ä½œå®Œä¸Šé¢ä¸¤æ­¥ä¸€è½®å¥—åˆ©å°±å®Œæˆäº†ï¼Œä½†æ˜¯ä½ ä¸€å®šè¦çŸ¥é“ï¼Œä½ ç”³è´­çš„åŸºé‡‘æ˜¯T+2æ—¥åˆ°è´¦ï¼Œé‚£ä½ æ— åº•ä»“å¥—åˆ©å°±å¿…é¡»æ‰¿å—T+1æ—¥çš„æ³¢åŠ¨å’ŒT+2æ—¥å¼€ç›˜æ—¶çš„æ³¢åŠ¨ã€‚ä½ ä¹Ÿä¸€å®šè¦æœ‰è‡ªå·±ç‹¬ç«‹çš„æ€è€ƒï¼Œè¿™å¹¶ä¸æ˜¯ä¸€å®šä¼šæˆåŠŸçš„ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;4ã€æ— åº•ä»“å¥—åˆ©ï¼Œè¿˜å¯èƒ½ä¼šé‡åˆ°è¸©è¸äº‹ä»¶ï¼Œè¿™å°±è¦æ±‚ä½ å¿…é¡»æŒæ¡è·Œåœé€ƒè·‘ç§˜ç±ï¼Œä»¥å¤‡ä¸æ—¶ä¹‹éœ€ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ç»¼ä¸Šï¼Œæˆ‘ä»¬é•¿æœŸå¥—åˆ©æœ€å¤šçš„è‚¯å®šæ˜¯æœ‰åº•ä»“å¥—åˆ©ï¼Œæ— åº•ä»“å¥—åˆ©åªæ˜¯å¶å°”æ‰“æ‰“æ¸¸å‡»ã€‚&lt;/p&gt;

&lt;h4 id=&quot;æœ‰åº•ä»“&quot;&gt;æœ‰åº•ä»“&lt;/h4&gt;

&lt;p&gt;&lt;strong&gt;æº¢ä»·å¥—åˆ©çš„æ“ä½œæ­¥éª¤ï¼ˆæœ‰åº•ä»“ï¼‰ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1ã€åœºå†…å–å‡ºåŸºé‡‘ä»½é¢ï¼Œé’±å®æ—¶åˆ°è´¦ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2ã€åœºå†…ç”³è´­åŒç­‰çš„åŸºé‡‘ä»½é¢ï¼Œä¸€å®šè¦åœ¨ä¸‹åˆ3ç‚¹å‰æäº¤ç”³è´­ï¼Œåœºå†…ç”³è´­å¡«å†™çš„æ˜¯ç”³è´­é‡‘é¢ï¼Œè€Œä¸æ˜¯ä»½é¢ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;3ã€æ™šä¸ŠæŸ¥çœ‹åŸºé‡‘å‡€å€¼ï¼Œè®¡ç®—æ­¤æ¬¡å¥—åˆ©æ”¶ç›Šï¼Œæœ‰è‡ªåŠ©è®°å½•çš„ç¥å™¨å¸®ä½ ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;4ã€T+1æ—¥æ™šä¸Šæ¸…ç®—ååŸºé‡‘ä¼šåˆ°è¾¾åœºå†…è´¦æˆ·ï¼ŒT+2æ—¥å°±å¯ä»¥å–å‡ºå¾ªç¯å¥—åˆ©ï¼ˆå¦‚æœè¿˜æœ‰å¥—åˆ©æœºä¼šï¼‰ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;h3 id=&quot;åŸºé‡‘å¥—åˆ©å…³é”®æ—¶é—´ç‚¹&quot;&gt;åŸºé‡‘å¥—åˆ©å…³é”®æ—¶é—´ç‚¹&lt;/h3&gt;

&lt;p&gt;è¦æƒ³å­¦ä¼šåŸºé‡‘å¥—åˆ©ï¼Œå¿…é¡»æ¸…æ¥šä»¥ä¸‹ä¸‰ä¸ªæ—¶é—´ç‚¹ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;åŸºé‡‘æŒä»“è‚¡æ”¶ç›˜æ—¶é—´&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;åŸºé‡‘å‡€å€¼å…¬å¸ƒæ—¶é—´&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;åŸºé‡‘æˆäº¤åˆ°è´¦æ—¶é—´&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;1-åŸºé‡‘æŒä»“è‚¡æ”¶ç›˜æ—¶é—´&quot;&gt;1. åŸºé‡‘æŒä»“è‚¡æ”¶ç›˜æ—¶é—´&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Aè‚¡åŸºé‡‘&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;äº¤æ˜“æ—¥æ”¶ç›˜å‰ï¼ˆä¸‹åˆ3ç‚¹ï¼‰åœºå†…ç”³è´­ï¼Œæˆäº¤å‡€å€¼æŒ‰å½“å¤©ï¼ˆT+0ï¼‰è‚¡ç¥¨æ”¶ç›˜ä»·è®¡ç®—ï¼Œç›¸å½“äºå½“æ—¥æ”¶ç›˜ä»·ä¹°å…¥ä¸€æ½å­è‚¡ç¥¨ã€‚&lt;/li&gt;
      &lt;li&gt;ä¾‹å¦‚ï¼š2æœˆ17æ—¥ä¸‹åˆ3ç‚¹å‰ç”³è´­ä¸‡å®¶ä¼˜é€‰ï¼ˆ161903ï¼‰ï¼Œæˆäº¤å‡€å€¼æŒ‰17æ—¥æŒä»“è‚¡ç¥¨æ”¶ç›˜ä»·è®¡ç®—ï¼Œç›¸å½“äºå°¾ç›˜ä¹°å…¥è¿™äº›è‚¡ç¥¨ã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ç¾è‚¡åŸºé‡‘&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;äº¤æ˜“æ—¥æ”¶ç›˜å‰ï¼ˆä¸‹åˆ3ç‚¹ï¼‰åœºå†…ç”³è´­ï¼Œæˆäº¤å‡€å€¼æŒ‰æ¬¡æ—¥ï¼ˆT+1ï¼‰ç¾è‚¡æ”¶ç›˜ä»·è®¡ç®—ï¼Œç›¸å½“äºæ¬¡æ—¥ç¾è‚¡æ”¶ç›˜ä»·ä¹°å…¥è‚¡ç¥¨ã€‚&lt;/li&gt;
      &lt;li&gt;ä¾‹å¦‚ï¼š2æœˆ17æ—¥ä¸‹åˆ3ç‚¹å‰ç”³è´­ä¸­å›½äº’è”ï¼ˆ164906ï¼‰ï¼Œæˆäº¤å‡€å€¼æŒ‰18æ—¥ç¾è‚¡é˜¿é‡Œå·´å·´ã€äº¬ä¸œã€æ‹¼å¤šå¤šç­‰æ”¶ç›˜ä»·è®¡ç®—ã€‚&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;æ³¨æ„&lt;/strong&gt;ï¼šç”³è´­ç¾è‚¡åŸºé‡‘æ—¶ï¼Œå› ä¸çŸ¥æ¬¡æ—¥æ”¶ç›˜ä»·ï¼Œæˆäº¤ä»·æ ¼å§‹ç»ˆæœªçŸ¥ã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;2-åŸºé‡‘å‡€å€¼å…¬å¸ƒæ—¶é—´&quot;&gt;2. åŸºé‡‘å‡€å€¼å…¬å¸ƒæ—¶é—´&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Aè‚¡åŸºé‡‘&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;ä¸‹åˆ3ç‚¹å‰ï¼ˆT+0ï¼‰ç”³è´­ï¼Œå‡€å€¼å½“æ™šå…¬å¸ƒï¼Œæ­¤æ—¶å¯æŸ¥çœ‹æˆäº¤ä»·æ ¼ï¼Œä½†å°šæœªæˆäº¤ã€‚&lt;/li&gt;
      &lt;li&gt;ä¾‹å¦‚ï¼š2æœˆ17æ—¥ä¸‹åˆ3ç‚¹å‰ç”³è´­ä¸‡å®¶ä¼˜é€‰ï¼ˆ161903ï¼‰ï¼Œæˆäº¤å‡€å€¼åœ¨17æ—¥æ™šä¸Šå…¬å¸ƒã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ç¾è‚¡åŸºé‡‘&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;äº¤æ˜“æ—¥æ”¶ç›˜å‰ï¼ˆT+0ï¼‰ç”³è´­ï¼Œå‡€å€¼åœ¨æ¬¡æ—¥ï¼ˆT+1ï¼‰å…¬å¸ƒã€‚&lt;/li&gt;
      &lt;li&gt;ä¾‹å¦‚ï¼š2æœˆ17æ—¥ä¸‹åˆ3ç‚¹å‰ç”³è´­ä¸­å›½äº’è”ï¼ˆ164906ï¼‰ï¼Œæˆäº¤å‡€å€¼åœ¨2æœˆ18æ—¥å…¬å¸ƒã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;3-åŸºé‡‘æˆäº¤åˆ°è´¦æ—¶é—´&quot;&gt;3. åŸºé‡‘æˆäº¤åˆ°è´¦æ—¶é—´&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Aè‚¡åŸºé‡‘&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;T+0æ—¥å‡€å€¼å…¬å¸ƒåï¼ŒT+1æ—¥æ¸…ç®—æˆäº¤ï¼ŒT+2æ—¥å¼€ç›˜å‰åˆ°è´¦ã€‚&lt;/li&gt;
      &lt;li&gt;ä¾‹å¦‚ï¼š2æœˆ17æ—¥ä¸‹åˆ3ç‚¹å‰ç”³è´­ä¸‡å®¶ä¼˜é€‰ï¼ˆ161903ï¼‰ï¼Œå‡€å€¼17æ—¥æ™šä¸Šå…¬å¸ƒï¼Œ18æ—¥æ¸…ç®—ï¼Œ19æ—¥å¼€ç›˜å‰åˆ°è´¦ã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ç¾è‚¡åŸºé‡‘&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;T+1æ—¥å‡€å€¼å…¬å¸ƒåï¼ŒT+2æ—¥æ¸…ç®—æˆäº¤ï¼ŒT+3æ—¥å¼€ç›˜å‰åˆ°è´¦ã€‚&lt;/li&gt;
      &lt;li&gt;ä¾‹å¦‚ï¼š2æœˆ17æ—¥ä¸‹åˆ3ç‚¹å‰ç”³è´­ä¸­å›½äº’è”ï¼ˆ164906ï¼‰ï¼Œå‡€å€¼18æ—¥å…¬å¸ƒï¼Œ19æ—¥æ¸…ç®—ï¼Œ20æ—¥å¼€ç›˜å‰åˆ°è´¦ã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;é‡è¦æé†’&quot;&gt;é‡è¦æé†’&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;ç”³è´­Aè‚¡åŸºé‡‘ï¼Œæˆäº¤ä»·å·²çŸ¥ã€‚&lt;/li&gt;
  &lt;li&gt;ç”³è´­ç¾è‚¡åŸºé‡‘ï¼Œæˆäº¤ä»·æœªçŸ¥ï¼Œéœ€è°¨æ…ã€‚&lt;/li&gt;
  &lt;li&gt;ç‰¢è®°åŸºé‡‘å¥—åˆ©çš„ä¸‰ä¸ªå…³é”®æ—¶é—´ç‚¹ï¼Œé¿å…ä¸å¿…è¦çš„æŸå¤±ï¼&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;lof&quot;&gt;LOF&lt;/h2&gt;

&lt;p&gt;https://xueqiu.com/1095267696/138669898?md5__1038=n4%2Bx9DRDBDgDyDGxQqb4Bq8otD%3Dbqeyb7AID&lt;/p&gt;

&lt;p&gt;1ï¼ŒLOFåŸºé‡‘çš„ä¸»è¦ç‰¹ç‚¹å°±æ˜¯ï¼Œå¯ä»¥åœ¨åœºå†…ä»¥å®æ—¶ä»·æ ¼è¿›è¡Œä¹°å–ï¼Œåˆèƒ½å¤Ÿåœ¨åœºå†…å’Œåœºå¤–é€šè¿‡å‡€å€¼ç”³è´­å’Œèµå›ã€‚&lt;/p&gt;

&lt;p&gt;ä¸å¥½ç†è§£ï¼Œæ¢ä¸€ç§è¯´æ³•ï¼ŒLOFå¯ä»¥åœ¨åœºå†…äº¤æ˜“ï¼Œä¹Ÿèƒ½åœ¨åœºå†…å’Œåœºå¤–ç”³èµã€‚ï¼ˆåæ–‡æ‰€è¿°å…¨éƒ¨ä¸ºåœºå†…ç”³èµï¼Œåœºå¤–ç”³èµä¸æœ¬æ–‡æ— å…³ï¼Œæš‚æ—¶ä¸å†æåŠï¼‰&lt;/p&gt;

&lt;p&gt;åœºå†…äº¤æ˜“ç”¨çš„æ˜¯å®æ—¶ä»·æ ¼ï¼Œäº¤æ˜“ä»·æ ¼éšæ—¶å˜åŒ–ï¼Œå’Œä¹°å–è‚¡ç¥¨å®Œå…¨ä¸€æ ·ã€‚åœºå†…ç”³èµç”¨çš„æ˜¯æ¯å¤©æ”¶ç›˜åçš„å‡€å€¼ï¼Œæ¯å¤©åªæœ‰ä¸€ä¸ªã€‚&lt;/p&gt;

&lt;p&gt;2ï¼ŒåŒä¸€ä¸ªåŸºé‡‘ï¼Œä¸¤ä¸ªåœ°æ–¹äº¤æ˜“ï¼Œä»·æ ¼å¿…ç„¶ä¸å®Œå…¨ç›¸åŒã€‚åæ–‡ç”¨äº¤æ˜“ä»·æ ¼å’Œå‡€å€¼ï¼ˆç”³èµå‡€å€¼ï¼‰è¡¨ç¤ºä¸¤ä¸ªä¸åŒå¸‚åœºã€‚&lt;/p&gt;

&lt;p&gt;3ï¼Œäº¤æ˜“ä»·æ ¼&amp;gt;å‡€å€¼ï¼Œç§°ä¸ºæº¢ä»·ï¼›äº¤æ˜“ä»·æ ¼&amp;lt;å‡€å€¼ï¼Œç§°ä¸ºæŠ˜ä»·ã€‚&lt;/p&gt;

&lt;p&gt;æº¢ä»·å’ŒæŠ˜ä»·éƒ½æ˜¯ç”¨å½“å‰ä»·æ ¼å’Œå‡€å€¼è¿›è¡Œæ¯”è¾ƒå¾—æ¥çš„ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;** æ³¨æ„è¿™é‡Œæ‰€è¯´çš„å‡€å€¼æ˜¯å®æ—¶å‡€å€¼ï¼Œä¹Ÿå°±æ˜¯ä¼°ç®—å‡€å€¼ï¼Œè¶Šæ˜¯æ¥è¿‘æ”¶ç›˜æ—¶é—´ï¼Œä¼°ç®—å‡€å€¼å°±è¶Šæ¥è¿‘çœŸå®å‡€å€¼ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ï¼ˆä¸Šé¢è¿™å¥è¯éå¸¸é‡è¦ï¼Œä¸€å®šè¦çœŸæ­£ç†è§£æ‰è¡Œï¼Œè¿™æ˜¯å¥—åˆ©æˆåŠŸçš„æœ€å…³é”®å› ç´ ï¼‰&lt;/p&gt;

&lt;p&gt;çœŸå®å‡€å€¼æ˜¯æ¯å¤©æ”¶ç›˜ååŸºé‡‘å…¬å¸æ‰å‘å¸ƒçš„ï¼Œæ˜¯å‡†ç¡®çš„ï¼Œæ¯å¤©åªæœ‰ä¸€ä¸ªã€‚&lt;/p&gt;

&lt;p&gt;4ï¼ŒåŒä¸€ä¸ªåŸºé‡‘ï¼Œä»ä»·æ ¼ä½çš„åœ°æ–¹ä¹°(ç”³è´­)æ¥ï¼Œç„¶ååˆ°ä»·æ ¼é«˜çš„åœ°æ–¹å–(èµå›)ï¼Œå°±å«å¥—åˆ©ï¼Œä¸­é—´äº§ç”Ÿçš„å·®ä»·å°±æ˜¯å¥—åˆ©æ”¶ç›Šã€‚&lt;/p&gt;

&lt;p&gt;5ï¼Œæº¢ä»·å¥—åˆ©ï¼šå–å‡º-ç”³è´­ï¼ˆå…ˆç®€å•çŸ¥é“å°±å¥½ï¼Œåé¢ä¼šè¯¦ç»†ä»‹ç»æ“ä½œè¿‡ç¨‹ä»¥åŠæ³¨æ„äº‹é¡¹ï¼‰ï¼ˆç”³è´­-å–å‡ºä¼šæ€ä¹ˆæ ·ï¼Œå…¶å®ä¹Ÿå¯ä»¥ï¼Œä¸ºäº†ä¸æçš„å¤ªå¤æ‚ï¼Œå…ˆä¸è¯´äº†ï¼‰&lt;/p&gt;

&lt;p&gt;å½“äº¤æ˜“ä»·æ ¼&amp;gt;å‡€å€¼æ—¶ï¼Œå…ˆæŒ‰äº¤æ˜“ä»·æ ¼å–å‡ºï¼Œå†æŒ‰å‡€å€¼ç”³è´­ï¼Œï¼Œä¸­é—´çš„å·®ä»·å°±æ˜¯æ”¶ç›Šã€‚&lt;/p&gt;

&lt;p&gt;æŠ˜ä»·å¥—åˆ©ï¼šèµå›-ä¹°å…¥&lt;/p&gt;

&lt;p&gt;äº¤æ˜“ä»·æ ¼&amp;lt;å‡€å€¼æ—¶ï¼Œå…ˆæŒ‰æŒ‰å‡€å€¼èµå›ï¼Œç„¶åæŒ‰äº¤æ˜“ä»·æ ¼ä¹°å…¥&lt;/p&gt;

&lt;h2 id=&quot;å¥—åˆ©é€‰æ‹©&quot;&gt;å¥—åˆ©é€‰æ‹©&lt;/h2&gt;

&lt;p&gt;åå®æ²¹æ°” 162411&lt;/p&gt;

&lt;p&gt;ä¸­å›½äº’è” 164906&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;å¤©å¼˜æ·»åˆ©&lt;/li&gt;
  &lt;li&gt;164206å¤©å¼˜æ·»åˆ©ï¼Œ161010å¯Œå›½å¤©ä¸°ï¼Œè¿˜æœ‰å¯è½¬å€ºETF&lt;/li&gt;
  &lt;li&gt;160140ï¼Ÿ&lt;/li&gt;
  &lt;li&gt;164206&lt;/li&gt;
  &lt;li&gt;æ‹›å•†åŒå€ºæŠ˜ä»·&lt;/li&gt;
  &lt;li&gt;ETFåŸºæœ¬ä¸Šæ²¡æœ‰å¥—åˆ©ç©ºé—´ï¼Œè€Œä¸”èµ·æ­¥éƒ½æ¯”è¾ƒé«˜100ä¸‡ä»½ï¼Œ300ä¸‡ä»½ç­‰ç­‰ï¼Œå°‘çš„å¥½åƒ50ä¸‡ä»½ä¹Ÿæœ‰&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Fulong Ma</name></author><category term="Finance" /><category term="Finance" /><summary type="html">å¥—åˆ©</summary></entry></feed>