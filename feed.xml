<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.9.2">Jekyll</generator><link href="https://mafulong.github.io/feed.xml" rel="self" type="application/atom+xml" /><link href="https://mafulong.github.io/" rel="alternate" type="text/html" /><updated>2025-08-27T08:58:44+08:00</updated><id>https://mafulong.github.io/feed.xml</id><title type="html">Fulongã®blog</title><subtitle>Fulongã®blog</subtitle><author><name>Fulong Ma</name></author><entry><title type="html">é¦™æ¸¯åŠå¡</title><link href="https://mafulong.github.io/2025/08/24/%E9%A6%99%E6%B8%AF%E5%8A%9E%E5%8D%A1/" rel="alternate" type="text/html" title="é¦™æ¸¯åŠå¡" /><published>2025-08-24T00:00:00+08:00</published><updated>2025-08-24T00:00:00+08:00</updated><id>https://mafulong.github.io/2025/08/24/%E9%A6%99%E6%B8%AF%E5%8A%9E%E5%8D%A1</id><content type="html" xml:base="https://mafulong.github.io/2025/08/24/%E9%A6%99%E6%B8%AF%E5%8A%9E%E5%8D%A1/">&lt;h2 id=&quot;é¦™æ¸¯åŠå¡&quot;&gt;é¦™æ¸¯åŠå¡&lt;/h2&gt;

&lt;p&gt;å†…åœ°äººå¼€é¦™æ¸¯è´¦æˆ·éƒ½éœ€è¦æ³¨æ„ä»€ä¹ˆå‘¢ï¼Ÿ 1ï¸âƒ£é¦–å…ˆäººå¿…é¡»åœ¨é¦™æ¸¯ï¼Œè¿›å…¥é¦™æ¸¯åï¼Œè¿ä¸Šæœ¬åœ°çš„wifiï¼Œæœºåœºã€å…¬å›­ã€åœ°é“ç«™éƒ½æœ‰å…è´¹ğŸ›œWiFiï¼Œæ‰‹æœºä¸‹è½½å¥½ä¸­é“¶å’Œæ±‡ä¸°ä¸¤ä¸ªAppï¼Œæˆ‘ä»¥æ±‡ä¸°ä¸ºä¾‹ã€‚&lt;/p&gt;

&lt;p&gt;èº«ä»½éªŒè¯ï¼š âœ…ç”¨æ‰‹æœºNFCåŠŸèƒ½æ‰«ææ¸¯æ¾³é€šè¡Œè¯ï¼ˆè´´æ‰‹æœºèƒŒéƒ¨ä¸Šæ–¹ï¼‰ï¼› âœ…äººè„¸è¯†åˆ«ï¼ˆæ‘˜çœ¼é•œï¼å…‰çº¿è¦äº®ï¼Œåˆ«é®æŒ¡ï¼‰ï¼› âœ…ä¸Šä¼ ç§»æ°‘å±€å‡ºå…¥å¢ƒè®°å½•ï¼ˆå¾®ä¿¡æå‰æœç´¢ï¼šâ€œç§»æ°‘å±€12367â€ä¸‹è½½å¥½å‡ºå…¥å¢ƒè®°å½•ï¼Œæ³¨æ„æ˜¯æ˜¯PDFæ ¼å¼ï¼‰&lt;/p&gt;

&lt;p&gt;æ³¨æ„äº‹é¡¹ï¼š âœ…æ‰‹æœºè¦å¼€é€šæ¼«æ¸¸ï¼Œæ¥æ”¶éªŒè¯ç  âœ…èº«ä»½è¯ã€æ¸¯æ¾³é€šè¡Œè¯æœ‰æ•ˆæœŸå¿…é¡»å¤§äº6ä¸ªæœˆä»¥ä¸Š âœ…å…¥å¢ƒæ—¶å¦‚æœèµ°äººå·¥é€šé“ä¿ç•™å¥½ç­¾è¯å°ç™½æ¡ï¼Œå¦‚æœèµ°è‡ªåŠ©é€šé“ï¼Œå»å‡ºå…¥å¢ƒç½‘ç«™æˆªå±å…¥å¢ƒè®°å½•ã€‚ âœ…æ”¶åˆ°å®ä½“å¡åï¼Œ åˆ«å¿˜äº†åœ¨æ‰‹æœºé“¶è¡Œé‡Œæ¿€æ´»ï¼Œå­˜100å…ƒ âœ…å¼€å¡åç‰¢è®°è´¦æˆ·å’Œå¯†ç ï¼Œæœ€å¥½å†™ä¸‹æ¥ âœ…å®ä½“å¡çº¦20ä¸ªå·¥ä½œæ—¥å¯„åˆ°å†…åœ°å®¶ä¸­&lt;/p&gt;

&lt;p&gt;ã€&lt;/p&gt;

&lt;p&gt;https://www.xiaohongshu.com/explore/67de7a2c0000000009039ee1?xsec_token=ABSpfbH7nGGPDEp91QFWP_ospSxrGufHQLykJzflM2Iv0=&amp;amp;xsec_source=pc_search&amp;amp;source=web_explore_feed&lt;/p&gt;

&lt;p&gt;æˆ‘åŠçš„å¡ï¼šæœ‰æ±‡ä¸°ã€ä¸­é“¶ã€å·¥é“¶ã€å»ºäºšã€ä¿¡é“¶ã€ZAã€å¤©æ˜Ÿã€æ°¸éš†ã€‚&lt;/p&gt;

&lt;p&gt;æ¨èåŠç†ï¼š
æ±‡ä¸°ã€ä¸­é“¶ã€å·¥é“¶ã€ZAã€å¤©æ˜Ÿã€‚&lt;/p&gt;

&lt;p&gt;ZA(ä¼—å®‰)é“¶-è¡Œç ï¼šHW2B47
å¼€-æˆ·æ—¶å¡«æˆ‘çš„é‚€-è¯·ç ï¼Œè¾¾-æ ‡åæˆ‘ä¸ªäººè¿”100æ¸¯-å¸ç»™ä½ 
æ€ä¹ˆæ‰èƒ½è¾¾ï¼æ ‡ï¼š1ã€åœ¨é¦™æ¸¯å¼€æŠ•-èµ„è´¦-æˆ·(å¿…é¡»åœ¨é¦™æ¸¯æ‰èƒ½å¼€)ï¼Œ2ã€å®¡æ ¸é€šè¿‡åæ”¾1000æ¸¯å¸åœ¨è´¦-æˆ·é‡Œï¼Œå…¶ä¸­100è¦ä¹°åŸº-é‡‘ï¼Œ3ã€ä¸€å¤©å·¦å³å°±èƒ½è¾¾ã€‚
åŠ-ç†ç†ç”±ï¼š
1.ä¸­é“¶ã€æ±‡ä¸°ã€å·¥é“¶èµ„-é‡‘å…è´¹å‡ºå›½ã€‚
2.å»ºäºšã€å·¥é“¶ã€ATMç›´æ¥å–ç°ã€‚
5.ä¿¡é“¶å¤§å¯Œç¿å­˜-æ¬¾åˆ©-ç‡é«˜ï¼Œç©ä¿¡-ç”¨å¡å¿…å¼€ã€‚
4.ZAå¯¹è™š-æ‹Ÿè´§-å¸å‹å¥½ï¼Œé¦™æ¸¯æ’åç¬¬ä¸€çš„è™š-æ‹Ÿ-é“¶è¡Œã€‚
5.å¤©æ˜Ÿæ¢æ±‡å¾ˆå¥½ã€‚&lt;/p&gt;

&lt;p&gt;å¼€å¡æ³¨æ„äº‹é¡¹ï¼š
1.ä¸­é“¶ç†ç”±æŠ•-èµ„ç†-è´¢ï¼Œä¸‹é¢éƒ½ç”¨è¿™ä¸ªã€‚ä¼šéœ€è¦ä½ æä¾›æŠ•-èµ„-è¯æ˜ï¼Œä½ æå‰åœ¨æ”¯-ä»˜å®ä¹°-ä¸ªå‡ ç™¾å—åŸº-é‡‘å°±å¥½ã€‚
2.æ±‡ä¸°å¯èƒ½ä¼šçœ‹æŠ•-èµ„è¯æ˜ï¼Œæœ€å®¹æ˜“çš„ï¼Œä¹Ÿå¯ä»¥æ‰‹æœºå¼€æˆ·ï¼Œå­˜100æ¿€æ´»ã€‚
3.&lt;strong&gt;å·¥é“¶ç½‘ä¸Šç”³-è¯·ï¼Œä¹‹åé¢„çº¦ç½‘ç‚¹ï¼Œè¿˜æœ‰ä¸€ä¸ªæ¸ é“åœ¨è½é©¬æ´²åœ°é“ç«™å’Œç½—æ¹–å£å²¸å‡ºå¢ƒæ–¹å‘æœ‰vtmå¼€æˆ·ï¼Œæˆ‘å°±åœ¨é‚£å¼€çš„ï¼Œç†ç”±ç†-è´¢ï¼Œå¼€-ä¸äº†æŠ•-èµ„ã€‚&lt;/strong&gt;å»ºè®®æœ‰ç©ºå»ç”³é¢†å¯†ç å™¨å’Œè®¾ç½®ATMæµ·å¤–å–-æ¬¾ï¼Œæœ€é•¿5å¹´(æ‰“äººå·¥ç”µè¯æˆ–åœ¨é¦™æ¸¯ATMè®¾ç½®)ï¼Œæ—¥2Wï¼Œæœ‰äº›ç½‘ç‚¹å¯èƒ½è¦å­˜1Wæœ‰äº›ä¸ç”¨ã€‚
4.å»ºäºšå…ˆåœ¨å…¬ä¼—å·æˆ–appå¡«è¡¨ï¼Œä¹‹åä¼šæœ‰æ€»è¡Œçš„äººè”ç³»ä½ ï¼Œå¸®ä½ é¢„-çº¦ä½ é€‰çš„å¼€-æˆ·è¡Œï¼Œå°±ç®—æ²¡é¢„çº¦ä¸Šåˆ°äº†åˆ†è¡Œä»–ä»¬æ ¸-å®åä¸€èˆ¬ä¹Ÿä¼šå¸®ä½ åŠç†ï¼Œä¸ç”¨å­˜-é’±ã€‚
5.&lt;strong&gt;ä¿¡é“¶é¢„çº¦ç›´æ¥å»å¼€-æˆ·ï¼Œç”³é¢†ææ¬¾å¡å…è´¹é‚®å¯„çš„ï¼Œä¸ç”¨å­˜-é’±ã€‚ç½‘ä¸Šå¼€-æˆ·æƒ³è¦ææ¬¾å¡ï¼ŒæŸäº›ç½‘ç‚¹ç­‰1å¤©ï¼Œå¤§å¤šæ•°è¦ç­‰7å¤©æ‰å¯ç”³é¢†ï¼Œé¿å‘é¦™æ¸¯å²›ã€‚&lt;/strong&gt;
6.&lt;strong&gt;ZAå’Œå¤©æ˜Ÿï¼Œç›´æ¥å¼€ã€‚&lt;/strong&gt;
7.æ‹›å•†æ°¸éš†ï¼Œèµ„-é‡‘æ²¡è¾¾æ ‡50wç»™ä½ å¼€å—é™è´¦-æˆ·ï¼Œæ™®é€šè´¦-æˆ·ä¹Ÿè¦éªŒ-èµ„ï¼Œæ²¡å•¥ç”¨ã€‚
8.å…¶ä»–è™šæ‹Ÿé“¶è¡Œæ²¡å•¥å¤§ç”¨ï¼Œé™¤éæœ‰æ´»åŠ¨é€é’±æ‰å¼€ã€‚&lt;/p&gt;

&lt;p&gt;èµ„-é‡‘å‡ºå›½ï¼š
1.å…´ä¸šç¯å®‡äººç”Ÿ(è´­æ±‡5æŠ˜æœ€æ¨è)â†’æ±‡ä¸°
2.ä¸­è¡Œâ†’ä¸­é“¶ï¼Œä¸­è¡Œè´­æ±‡ä¸ä¼˜ï¼Œæˆ‘ç¬¬ä¸€æ¬¡è¢«è–…äº†200å¤šå…ƒï¼Œå»ºè®®ä¸‹åˆè´­æ±‡ã€‚
3.å·¥è¡Œâ†’å·¥é“¶ï¼Œå¤§äºšæ¹¾å…è´¹ï¼Œå…¶ä»–åœ°åŒºå…è´¹åˆ°6æœˆ30æ—¥ã€‚
4.è¦æ‰‹ç»­è´¹çš„åƒç†ŠçŒ«é€Ÿæ±‡ï¼ŒWISEã€æ”¯ä»˜å®å’Œè…¾è®¯è·¨å¢ƒæ±‡æ¬¾ã€‚
7.äºº-è‚‰èƒŒæ¯æ¬¡é™2Wäººæ°‘å¸ç¾å…ƒæˆ‘æš‚ä¸è€ƒè™‘ï¼Œèƒ½å­˜äºº-æ°‘å¸çš„æœ‰ATMæŸœå°ä¸­é“¶ã€å·¥é“¶ã€å—æ´‹ã€æ°¸éš†ï¼Œæ±‡ä¸°æŸœå°ã€‚&lt;/p&gt;

&lt;p&gt;èµ„-é‡‘å›å†…åœ°ATMæœºå–-ç°æˆ–æ±‡-æ¬¾ï¼š
1.å»ºäºšæ— æŸå–çš„äºº-æ°‘å¸ã€‚
2.&lt;strong&gt;å·¥é“¶æœ‰æŸå–æ¸¯-å¸è½¬æ¢ï¼Œä½†æ±‡ç‡ä¼˜ï¼ŒæŸè€—å°ã€‚&lt;/strong&gt;
3.&lt;strong&gt;æ±‡ä¸°è“ç‹®å­å–ç°&lt;/strong&gt;
4.&lt;strong&gt;ä¸­é“¶â†’ä¸­è¡Œå…è´¹&lt;/strong&gt;
5.&lt;strong&gt;å·¥é“¶â†’å·¥è¡Œå…è´¹&lt;/strong&gt;
6.&lt;strong&gt;æ±‡ä¸°å’Œä¸­é“¶çš„æ‰£è´¦å¡ç»‘å®šæ”¯-ä»˜å®200å†…å…æ‰‹-ç»­è´¹ã€‚&lt;/strong&gt;
7.æ”¶è´¹ç†ŠçŒ«é€Ÿæ±‡ã€WISEã€æ”¯ä»˜-å®å’Œè…¾è®¯è·¨å¢ƒæ±‡-æ¬¾&lt;/p&gt;</content><author><name>Fulong Ma</name></author><category term="DailyLife" /><category term="DailyLife" /><summary type="html">é¦™æ¸¯åŠå¡</summary></entry><entry><title type="html">win11æ¸¸æˆä¸»æœºé…ç½®</title><link href="https://mafulong.github.io/2025/08/17/win11%E6%B8%B8%E6%88%8F%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE/" rel="alternate" type="text/html" title="win11æ¸¸æˆä¸»æœºé…ç½®" /><published>2025-08-17T00:00:00+08:00</published><updated>2025-08-17T00:00:00+08:00</updated><id>https://mafulong.github.io/2025/08/17/win11%E6%B8%B8%E6%88%8F%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE</id><content type="html" xml:base="https://mafulong.github.io/2025/08/17/win11%E6%B8%B8%E6%88%8F%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE/">&lt;h1 id=&quot;ä¸»æœº&quot;&gt;ä¸»æœº&lt;/h1&gt;

&lt;h2 id=&quot;win11æ¸¸æˆä¸»æœºé…ç½®&quot;&gt;win11æ¸¸æˆä¸»æœºé…ç½®&lt;/h2&gt;

&lt;h2 id=&quot;ç”µè„‘å¿…è£…è½¯ä»¶&quot;&gt;ç”µè„‘å¿…è£…è½¯ä»¶&lt;/h2&gt;

&lt;h3 id=&quot;ç”µè„‘é…ç½®&quot;&gt;ç”µè„‘é…ç½®&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;CPU&lt;/strong&gt;ï¼šAMD R7 9800X3D â€”â€” Â¥3299&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ä¸»æ¿&lt;/strong&gt;ï¼šæŠ€å˜‰ B850 å¤§å†°é›• WiFi d5 â€”â€” Â¥1649&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;å†…å­˜&lt;/strong&gt;ï¼šé˜¿æ–¯åŠ ç‰¹å¥³æ­¦ç¥äºŒä»£ 24Ã—2 48G DDR5 6000MHz C28 â€”â€” Â¥1089&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;å›ºæ€&lt;/strong&gt;ï¼šè‡´é’› TiPlus 7100 4TB â€”â€” Â¥1799&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;æ˜¾å¡&lt;/strong&gt;ï¼šå½±é©° RTX 5080 é‡‘å±å¤§å¸ˆç™½é‡‘ OC â€”â€” Â¥9299&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ç”µæº&lt;/strong&gt;ï¼šæµ·éŸµ FOCUS GX 1000W ATX3.1 ç™½é‡‘ç‰Œå…¨æ¨¡ç»„ â€”â€” Â¥1249&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;CPUæ•£çƒ­&lt;/strong&gt;ï¼šç“¦å°”åŸºé‡Œ B360GT â€”â€” Â¥549&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;æœºç®±&lt;/strong&gt;ï¼šçˆ±å›½è€… æ˜Ÿç’¨å¤§å²š â€”â€” Â¥449&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;é£æ‰‡&lt;/strong&gt;ï¼šæ£±é•œ 6Pro Ã—7 â€”â€” Â¥140&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;é©±åŠ¨&quot;&gt;é©±åŠ¨&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;æœºç®±ä¸‹é¢æœ‰ä¸ªå±æ˜¾ï¼Œæ²¡è£…&lt;/li&gt;
  &lt;li&gt;æ•£çƒ­çš„å±æ˜¾: myth.Cool åŒæ—¶å¯ä»¥å±•ç¤ºç³»ç»Ÿä¿¡æ¯&lt;/li&gt;
  &lt;li&gt;NVIDIA appï¼š æ˜¾å¡é©±åŠ¨&lt;/li&gt;
  &lt;li&gt;GIBGABYTE control center: æŠ€å˜‰ä¸»æ¿è½¯ä»¶ï¼ŒåŒæ—¶å¯ä»¥è‡ªåŠ¨ä¸‹ç”µè„‘ç½‘å¡ç­‰é©±åŠ¨&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;è½¯ä»¶&quot;&gt;è½¯ä»¶&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;clash. èŠ±äº‘ä¸Šä¸‹è½½&lt;/li&gt;
  &lt;li&gt;ea app&lt;/li&gt;
  &lt;li&gt;steam app&lt;/li&gt;
  &lt;li&gt;uuåŠ é€Ÿå™¨&lt;/li&gt;
  &lt;li&gt;epic games app&lt;/li&gt;
  &lt;li&gt;xbox app&lt;/li&gt;
  &lt;li&gt;xbox é…ä»¶ è“ç‰™è¿æ‰‹æŸ„ç”¨ï¼Œå¦åˆ™åªèƒ½æœ‰çº¿è¿&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;æ¸¸æˆ&quot;&gt;æ¸¸æˆ&lt;/h2&gt;

&lt;h3 id=&quot;å¿«æ·é”®&quot;&gt;å¿«æ·é”®&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;cmd + G: å”¤é†’xboxæ¸¸æˆå·¥å…·ç®±&lt;/li&gt;
  &lt;li&gt;option + cmd + b: åˆ‡æ¢Hdrå¼€å…³&lt;/li&gt;
  &lt;li&gt;option + z: å”¤é†’nvidia æ¸¸æˆå·¥å…·ç®±&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;ç”µè„‘è®¾ç½®&quot;&gt;ç”µè„‘è®¾ç½®&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;è°ƒæ•´æ¸¸æˆå½•åˆ¶æ—¶é•¿ã€‚ è®¾ç½® -&amp;gt; æ¸¸æˆ -&amp;gt; æ‘„åƒ -&amp;gt; å½•åˆ¶æ¸¸æˆè¿‡ç¨‹ ä¸‹æ‹‰ç®­å¤´ -&amp;gt; å½•åˆ¶ä¸Šæ¬¡å†…å®¹ æ—¶é—´30s æ”¹æˆ 5åˆ†é’Ÿ&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;è§†é¢‘å½•åˆ¶åˆ†äº«&quot;&gt;è§†é¢‘å½•åˆ¶åˆ†äº«&lt;/h3&gt;

&lt;p&gt;cmd + Gå›æ”¾ä¸‹è½½ã€‚&lt;/p&gt;

&lt;p&gt;cmd + Gç‚¹å›¾åº“å°±å¯ä»¥ç‚¹å¼€è§†é¢‘ã€‚ å¾®è½¯è‡ªå¸¦champinå¯ä»¥ç¼–è¾‘è§†é¢‘ï¼Œç¼–è¾‘åä¿å­˜åˆ°onedriveï¼Œå†æ‰‹æœºonedriveé‡Œä¸‹è½½ã€‚&lt;/p&gt;

&lt;h3 id=&quot;æ¸¸æˆæ¨¡å¼&quot;&gt;æ¸¸æˆæ¨¡å¼&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;å¼€å¯æ¸¸æˆæ¨¡å¼&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;æ‰“å¼€ &lt;em&gt;è®¾ç½® â†’ æ¸¸æˆ â†’ æ¸¸æˆæ¨¡å¼&lt;/em&gt;ï¼Œç¡®ä¿å¼€å¯ã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;å¼€å¯ç¡¬ä»¶åŠ é€Ÿ GPU è®¡åˆ’&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;è®¾ç½® â†’ æ˜¾ç¤º â†’ å›¾å½¢ â†’ æ›´æ”¹é»˜è®¤å›¾å½¢è®¾ç½® â†’ å¼€å¯â€œç¡¬ä»¶åŠ é€Ÿ GPU è®¡åˆ’â€ã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Steam ç©å®¶æ³¨æ„äº‹é¡¹&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;æ‰“å¼€ Steam â†’ å¥½å‹ â†’ ç¦»çº¿æ¨¡å¼ã€‚&lt;/li&gt;
      &lt;li&gt;é¿å…åå°å¥½å‹åˆ—è¡¨å ç”¨ï¼Œå¸§æ•°ä¼šæ›´ç¨³å®šã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ç‹¬æ˜¾ç›´è¿&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;ç¡®ä¿å¼€å¯ç‹¬æ˜¾ç›´è¿ï¼ˆç‰¹åˆ«æ˜¯ç¬”è®°æœ¬ç”¨æˆ·ï¼‰ã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ç”µæºæ¨¡å¼&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;è”æƒ³ç”¨æˆ·ï¼šè¶…èƒ½æ¨¡å¼ &amp;lt; é‡å…½æ¨¡å¼ â†’ å»ºè®®å¼€å¯â€œé‡å…½æ¨¡å¼â€ã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ç½‘ç»œåŠ é€Ÿ&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;æ¨èä½¿ç”¨åŠ é€Ÿå™¨ï¼ˆå¦‚é›·ç¥ï¼‰ï¼Œèƒ½é™ä½å»¶è¿Ÿã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;strong&gt;ç³»ç»Ÿè®¾ç½®ä¼˜åŒ–&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;æ˜¾å¡æ§åˆ¶é¢æ¿ â†’ è°ƒæ•´ä¸ºæ€§èƒ½æ¨¡å¼&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;æ˜¾å­˜ä¸è¶³æ—¶ â†’ å¼€å¯å†…å­˜å›é€€&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ç”µæºç®¡ç† â†’ æœ€é«˜æ€§èƒ½ä¼˜å…ˆ&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ç³»ç»Ÿ â†’ å±å¹• â†’ å›¾å½¢ â†’ å¼€å¯ GPU ç¡¬ä»¶åŠ é€Ÿ â†’ é‡å¯ç”µè„‘&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;æ˜¾ç¤ºå™¨è®¾ç½®&quot;&gt;æ˜¾ç¤ºå™¨è®¾ç½®&lt;/h2&gt;

&lt;p&gt;å°ç±³ç”µè§†gpro27u&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;å…³é—­è‡ªåŠ¨äº®åº¦&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;é»˜è®¤å¼€å¯ â†’ ä¼šé”™è¯¯è°ƒæ•´ä¼½é©¬å’Œäº®åº¦ï¼Œå¯¼è‡´è§‚æ„Ÿä¸å¥½ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;æ¸¸æˆæ¨¡å¼ä¼˜åŒ–&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;è¿›å…¥æ–¹å¼&lt;/strong&gt;ï¼šé¥æ§å™¨ â†’ é•¿æŒ‰â€œä¸‰æ¡æ â€ â†’ äºŒçº§èœå• â†’ è®¾ç½®ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;æ¨èå‚æ•°&lt;/strong&gt;ï¼š
    &lt;ul&gt;
      &lt;li&gt;äº®åº¦ï¼š40ï¼ˆé»˜è®¤ 70ï¼Œè¿‡é«˜ä¼¤çœ¼ï¼‰&lt;/li&gt;
      &lt;li&gt;è‰²æ¸©ï¼šæ”¹ä¸º &lt;strong&gt;æ ‡å‡†&lt;/strong&gt;ï¼ˆé¿å…æš–è‰² / åçº¢ï¼‰&lt;/li&gt;
      &lt;li&gt;è‰²å½©å¢å¼ºï¼šå…³é—­&lt;/li&gt;
      &lt;li&gt;è‰²å½©ç©ºé—´ï¼šP3&lt;/li&gt;
      &lt;li&gt;FreeSyncï¼šå¼€å¯ï¼ˆé˜²æ’•è£‚ï¼‰&lt;/li&gt;
      &lt;li&gt;å“åº”æ—¶é—´ï¼šæ™®é€šï¼ˆå¿«é€Ÿæ¨¡å¼ä¼šè¿‡å†²ï¼‰.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ğŸ“Œ è°ƒæ•´åï¼šç”»é¢ä¸å†å‘çº¢ï¼Œè‰²å½©è‡ªç„¶ï¼Œé€‚åˆæ—¥å¸¸ä¸æ¸¸æˆä½¿ç”¨ã€‚&lt;/p&gt;

&lt;p&gt;ä¸å»ºè®®åœ¨ NVIDIA æ§åˆ¶é¢æ¿é‡Œä¿®æ”¹æ•°å­—é€šé“ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;HDR ä¸‹å¯èƒ½æœ‰æ•ˆï¼Œä½†ä¼šå½±å“ SDR ä¸‹çš„è‰²å‡†ã€‚&lt;/li&gt;
  &lt;li&gt;å°½é‡åœ¨æ˜¾ç¤ºå™¨ç¡¬ä»¶é‡Œç›´æ¥è°ƒèŠ‚ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;æš—éƒ¨å¢å¼ºåŠŸèƒ½&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;æå‡æš—éƒ¨ç»†èŠ‚è¾¨è¯†åº¦ï¼ˆä¾‹å¦‚é»‘å¤œåœ°å›¾èƒ½æ›´å®¹æ˜“å‘ç°æ•Œäººï¼‰ã€‚&lt;/li&gt;
  &lt;li&gt;å¯¹ FPS ç©å®¶éå¸¸å®ç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;æ¸¸æˆ-1&quot;&gt;æ¸¸æˆ&lt;/h1&gt;

&lt;h2 id=&quot;è½¯ä»¶è®¾ç½®-cod&quot;&gt;è½¯ä»¶è®¾ç½® Cod&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;æ˜¾ç¤ºè®¾ç½®&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;æ˜¾ç¤ºæ¨¡å¼&lt;/strong&gt;ï¼šå…¨å±ä¸“ç”¨&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;æ˜¾ç¤ºå™¨&lt;/strong&gt;ï¼šé€‰æ‹©ä¸»æ˜¾ç¤ºå™¨&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;æ˜¾å¡&lt;/strong&gt;ï¼šç¡®ä¿ä½¿ç”¨ç‹¬æ˜¾ï¼Œä¸è¦ç”¨é›†æ˜¾&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;åˆ·æ–°ç‡&lt;/strong&gt;ï¼šä¸å±å¹•ä¸€è‡´&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;åˆ†è¾¨ç‡&lt;/strong&gt;ï¼šæ ¹æ®è‡ªå·±å±å¹•è®¾ç½®&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;å‚ç›´åŒæ­¥&lt;/strong&gt;ï¼šå…³é—­&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;å…³é—­è¯­éŸ³èŠå¤©&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;è·¯å¾„ï¼šéŸ³é¢‘è®¾ç½® â†’ è¯­éŸ³èŠå¤© â†’ å…¨å…³ï¼ˆæ¨èï¼‰ã€‚&lt;/li&gt;
  &lt;li&gt;æ•ˆæœï¼šä» 130 FPS â†’ 160â€“200 FPSï¼Œå¤§å¹…æå‡å¸§æ•°ï¼Œæ‰å¸§é—®é¢˜æ˜æ˜¾æ”¹å–„ã€‚&lt;/li&gt;
  &lt;li&gt;åŸå› ï¼šè¯­éŸ³é¢‘é“åå°å ç”¨ç³»ç»Ÿèµ„æºï¼Œå½±å“å¸§æ•°ã€‚COD19ã€20 ä¹Ÿæœ‰ç±»ä¼¼é—®é¢˜ï¼Œä½† COD21 æ›´ä¸¥é‡ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;DLSS / å¸§ç”Ÿæˆ&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;DLSS / DLSSR&lt;/strong&gt;ï¼šå»ºè®®å¼€å¯ï¼ˆæå‡ç”»è´¨å’Œæ€§èƒ½ï¼‰ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;å¸§ç”Ÿæˆï¼ˆFrame Generationï¼‰&lt;/strong&gt;ï¼šä¸å»ºè®®å¼€å¯ã€‚
    &lt;ul&gt;
      &lt;li&gt;å¼€å¯åå¸§æ•°å¯å†²åˆ° 200+ FPSï¼Œä½†è¾“å…¥å»¶è¿Ÿæ˜æ˜¾å¢åŠ ï¼ˆä» &amp;lt;20ms â†’ 40msï¼‰ã€‚&lt;/li&gt;
      &lt;li&gt;FPS æ¸¸æˆå¯¹å»¶è¿Ÿæ•æ„Ÿ â†’ å…³æ‰æ›´åˆé€‚ã€‚&lt;/li&gt;
      &lt;li&gt;å•æœº / ç”»é¢å…šå¯å¼€å¯ï¼Œä½†å¤šäºº FPS å»ºè®®å…³é—­ã€‚&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;æ³¨æ„äº‹é¡¹&lt;/strong&gt;ï¼šéœ€è¦åœ¨ç³»ç»Ÿé‡Œå¼€å¯ &lt;strong&gt;GPU ç¡¬ä»¶åŠ é€Ÿ&lt;/strong&gt; æ‰èƒ½ç”Ÿæ•ˆã€‚&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;æç¤º&lt;/strong&gt;ï¼šå¼€å¯åå¸§æ•°æ›´é«˜ï¼Œä½†å¯èƒ½å¸¦æ¥è¾“å…¥å»¶è¿Ÿ â†’ FPS æ¸¸æˆéœ€è°¨æ…ã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;æ˜¾å¡é©±åŠ¨åŠ¡å¿…ä¿æŒæœ€æ–°&lt;/strong&gt;ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;æ¯æ¬¡æ–°ä½œå‘å¸ƒï¼Œå®˜æ–¹éƒ½ä¼šæ›´æ–°é©±åŠ¨ä¼˜åŒ–æ€§èƒ½ã€‚&lt;/li&gt;
  &lt;li&gt;NVIDIA â†’ GeForce Experience å¯ä¸€é”®æ›´æ–°ã€‚&lt;/li&gt;
  &lt;li&gt;AMD ç”¨æˆ·å»å®˜ç½‘è¾“å…¥æ˜¾å¡å‹å·ä¸‹è½½å³å¯ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;é”å®šç”»é¢è®¾ç½®ï¼ˆè§†è§‰å¢å¼ºï¼‰&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;è·¯å¾„&lt;/strong&gt;ï¼šè®¾ç½® â†’ ç•Œé¢ â†’ æ˜“è¯»æ€§ â†’ å®šåˆ¶é¢œè‰² â†’ æ‰“å¼€ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;æ•Œæ–¹é¢œè‰²é¥±å’Œåº¦ / äº®åº¦æ‹‰æ»¡&lt;/strong&gt;ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;æ»¤é•œ&lt;/strong&gt;ï¼šé€‰æ‹©æ»¤é•œ 2ï¼Œä¸¤ä¸ªé¢œè‰²å¼ºåº¦æ‹‰æ»¡ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;æ•ˆæœ&lt;/strong&gt;ï¼šæ•Œäººæ›´æ˜æ˜¾ï¼Œç”»é¢æ›´å¹²å‡€ï¼Œæå‡å‘ç°æ•Œäººçš„æ•ˆç‡ã€‚&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;ç¼ºç‚¹ï¼šè‰²è°ƒå¯èƒ½éƒ¨åˆ†ç©å®¶ä¸å–œæ¬¢ï¼Œå¯éšæ—¶æ”¹å›é»˜è®¤ã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;strong&gt;è´¨é‡è®¾ç½®&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;æ¸²æŸ“åˆ†è¾¨ç‡&lt;/strong&gt;ï¼š100ï¼ˆä¸è¦é™ä½ï¼Œå¦åˆ™ä¼šæ¨¡ç³Šï¼‰&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;åŠ¨æ€åˆ†è¾¨ç‡&lt;/strong&gt;ï¼šå…³é—­ï¼ˆå¸§æ•°ä¸è¶³æ—¶å¯ä»¥å¼€ï¼Œä½†å¯èƒ½æ¨¡ç³Š/æ’•è£‚ï¼‰&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;å›¾åƒé”åŒ–&lt;/strong&gt;ï¼š
    &lt;ul&gt;
      &lt;li&gt;æ¨è &lt;strong&gt;CAS&lt;/strong&gt;ï¼ˆ75 å·¦å³ï¼‰ï¼Œç”»è´¨æ¯”å¤§åŠ›æ°´æ‰‹æ›´æ¸…æ™°&lt;/li&gt;
      &lt;li&gt;å¤§åŠ›æ°´æ‰‹å¸§æ•°é«˜ï¼Œä½†å™ªç‚¹å’Œæ¨¡ç³Šä¸¥é‡&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;è¶…åˆ†è¾¨ç‡ç”Ÿæˆ&lt;/strong&gt;ï¼šå…³é—­&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;æ˜¾å­˜æ¯”ä¾‹&lt;/strong&gt;ï¼šé»˜è®¤ 80ï¼ˆæ˜¾å­˜ä¸è¶³å¯å¼€åˆ° 90ï¼‰&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ç€è‰²å™¨é¢„ç¼“å­˜&lt;/strong&gt;ï¼šä¸€å®šè¦å…³é—­ï¼Œå¦åˆ™ä¼šé¢‘ç¹å¡é¡¿&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;ç”»è´¨ä¸å¸§æ•°æµ‹è¯•ç»“è®º&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ä½œè€…èŠ±è´¹ 7â€“8 å°æ—¶æµ‹è¯•ï¼Œé€é¡¹è°ƒæ•´åå¾—åˆ°ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;å¯¹å¸§æ•°å½±å“æœ€å¤§&lt;/strong&gt;ï¼š&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;&lt;strong&gt;å­å¼¹æ’å‡»æ•ˆæœ&lt;/strong&gt;ï¼šå…³é—­åå¯æå‡ ~30 å¸§ã€‚&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;å±å¹•åå°„&lt;/strong&gt;ï¼šå…³é—­æˆ–è°ƒä½å¯æå‡ ~10â€“20 å¸§ã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;å¯¹å¸§æ•°å½±å“ä¸­ç­‰&lt;/strong&gt;ï¼š&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;&lt;strong&gt;ç¯å¢ƒ&lt;/strong&gt;ï¼šå½±å“é€‚ä¸­ï¼Œéœ€æ ¹æ®éœ€æ±‚è°ƒæ•´ã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;å¯¹å¸§æ•°å½±å“å°ä½†ç”»è´¨å½±å“å¤§&lt;/strong&gt;ï¼š&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;&lt;strong&gt;å…¨å±€è´¨é‡ã€é˜´å½±å’Œå…‰ç…§&lt;/strong&gt;ï¼šç”»è´¨æ˜¾è‘—æå‡ï¼Œä½†å¸§æ•°æŸè€—å°ã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;æè´¨åˆ†è¾¨ç‡&lt;/strong&gt;ï¼šå¿…é¡»è®¾é«˜ï¼Œå¯¹ç”»è´¨å½±å“å¤§ï¼Œå¯¹å¸§æ•°å½±å“å°ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;æ™¯æ·±&lt;/strong&gt;ï¼š&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;å¼€å¯ â†’ å¼€é•œåæªæ¨¡ç³Š&lt;/li&gt;
      &lt;li&gt;å…³é—­ â†’ æªæ›´æ¸…æ™°ï¼ˆæ¨èå…³é—­ï¼‰ã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;æè´¨ä¸ç»†èŠ‚&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;ç»†èŠ‚è´¨é‡ï¼ˆçŸ³å¤´è‰æœ¨ç­‰ï¼‰&lt;/strong&gt;ï¼šä½ï¼ˆæ€§èƒ½ä¼˜åŒ–æ˜æ˜¾ï¼‰&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ç½‘æ ¼è§£æåº¦&lt;/strong&gt;ï¼šé«˜ï¼ˆå¯¹å¸§ç‡å½±å“å°ï¼Œä½†èƒ½æå‡è§†è§‰å’Œæ­¦å™¨è´´å›¾ç‰¹æ•ˆï¼‰&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ç²’å­æ•ˆæœ&lt;/strong&gt;ï¼šä½ï¼ˆé«˜ä¼šæ‰ 10-20 å¸§ï¼‰&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;æè´¨åŠ è½½ä¸ä¼ è¾“&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;é«˜æ¸…æè´¨æµ&lt;/strong&gt;ï¼šå¼€ä¼˜åŒ–ï¼ˆå¯¹ç”»è´¨æœ‰å¸®åŠ©ï¼Œæ˜¾å­˜å ç”¨é€‚ä¸­ï¼‰&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;æœ¬åœ°æè´¨ä¼ è¾“&lt;/strong&gt;ï¼šä½ï¼ˆå¯¹æˆ˜åŒºå¤§åœ°å›¾è¿œæ™¯æ‰æœ‰ç”¨ï¼Œä¸€èˆ¬å½±å“ä¸å¤§ï¼Œæ˜¾å­˜å ç”¨é«˜ï¼‰&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;å…¶ä»–æç¤º&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;é”å¸§è®¾ç½®&lt;/strong&gt;ï¼šCOD20 æœ‰æ•ˆï¼Œä½†æœ¬ä½œæ— æ˜æ˜¾ä½œç”¨ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;DLSS Bug&lt;/strong&gt;ï¼šæœ‰æ—¶åˆ‡æ¢åä¼šè‡ªåŠ¨å˜æˆ CAS â†’ éœ€ç•™æ„ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;æ•°æ®ç›‘æ§&lt;/strong&gt;ï¼šç•Œé¢ â†’ çŠ¶æ€ â†’ é€‰æ‹©æ˜¾ç¤º FPSã€å»¶è¿Ÿã€æ˜¾å­˜å ç”¨ç­‰ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;æ³¨æ„äº‹é¡¹&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;æ¯æ¬¡ä¿®æ”¹ç”»è´¨è®¾ç½®åï¼Œ&lt;strong&gt;ä¸€å®šè¦é‡æ–°é¢„è½½ç€è‰²å™¨&lt;/strong&gt;ï¼š
 è¿›å…¥æ˜¾ç¤ºç•Œé¢ â†’ é¢„è½½ â†’ ä¿å­˜ â†’ é€€å‡ºæ¸¸æˆ â†’ é‡å¯å†è¿›æ¸¸æˆ&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;è½¯ä»¶è®¾ç½®-apex&quot;&gt;è½¯ä»¶è®¾ç½® Apex&lt;/h2&gt;

&lt;h3 id=&quot;å…³é”®å‚æ•°è§£é‡Šä¸å»ºè®®&quot;&gt;å…³é”®å‚æ•°è§£é‡Šä¸å»ºè®®&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;ä»¥â€œç¨³å®šå¸§ç‡ä¼˜å…ˆâ€ä¸ºå¯¼å‘ï¼›å¦‚éœ€æ›´å¥½ç”»è´¨å¯åœ¨ç¨³å®šåå¾®è°ƒã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;â‘  å„å‘å¼‚æ€§è¿‡æ»¤ï¼ˆAnisotropic Filteringï¼‰&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;å½±å“&lt;/strong&gt;ï¼šä¸»è¦åƒæ˜¾å¡ï¼Œ&lt;strong&gt;å¯¹å¸§æ•°å½±å“ä»…å‡ å¸§&lt;/strong&gt;ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;å»ºè®®&lt;/strong&gt;ï¼šåœ¨ä¸­ä½ç«¯å¡ä¸Šä¹Ÿèƒ½å¼€åˆ° &lt;strong&gt;8Ã—&lt;/strong&gt;ï¼ˆç¤ºä¾‹ï¼š&lt;strong&gt;GTX 1050 Ti @ 8Ã—&lt;/strong&gt; è¿è¡Œè‰¯å¥½ï¼‰ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;å–èˆ&lt;/strong&gt;ï¼šæ›´é«˜å¸¦æ¥æ›´æ¸…æ™°çš„æ–œå‘çº¹ç†ï¼Œæ€§ä»·æ¯”é«˜ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;â‘¡ ç¢°æ’ç—•è¿¹/å†²å‡»ç—•è¿¹ï¼ˆDecals / Impact Marksï¼‰&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;å½±å“&lt;/strong&gt;ï¼š&lt;strong&gt;åƒ CPU&lt;/strong&gt;ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;å»ºè®®&lt;/strong&gt;ï¼š&lt;strong&gt;è°ƒä¸º 0&lt;/strong&gt;ï¼Œæ˜æ˜¾å‡è´Ÿã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;â‘¢ çº¹ç†ä¸²æµé¢„ç®—ï¼ˆTexture Streaming Budgetï¼‰&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;åŸç†&lt;/strong&gt;ï¼šä¸&lt;strong&gt;æ˜¾å­˜å¤§å°&lt;/strong&gt;ç»‘å®šï¼Œå†³å®šå¯åŠ è½½çº¹ç†ä½“é‡ä¸åˆ‡æ¢é€Ÿåº¦ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;æ“ä½œ&lt;/strong&gt;ï¼š
    &lt;ol&gt;
      &lt;li&gt;å…ˆåœ¨æ¸¸æˆé‡Œé€‰æ‹©æ¥è¿‘ä½ æ˜¾å­˜çš„æ¡£ä½ï¼Œ&lt;strong&gt;æŸ¥çœ‹/è®°ä¸‹å®é™…â€œæµå†…å­˜å¤§å°â€&lt;/strong&gt;ï¼›&lt;/li&gt;
      &lt;li&gt;å›åˆ°é…ç½®æ–‡ä»¶å†™å…¥ç›¸åº”å€¼ï¼›&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;ç‰¹æ®Šè§„åˆ™&lt;/strong&gt;ï¼šå¦‚æœä½ æƒ³è®¾ä¸º &lt;strong&gt;2GB æ˜¾å­˜&lt;/strong&gt;ï¼Œé…ç½®æ–‡ä»¶ä¸­&lt;strong&gt;è¯¥å­—æ®µéœ€å†™â€œ1â€&lt;/strong&gt;ï¼›&lt;strong&gt;å…¶ä½™æƒ…å†µå†™â€œ0â€&lt;/strong&gt;ï¼ˆæŒ‰åŸä½œè€…è¯´æ˜ï¼‰ã€‚&lt;/li&gt;
    &lt;/ol&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ç­–ç•¥&lt;/strong&gt;ï¼šåœ¨&lt;strong&gt;ä¸çˆ†æ˜¾å­˜&lt;/strong&gt;å‰æä¸‹å°½é‡æ‹‰é«˜ï¼Œæå‡æ¸…æ™°åº¦ä¸åŠ è½½ä½“éªŒã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;â‘£ æ¨¡å‹åˆ·æ–°/ç»†èŠ‚ï¼ˆModel LOD/Detailï¼‰&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;å»ºè®®&lt;/strong&gt;ï¼š&lt;strong&gt;0.6&lt;/strong&gt;ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;åŸå› &lt;/strong&gt;ï¼šå†ä½ä¼šè®©&lt;strong&gt;ä¸­è·ç¦»å¯¹æªâ€œæœå†»/æ–¹å—åŒ–â€&lt;/strong&gt;ï¼ˆäººç‰©åƒå—çŠ¶ï¼‰ï¼Œå½±å“è§‚å¯Ÿã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;â‘¤ é˜´å½± &amp;amp; ç¯å¢ƒå…‰é®è”½ï¼ˆShadows / Ambient Occlusionï¼‰&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;å»ºè®®&lt;/strong&gt;ï¼š&lt;strong&gt;å…¨éƒ¨å…³é—­&lt;/strong&gt;ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;åŸå› &lt;/strong&gt;ï¼šè¿™ä¸¤é¡¹å¯¹è§†è§‰æ”¶ç›Šæœ‰é™ã€å¯¹æ€§èƒ½å½±å“å¤§ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;â‘¥ è‡ªé€‚åº”åˆ†è¾¨ç‡ / å¸§ç‡ç›®æ ‡ï¼ˆDynamic Resolution / Adaptiveï¼‰&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;å®šä½&lt;/strong&gt;ï¼šæœ¬æ–¹æ¡ˆçš„&lt;strong&gt;å…³é”®é¡¹&lt;/strong&gt;ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;æœºåˆ¶&lt;/strong&gt;ï¼šä¸ºä¿æŒ&lt;strong&gt;ç›®æ ‡å¸§æ•°&lt;/strong&gt;ï¼Œåœ¨è´Ÿè½½é«˜æ—¶&lt;strong&gt;åŠ¨æ€é™ä½åˆ†è¾¨ç‡/ç”»è´¨&lt;/strong&gt;ï¼Œè´Ÿè½½å›è½å†æå‡ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ç”¨æ³•&lt;/strong&gt;ï¼š
    &lt;ul&gt;
      &lt;li&gt;&lt;strong&gt;å¯ç”¨&lt;/strong&gt;è‡ªé€‚åº”ï¼ˆé…ç½®é¡¹æ‰“å¼€ï¼‰ï¼Œè®¾ç½®&lt;strong&gt;ç›®æ ‡å¸§ç‡&lt;/strong&gt;ï¼ˆå¦‚ 60/75/90/100ï¼‰ã€‚&lt;/li&gt;
      &lt;li&gt;åˆ†è¾¨ç‡åŸºå‡†å»ºè®® &lt;strong&gt;1080p&lt;/strong&gt;ã€‚&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;æŠ—é”¯é½¿&lt;/strong&gt;ï¼ˆTAA ç­‰ï¼‰å»ºè®®&lt;strong&gt;å¼€å¯&lt;/strong&gt;ï¼Œä¸è‡ªé€‚åº”é…åˆå¯å‡è½»ä½åˆ†è¾¨ç‡æ—¶çš„é”¯é½¿ä¸é—ªçƒã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;å®æµ‹å‚è€ƒï¼ˆGTX 1050 Tiï¼‰&lt;/strong&gt;ï¼š
    &lt;ul&gt;
      &lt;li&gt;å¯ç”¨è‡ªé€‚åº”æ—¶ï¼Œ&lt;strong&gt;ä¸Šé™çº¦ ~100FPS&lt;/strong&gt;ï¼›&lt;/li&gt;
      &lt;li&gt;è‹¥ 100FPS ä»ä¸æ»¡è¶³ï¼Œå¯å°†&lt;strong&gt;ä¸è‡ªé€‚åº”ç›¸å…³çš„ 3 é¡¹ç½® 0&lt;/strong&gt;ï¼ˆç­‰åŒå…³é—­/é™åˆ¶ï¼‰ï¼Œå®é™…è¯»æ•°å‡ºç° &lt;strong&gt;100â€“144FPS&lt;/strong&gt; çš„æ³¢åŠ¨ï¼›&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;ä»£ä»·&lt;/strong&gt;ï¼šä¸­è·ç¦»è¯†åˆ«å˜å·®ï¼ˆâ€œçº¢ç‚¹çœ‹ç¼˜åˆ†â€ï¼‰ï¼Œç”»é¢é”åº¦éšè´Ÿè½½æ³¢åŠ¨è¾ƒæ˜æ˜¾ã€‚&lt;/li&gt;
      &lt;li&gt;å»ºè®®ï¼š&lt;strong&gt;å…ˆæ±‚ç¨³å†æ±‚é«˜&lt;/strong&gt;ï¼Œä¼˜å…ˆç¨³å®šçš„ç›®æ ‡å¸§ï¼ˆå¦‚ 90/100ï¼‰ï¼Œå†è€ƒè™‘è¿›ä¸€æ­¥æŠ¬ä¸Šé™ã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;â‘¦ æŠ—é”¯é½¿ï¼ˆAAï¼‰&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;å»ºè®®&lt;/strong&gt;ï¼šæœ¬æ–¹æ¡ˆé‡Œ&lt;strong&gt;é»˜è®¤å¼€å¯&lt;/strong&gt;ï¼Œä¸è‡ªé€‚åº”è”åŠ¨æ›´é¡ºçœ¼ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;è¯´æ˜&lt;/strong&gt;ï¼šå¦‚æåº¦è¿½æ±‚æ¸…æ™°è¾¹ç¼˜ä¸å“åº”ï¼Œå¯åœ¨ç¨³å®šåå°è¯•è°ƒä½æˆ–å…³é—­ï¼Œä½†å¯èƒ½å‡ºç°é—ªçƒã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;#&lt;/p&gt;</content><author><name>Fulong Ma</name></author><category term="Tools" /><category term="Tools" /><summary type="html">ä¸»æœº</summary></entry><entry><title type="html">mac miniåšnas+å°ç±³ç”µè§†</title><link href="https://mafulong.github.io/2025/08/10/mac-mini%E5%81%9Anas+%E5%B0%8F%E7%B1%B3%E7%94%B5%E8%A7%86/" rel="alternate" type="text/html" title="mac miniåšnas+å°ç±³ç”µè§†" /><published>2025-08-10T00:00:00+08:00</published><updated>2025-08-10T00:00:00+08:00</updated><id>https://mafulong.github.io/2025/08/10/mac%20mini%E5%81%9Anas+%E5%B0%8F%E7%B1%B3%E7%94%B5%E8%A7%86</id><content type="html" xml:base="https://mafulong.github.io/2025/08/10/mac-mini%E5%81%9Anas+%E5%B0%8F%E7%B1%B3%E7%94%B5%E8%A7%86/">&lt;h2 id=&quot;mac-miniåšnaså°ç±³ç”µè§†&quot;&gt;mac miniåšnas+å°ç±³ç”µè§†&lt;/h2&gt;

&lt;h2 id=&quot;nas&quot;&gt;nas&lt;/h2&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;docker&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;run&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;\&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;emby&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;\&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;restart&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unless&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stopped&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;\&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Users&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mafulong&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Downloads&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mnt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;NAS&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;\&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emby_config&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;\&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;8096&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;8096&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;\&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;linuxserver/emby&lt;/span&gt;


&lt;span class=&quot;n&quot;&gt;è‡ªå·±ip&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;ipconfig&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getifaddr&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;en1&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;adb&quot;&gt;adb&lt;/h2&gt;

&lt;p&gt;adbå¯ä»¥è¿œç¨‹connect&lt;/p&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;adb&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;connect&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;192.168&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;31.148&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;adb&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;devices&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;å®‰è£…è½¯ä»¶&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;adb&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;TVBox_takagen99_20250706&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1456&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arm64&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;generic&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;java&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;apk&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ä¼ è¾“æ–‡ä»¶&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ä½†å°ç±³ç”µè§†æ— æ³•è¯»adbçš„æ–‡ä»¶&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;ã€‚&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;adb&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;push&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;/Users/mafulong/Downloads/çˆ±ã€æ­»äº¡ä¸æœºå™¨äºº.Love.Death.and.Robots.S01E01.ä¸­è‹±å­—å¹•.WEBrip.720P-äººäººå½±è§†.V2.mp4&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mnt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sdcard&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Movies&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name>Fulong Ma</name></author><category term="Tools" /><category term="Tools" /><summary type="html">mac miniåšnas+å°ç±³ç”µè§†</summary></entry><entry><title type="html">Golandçš„external tool</title><link href="https://mafulong.github.io/2025/08/09/Goland%E7%9A%84external-tool/" rel="alternate" type="text/html" title="Golandçš„external tool" /><published>2025-08-09T00:00:00+08:00</published><updated>2025-08-09T00:00:00+08:00</updated><id>https://mafulong.github.io/2025/08/09/Goland%E7%9A%84external%20tool</id><content type="html" xml:base="https://mafulong.github.io/2025/08/09/Goland%E7%9A%84external-tool/">&lt;h2 id=&quot;golandçš„external-tool&quot;&gt;Golandçš„external tool&lt;/h2&gt;

&lt;p&gt;goland external open in xx é…ç½®&lt;/p&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;

&lt;span class=&quot;err&quot;&gt;â€‹&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;```&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scala&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;shell&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ç”¨zsh&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;ä¸‹é¢open&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;å‚æ•°&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;ï¼š&lt;/span&gt; 
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;&quot;REPO_ROOT=$(git -C \&quot;$ProjectFileDir$\&quot; rev-parse --show-toplevel); PROJECT=$(basename \&quot;$REPO_ROOT\&quot;); BRANCH=$(git -C \&quot;$REPO_ROOT\&quot; rev-parse --abbrev-ref HEAD); FILE=\&quot;$FilePathRelativeToProjectRoot$\&quot;; LINE=$LineNumber$; URL=\&quot;xxxxxx/$PROJECT/-/blob/$BRANCH/$FILE?ref_type=heads#L$LINE\&quot;; open \&quot;$URL\&quot;&quot;&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;ä¸‹é¢copy&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;å‚æ•°&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;&quot;REPO_ROOT=$(git -C \&quot;$ProjectFileDir$\&quot; rev-parse --show-toplevel); PROJECT=$(basename \&quot;$REPO_ROOT\&quot;); BRANCH=$(git -C \&quot;$REPO_ROOT\&quot; rev-parse --abbrev-ref HEAD); FILE=\&quot;$FilePathRelativeToProjectRoot$\&quot;; LINE=$LineNumber$; URL=\&quot;xxxx/$PROJECT/-/blob/$BRANCH/$FILE?ref_type=heads#L$LINE\&quot;; echo \&quot;$URL\&quot; | pbcopy&quot;&lt;/span&gt;

&lt;span class=&quot;err&quot;&gt;â€‹&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;```&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name>Fulong Ma</name></author><category term="Tools" /><category term="Tools" /><summary type="html">Golandçš„external tool</summary></entry><entry><title type="html">æµ¦ä¸œå…¬ç§Ÿæˆ¿</title><link href="https://mafulong.github.io/2025/05/15/%E6%B5%A6%E4%B8%9C%E5%85%AC%E7%A7%9F%E6%88%BF/" rel="alternate" type="text/html" title="æµ¦ä¸œå…¬ç§Ÿæˆ¿" /><published>2025-05-15T00:00:00+08:00</published><updated>2025-05-15T00:00:00+08:00</updated><id>https://mafulong.github.io/2025/05/15/%E6%B5%A6%E4%B8%9C%E5%85%AC%E7%A7%9F%E6%88%BF</id><content type="html" xml:base="https://mafulong.github.io/2025/05/15/%E6%B5%A6%E4%B8%9C%E5%85%AC%E7%A7%9F%E6%88%BF/">&lt;h2 id=&quot;å…¬ç§Ÿæˆ¿&quot;&gt;å…¬ç§Ÿæˆ¿&lt;/h2&gt;

&lt;p&gt;https://zhuanlan.zhihu.com/p/720027504&lt;/p&gt;

&lt;h2 id=&quot;æµ¦ä¸œåœ°å›¾&quot;&gt;æµ¦ä¸œåœ°å›¾&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/mafulong/mdPic@vv6/v6/202505152350009.png&quot; alt=&quot;image-20250515235026893&quot; style=&quot;zoom:50%;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;æˆ¿æº&quot;&gt;æˆ¿æº&lt;/h2&gt;

&lt;h3 id=&quot;å…¬ç§Ÿæˆ¿-1&quot;&gt;å…¬ç§Ÿæˆ¿&lt;/h3&gt;

&lt;h4 id=&quot;ä»æ–‡å…¬å¯“&quot;&gt;ä»æ–‡å…¬å¯“&lt;/h4&gt;

&lt;p&gt;https://select.pdgzf.com/houseDetails?Id=9765&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;3700&lt;/strong&gt;å…ƒ/æœˆ 53å¹³ã€‚&lt;/p&gt;

&lt;p&gt;ä¸€å®¤ä¸€å…ï¼Œåœè½¦300ä¸€æœˆã€‚&lt;/p&gt;

&lt;p&gt;é è¿‘äºŒç”² ä¸Šæµ·æ˜ç åŒ»é™¢ã€‚&lt;/p&gt;

&lt;p&gt;48åˆ†é’Ÿï¼Œ41kmï¼Œ 26åˆ†é’Ÿã€‚&lt;/p&gt;

&lt;h4 id=&quot;æµ¦ä¸‰è·¯930å¼„-è‰¾ä¸œè‹‘&quot;&gt;æµ¦ä¸‰è·¯930å¼„ è‰¾ä¸œè‹‘&lt;/h4&gt;

&lt;p&gt;https://select.pdgzf.com/houseDetails?Id=8613486F-AA0F-4AD6-9BD1-B6D62BCFA29B&lt;/p&gt;

&lt;p&gt;æˆ·å‹ï¼š &lt;strong&gt;ä¸€å®¤ä¸€å…&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;é¢ç§¯ï¼š &lt;strong&gt;49.87&lt;/strong&gt; å¹³æ–¹ç±³&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;4128&lt;/strong&gt;å…ƒ/æœˆ&lt;/p&gt;

&lt;p&gt;48åˆ†é’Ÿï¼Œ44kmï¼Œ17åˆ†é’Ÿï¼Œ12km.&lt;/p&gt;

&lt;h4 id=&quot;å·å’Œè·¯399å¼„å¼ æ±Ÿå…´ç§‘è‹‘&quot;&gt;å·å’Œè·¯399å¼„ï¼ˆå¼ æ±Ÿå…´ç§‘è‹‘ï¼‰&lt;/h4&gt;

&lt;p&gt;&lt;strong&gt;4081&lt;/strong&gt;å…ƒ/æœˆ&lt;/p&gt;

&lt;p&gt;æˆ·å‹ï¼š &lt;strong&gt;ä¸€å®¤&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;é¢ç§¯ï¼š &lt;strong&gt;47.72&lt;/strong&gt; å¹³æ–¹ç±³&lt;/p&gt;

&lt;p&gt;æ¥¼å±‚ï¼š 02æ¥¼&lt;/p&gt;

&lt;p&gt;æˆ¿å·ï¼š 205&lt;/p&gt;

&lt;p&gt;æœå‘ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;èµ·ç§Ÿæ—¥æœŸï¼š 2025-03-16&lt;/li&gt;
  &lt;li&gt;åœ°å€ï¼š å·å’Œè·¯399å¼„ï¼ˆå¼ æ±Ÿå…´ç§‘è‹‘ï¼‰/11-12å·/02æ¥¼/205&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ²¡æœ‰è½¦ä½ã€‚&lt;/p&gt;

&lt;p&gt;52åˆ†é’Ÿï¼Œ48kmï¼Œ 14åˆ†é’Ÿï¼Œ4.5kmã€‚&lt;/p&gt;

&lt;h3 id=&quot;å…¬ç§Ÿæˆ¿ä¸‰æ—&quot;&gt;å…¬ç§Ÿæˆ¿ä¸‰æ—&lt;/h3&gt;

&lt;h4 id=&quot;ä¸‰èˆ’è·¯-åŸæ—ç¾è‹‘&quot;&gt;ä¸‰èˆ’è·¯ åŸæ—ç¾è‹‘&lt;/h4&gt;

&lt;p&gt;https://select.pdgzf.com/houseDetails?Id=706833db-607b-4f3c-846b-96f144c516d7&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2850&lt;/strong&gt;å…ƒ/æœˆ&lt;/p&gt;

&lt;p&gt;æˆ·å‹ï¼š &lt;strong&gt;äºŒå®¤&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;é¢ç§¯ï¼š &lt;strong&gt;67.55&lt;/strong&gt; å¹³æ–¹ç±³&lt;/p&gt;

&lt;p&gt;æ¥¼å±‚ï¼š 08æ¥¼&lt;/p&gt;

&lt;p&gt;æˆ¿å·ï¼š 806&lt;/p&gt;

&lt;p&gt;æœå‘ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;èµ·ç§Ÿæ—¥æœŸï¼š 2025-05-22&lt;/li&gt;
  &lt;li&gt;åœ°å€ï¼š ä¸‰èˆ’è·¯33å¼„ï¼ˆåŸæ—ç¾è‹‘ï¼‰/04å·/08æ¥¼/806&lt;/li&gt;
  &lt;li&gt;å®¤å†…é…å¥—ï¼š&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;52 åˆ† ï¼Œ18km, 32 åˆ†é’Ÿã€‚&lt;/p&gt;

&lt;h4 id=&quot;æ°¸æ³°è·¯136å¼„&quot;&gt;æ°¸æ³°è·¯136å¼„&lt;/h4&gt;

&lt;p&gt;https://select.pdgzf.com/houseDetails?Id=B3EC3477-2161-4A31-8441-ACD494761328&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2963&lt;/strong&gt;å…ƒ/æœˆ&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;javascript:void(0)&quot;&gt;å·²é€‰ï¼š2å‡†å…¥èµ„æ ¼è¯202517140007390 ï¼ˆ2025-05-19ï¼‰&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;æˆ·å‹ï¼š &lt;strong&gt;ä¸€å®¤&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;é¢ç§¯ï¼š &lt;strong&gt;51.61&lt;/strong&gt; å¹³æ–¹ç±³&lt;/p&gt;

&lt;p&gt;æ¥¼å±‚ï¼š 02æ¥¼&lt;/p&gt;

&lt;p&gt;æˆ¿å·ï¼š 203&lt;/p&gt;

&lt;p&gt;æœå‘ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;èµ·ç§Ÿæ—¥æœŸï¼š 2025-05-22&lt;/li&gt;
  &lt;li&gt;åœ°å€ï¼š æ°¸æ³°è·¯136å¼„/33å·/2æ¥¼/203&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;56mins, 27mins.&lt;/p&gt;

&lt;h4 id=&quot;ä¸‰æ—‹è·¯506å¼„ç»¿æ³¢å®¶å›­&quot;&gt;ä¸‰æ—‹è·¯506å¼„ï¼ˆç»¿æ³¢å®¶å›­&lt;/h4&gt;

&lt;p&gt;https://select.pdgzf.com/houseDetails?Id=34BE3519-D644-4915-AC8F-DE4864AF83FB&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2793&lt;/strong&gt;å…ƒ/æœˆ&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;javascript:void(0)&quot;&gt;å·²é€‰ï¼š9å‡†å…¥èµ„æ ¼è¯202317140008848 ï¼ˆ2023-06-07ï¼‰&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;æˆ·å‹ï¼š &lt;strong&gt;äºŒå®¤ä¸€å…&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;é¢ç§¯ï¼š &lt;strong&gt;64.99&lt;/strong&gt; å¹³æ–¹ç±³&lt;/p&gt;

&lt;p&gt;æ¥¼å±‚ï¼š 21æ¥¼&lt;/p&gt;

&lt;p&gt;æˆ¿å·ï¼š 2104&lt;/p&gt;

&lt;p&gt;æœå‘ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;èµ·ç§Ÿæ—¥æœŸï¼š 2025-05-22&lt;/li&gt;
  &lt;li&gt;åœ°å€ï¼š ä¸‰æ—‹è·¯506å¼„ï¼ˆç»¿æ³¢å®¶å›­ï¼‰/19å·/21æ¥¼/2104&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;52mins, 31minsã€‚&lt;/p&gt;

&lt;h4 id=&quot;æ¨å—è·¯&quot;&gt;æ¨å—è·¯&lt;/h4&gt;

&lt;p&gt;https://select.pdgzf.com/houseDetails?Id=8633&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;3365&lt;/strong&gt;å…ƒ/æœˆ&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;javascript:void(0)&quot;&gt;å·²é€‰ï¼š2å‡†å…¥èµ„æ ¼è¯202317140018617 ï¼ˆ2023-11-30ï¼‰&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;æˆ·å‹ï¼š &lt;strong&gt;ä¸€å®¤&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;é¢ç§¯ï¼š &lt;strong&gt;56.80&lt;/strong&gt; å¹³æ–¹ç±³&lt;/p&gt;

&lt;p&gt;æ¥¼å±‚ï¼š 02æ¥¼&lt;/p&gt;

&lt;p&gt;æˆ¿å·ï¼š 202&lt;/p&gt;

&lt;p&gt;æœå‘ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;èµ·ç§Ÿæ—¥æœŸï¼š 2025-05-22&lt;/li&gt;
  &lt;li&gt;åœ°å€ï¼š æ¨å—è·¯694å¼„/81å·/2æ¥¼/202&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;55mins, 25mins&lt;/p&gt;

&lt;h4 id=&quot;å’Œç‚¯è·¯77å¼„ç››ä¸–å—è‹‘&quot;&gt;å’Œç‚¯è·¯77å¼„ï¼ˆç››ä¸–å—è‹‘ï¼‰&lt;/h4&gt;

&lt;p&gt;&lt;strong&gt;2633&lt;/strong&gt;å…ƒ/æœˆ&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;javascript:void(0)&quot;&gt;å·²é€‰ï¼š6å‡†å…¥èµ„æ ¼è¯202317140009994 ï¼ˆ2023-06-25ï¼‰&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;æˆ·å‹ï¼š &lt;strong&gt;äºŒå®¤ä¸€å…&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;é¢ç§¯ï¼š &lt;strong&gt;65.26&lt;/strong&gt; å¹³æ–¹ç±³&lt;/p&gt;

&lt;p&gt;æ¥¼å±‚ï¼š 01æ¥¼&lt;/p&gt;

&lt;p&gt;æˆ¿å·ï¼š 101&lt;/p&gt;

&lt;p&gt;æœå‘ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;èµ·ç§Ÿæ—¥æœŸï¼š 2025-05-09&lt;/li&gt;
  &lt;li&gt;åœ°å€ï¼š å’Œç‚¯è·¯77å¼„ï¼ˆç››ä¸–å—è‹‘ï¼‰/13å·/1æ¥¼/101&lt;/li&gt;
  &lt;li&gt;å®¤å†…é…å¥—ï¼š&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;55mins, 32mins&lt;/p&gt;

&lt;h3 id=&quot;éå…¬ç§Ÿæˆ¿&quot;&gt;éå…¬ç§Ÿæˆ¿&lt;/h3&gt;

&lt;h4 id=&quot;é«˜ç§‘è‹‘&quot;&gt;é«˜ç§‘è‹‘&lt;/h4&gt;

&lt;p&gt;é«˜ç§‘è‹‘ï¼Œå°±åœ¨å¤æ—¦å¤§å­¦å’Œæ›™å…‰åŒ»é™¢æ—è¾¹ï¼Œè·ç¦»ä¸­ç§‘è·¯ä¸è¿œï¼Œè¿™ä¸ªå°åŒºç¯å¢ƒä¸é”™ï¼Œå¯ä»¥ç§Ÿä¸€å®¤ä¸€å…&lt;/p&gt;

&lt;p&gt;å°åŒºæ²¡æœ‰äºŒæˆ¿ä¸œï¼Œæ˜¯å¼ æ±Ÿé«˜ç§‘é›†å›¢å»ºçš„å¯¹å¤–å‡ºç§Ÿï¼Œä¸å­˜åœ¨äºŒæˆ¿ä¸œæ”¹é€ é—®é¢˜&lt;/p&gt;

&lt;p&gt;åœ°ä¸‹è½¦åº“åœ°ä¸Šè½¦åº“éƒ½æœ‰ï¼Œåœè½¦è´¹ä¹Ÿä¸è´µ&lt;/p&gt;

&lt;p&gt;52åˆ†é’Ÿï¼Œ50km, è·ç¦»å…¬å¸ 3km&lt;/p&gt;

&lt;h4 id=&quot;å¼ æ±Ÿä¸‡ç§‘ç¿¡ç¿ å…¬å›­&quot;&gt;å¼ æ±Ÿä¸‡ç§‘ç¿¡ç¿ å…¬å›­&lt;/h4&gt;

&lt;p&gt;53åˆ†é’Ÿï¼Œ50km, 14åˆ†é’Ÿï¼Œ4.5kmã€‚&lt;/p&gt;

&lt;h3 id=&quot;ä¿ç§Ÿæˆ¿&quot;&gt;ä¿ç§Ÿæˆ¿&lt;/h3&gt;

&lt;h4 id=&quot;çº³ä»•&quot;&gt;çº³ä»•&lt;/h4&gt;

&lt;p&gt;çº³ä»€å›½é™…ï¼Œæ–°çš„&lt;/p&gt;

&lt;p&gt;è´µçš„ä¸è¡Œ&lt;/p&gt;</content><author><name>Fulong Ma</name></author><category term="DailyLife" /><category term="DailyLife" /><summary type="html">å…¬ç§Ÿæˆ¿</summary></entry><entry><title type="html">Spring AOP</title><link href="https://mafulong.github.io/2025/05/06/Spring-AOP/" rel="alternate" type="text/html" title="Spring AOP" /><published>2025-05-06T00:00:00+08:00</published><updated>2025-05-06T00:00:00+08:00</updated><id>https://mafulong.github.io/2025/05/06/Spring%20AOP</id><content type="html" xml:base="https://mafulong.github.io/2025/05/06/Spring-AOP/">&lt;h2 id=&quot;spring-aop&quot;&gt;Spring AOP&lt;/h2&gt;

&lt;h2 id=&quot;è°ˆè°ˆè‡ªå·±å¯¹äº-aop-çš„äº†è§£&quot;&gt;è°ˆè°ˆè‡ªå·±å¯¹äº AOP çš„äº†è§£&lt;/h2&gt;

&lt;p&gt;AOPï¼Œä¹Ÿå°±æ˜¯é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œç®€å•ç‚¹è¯´ï¼ŒAOP å°±æ˜¯æŠŠä¸€äº›ä¸šåŠ¡é€»è¾‘ä¸­çš„ç›¸åŒä»£ç æŠ½å–åˆ°ä¸€ä¸ªç‹¬ç«‹çš„æ¨¡å—ä¸­ï¼Œè®©ä¸šåŠ¡é€»è¾‘æ›´åŠ æ¸…çˆ½ã€‚&lt;/p&gt;

&lt;p&gt;AOP(Aspect-Oriented Programming:é¢å‘åˆ‡é¢ç¼–ç¨‹)èƒ½å¤Ÿå°†é‚£äº›ä¸ä¸šåŠ¡æ— å…³ï¼Œå´ä¸ºä¸šåŠ¡æ¨¡å—æ‰€å…±åŒè°ƒç”¨çš„é€»è¾‘æˆ–è´£ä»»ï¼ˆä¾‹å¦‚äº‹åŠ¡å¤„ç†ã€æ—¥å¿—ç®¡ç†ã€æƒé™æ§åˆ¶ç­‰ï¼‰å°è£…èµ·æ¥ï¼Œä¾¿äºå‡å°‘ç³»ç»Ÿçš„é‡å¤ä»£ç ï¼Œé™ä½æ¨¡å—é—´çš„è€¦åˆåº¦ï¼Œå¹¶æœ‰åˆ©äºæœªæ¥çš„å¯æ‹“å±•æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚&lt;/p&gt;

&lt;p&gt;Spring AOP å°±æ˜¯åŸºäºåŠ¨æ€ä»£ç†çš„ï¼Œå¦‚æœè¦ä»£ç†çš„å¯¹è±¡ï¼Œå®ç°äº†æŸä¸ªæ¥å£ï¼Œé‚£ä¹ˆ Spring AOP ä¼šä½¿ç”¨ &lt;strong&gt;JDK Proxy&lt;/strong&gt;ï¼Œå»åˆ›å»ºä»£ç†å¯¹è±¡ï¼Œè€Œå¯¹äºæ²¡æœ‰å®ç°æ¥å£çš„å¯¹è±¡ï¼Œå°±æ— æ³•ä½¿ç”¨ JDK Proxy å»è¿›è¡Œä»£ç†äº†ï¼Œè¿™æ—¶å€™ Spring AOP ä¼šä½¿ç”¨ &lt;strong&gt;Cglib&lt;/strong&gt; ç”Ÿæˆä¸€ä¸ªè¢«ä»£ç†å¯¹è±¡çš„å­ç±»æ¥ä½œä¸ºä»£ç†&lt;/p&gt;

&lt;p&gt;å½“ç„¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ &lt;strong&gt;AspectJ&lt;/strong&gt; ï¼Spring AOP å·²ç»é›†æˆäº† AspectJ ï¼ŒAspectJ åº”è¯¥ç®—çš„ä¸Šæ˜¯ Java ç”Ÿæ€ç³»ç»Ÿä¸­æœ€å®Œæ•´çš„ AOP æ¡†æ¶äº†ã€‚&lt;/p&gt;

&lt;p&gt;AOP åˆ‡é¢ç¼–ç¨‹æ¶‰åŠåˆ°çš„ä¸€äº›ä¸“ä¸šæœ¯è¯­ï¼š&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;æœ¯è¯­&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;å«ä¹‰&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ç›®æ ‡(Target)&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;è¢«é€šçŸ¥çš„å¯¹è±¡&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ä»£ç†(Proxy)&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;å‘ç›®æ ‡å¯¹è±¡åº”ç”¨é€šçŸ¥ä¹‹ååˆ›å»ºçš„ä»£ç†å¯¹è±¡&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;è¿æ¥ç‚¹(JoinPoint)&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;ç›®æ ‡å¯¹è±¡çš„æ‰€å±ç±»ä¸­ï¼Œå®šä¹‰çš„æ‰€æœ‰æ–¹æ³•å‡ä¸ºè¿æ¥ç‚¹&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;åˆ‡å…¥ç‚¹(Pointcut)&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;è¢«åˆ‡é¢æ‹¦æˆª / å¢å¼ºçš„è¿æ¥ç‚¹ï¼ˆåˆ‡å…¥ç‚¹ä¸€å®šæ˜¯è¿æ¥ç‚¹ï¼Œè¿æ¥ç‚¹ä¸ä¸€å®šæ˜¯åˆ‡å…¥ç‚¹ï¼‰&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;é€šçŸ¥(Advice)&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;å¢å¼ºçš„é€»è¾‘ / ä»£ç ï¼Œä¹Ÿå³æ‹¦æˆªåˆ°ç›®æ ‡å¯¹è±¡çš„è¿æ¥ç‚¹ä¹‹åè¦åšçš„äº‹æƒ…&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;åˆ‡é¢(Aspect)&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;åˆ‡å…¥ç‚¹(Pointcut)+é€šçŸ¥(Advice)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Weaving(ç»‡å…¥)&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;å°†é€šçŸ¥åº”ç”¨åˆ°ç›®æ ‡å¯¹è±¡ï¼Œè¿›è€Œç”Ÿæˆä»£ç†å¯¹è±¡çš„è¿‡ç¨‹åŠ¨ä½œ&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;Spring&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;AOP&lt;/span&gt;
   &lt;span class=&quot;o&quot;&gt;â”œâ”€â”€&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ä½¿ç”¨&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;AspectJ&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;æ³¨è§£&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;ï¼ˆ&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;å¦‚&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;@Aspect&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;ï¼‰&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;æ¥å£°æ˜åˆ‡é¢&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;ã€‚&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;å®ƒæ˜¯å•ç‹¬çš„aopæ¡†æ¶&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;ï¼Œ&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;å¯ä»¥åœ¨éspringé‡Œä½¿ç”¨&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;ã€‚&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;å’Œspring&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aopæ˜¯ä¸¤å¥—&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;ã€‚&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;å®ƒæ˜¯ç¼–è¯‘æ—¶ç»‡å…¥&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;ã€‚&lt;/span&gt;
   &lt;span class=&quot;o&quot;&gt;â”œâ”€â”€&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ä½¿ç”¨ä»£ç†æ–¹å¼å®ç°&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;AOP&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;ï¼š&lt;/span&gt;
   &lt;span class=&quot;o&quot;&gt;â”‚&lt;/span&gt;     &lt;span class=&quot;o&quot;&gt;â”œâ”€â”€&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;JDK&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;åŠ¨æ€ä»£ç†&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;ï¼ˆ&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;æ¥å£å‹&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;ï¼‰&lt;/span&gt;
   &lt;span class=&quot;o&quot;&gt;â”‚&lt;/span&gt;     &lt;span class=&quot;o&quot;&gt;â””â”€â”€&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CGLIB&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;åŠ¨æ€ä»£ç†&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;ï¼ˆ&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ç±»å‹&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;ï¼‰&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;aop-å¸¸è§çš„é€šçŸ¥ç±»å‹æœ‰å“ªäº›&quot;&gt;AOP å¸¸è§çš„é€šçŸ¥ç±»å‹æœ‰å“ªäº›ï¼Ÿ&lt;/h2&gt;

&lt;p&gt;AOP ä¸€èˆ¬æœ‰ &lt;strong&gt;5 ç§&lt;/strong&gt;ç¯ç»•æ–¹å¼ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;å‰ç½®é€šçŸ¥ (@Before)&lt;/li&gt;
  &lt;li&gt;è¿”å›é€šçŸ¥ (@AfterReturning)&lt;/li&gt;
  &lt;li&gt;å¼‚å¸¸é€šçŸ¥ (@AfterThrowing)&lt;/li&gt;
  &lt;li&gt;åç½®é€šçŸ¥ (@After)&lt;/li&gt;
  &lt;li&gt;ç¯ç»•é€šçŸ¥ (@Around)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/mafulong/mdPic@vv6/v6/202505062358585.png&quot; alt=&quot;ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šç¯ç»•æ–¹å¼&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;aspectj-æ˜¯ä»€ä¹ˆ&quot;&gt;AspectJ æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h2&gt;

&lt;h3 id=&quot;aspectj&quot;&gt;AspectJ&lt;/h3&gt;

&lt;p&gt;AspectJ æ˜¯ä¸€ä¸ª AOP æ¡†æ¶ï¼Œå®ƒå¯ä»¥åšå¾ˆå¤š Spring AOP å¹²ä¸äº†çš„äº‹æƒ…ï¼Œæ¯”å¦‚è¯´æ”¯æŒç¼–è¯‘æ—¶ã€ç¼–è¯‘åå’Œç±»åŠ è½½æ—¶ç»‡å…¥åˆ‡é¢ã€‚å¹¶ä¸”æä¾›æ›´å¤æ‚çš„åˆ‡ç‚¹è¡¨è¾¾å¼å’Œé€šçŸ¥ç±»å‹ã€‚&lt;/p&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nd&quot;&gt;@Aspect&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;// è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªåˆ‡é¢ç±»&lt;/span&gt;
&lt;span class=&quot;nd&quot;&gt;@Component&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;// Spring ç®¡ç†è¯¥ç±»çš„ Bean&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;LoggingAspect&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// å®šä¹‰ä¸€ä¸ªåˆ‡å…¥ç‚¹ï¼ŒåŒ¹é… HelloService ä¸­çš„æ‰€æœ‰æ–¹æ³•&lt;/span&gt;
    &lt;span class=&quot;nd&quot;&gt;@Pointcut&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;execution(* com.example.demo.HelloService.*(..))&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;helloServiceMethods&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{}&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// æ–¹æ³•æ‰§è¡Œä¹‹å‰çš„é€šçŸ¥ï¼ˆBefore Adviceï¼‰&lt;/span&gt;
    &lt;span class=&quot;nd&quot;&gt;@Before&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;helloServiceMethods()&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;logBefore&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Method is about to execute&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// æ–¹æ³•æ‰§è¡Œä¹‹åçš„é€šçŸ¥ï¼ˆAfter Adviceï¼‰&lt;/span&gt;
    &lt;span class=&quot;nd&quot;&gt;@After&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;helloServiceMethods()&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;logAfter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Method has executed&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;spring-aop-å’Œ-aspectj-aop-æœ‰ä»€ä¹ˆåŒºåˆ«&quot;&gt;Spring AOP å’Œ AspectJ AOP æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&lt;/h3&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;ç‰¹æ€§&lt;/th&gt;
      &lt;th&gt;Spring AOP&lt;/th&gt;
      &lt;th&gt;AspectJ&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;å¢å¼ºæ–¹å¼&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;è¿è¡Œæ—¶å¢å¼ºï¼ˆåŸºäºåŠ¨æ€ä»£ç†ï¼‰&lt;/td&gt;
      &lt;td&gt;ç¼–è¯‘æ—¶å¢å¼ºã€ç±»åŠ è½½æ—¶å¢å¼ºï¼ˆç›´æ¥æ“ä½œå­—èŠ‚ç ï¼‰&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;åˆ‡å…¥ç‚¹æ”¯æŒ&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;æ–¹æ³•çº§ï¼ˆSpring Bean èŒƒå›´å†…ï¼Œä¸æ”¯æŒ final å’Œ staic æ–¹æ³•ï¼‰&lt;/td&gt;
      &lt;td&gt;æ–¹æ³•çº§ã€å­—æ®µã€æ„é€ å™¨ã€é™æ€æ–¹æ³•ç­‰&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;æ€§èƒ½&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;è¿è¡Œæ—¶ä¾èµ–ä»£ç†ï¼Œæœ‰ä¸€å®šå¼€é”€ï¼Œåˆ‡é¢å¤šæ—¶æ€§èƒ½è¾ƒä½&lt;/td&gt;
      &lt;td&gt;è¿è¡Œæ—¶æ— ä»£ç†å¼€é”€ï¼Œæ€§èƒ½æ›´é«˜&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;å¤æ‚æ€§&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;ç®€å•ï¼Œæ˜“ç”¨ï¼Œé€‚åˆå¤§å¤šæ•°åœºæ™¯&lt;/td&gt;
      &lt;td&gt;åŠŸèƒ½å¼ºå¤§ï¼Œä½†ç›¸å¯¹å¤æ‚&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;ä½¿ç”¨åœºæ™¯&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;Spring åº”ç”¨ä¸‹æ¯”è¾ƒç®€å•çš„ AOP éœ€æ±‚&lt;/td&gt;
      &lt;td&gt;é«˜æ€§èƒ½ã€é«˜å¤æ‚åº¦çš„ AOP éœ€æ±‚&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;strong&gt;å¦‚ä½•é€‰æ‹©ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;åŠŸèƒ½è€ƒé‡&lt;/strong&gt;ï¼šAspectJ æ”¯æŒæ›´å¤æ‚çš„ AOP åœºæ™¯ï¼ŒSpring AOP æ›´ç®€å•æ˜“ç”¨ã€‚å¦‚æœä½ éœ€è¦å¢å¼º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;final&lt;/code&gt; æ–¹æ³•ã€é™æ€æ–¹æ³•ã€å­—æ®µè®¿é—®ã€æ„é€ å™¨è°ƒç”¨ç­‰ï¼Œæˆ–è€…éœ€è¦åœ¨é Spring ç®¡ç†çš„å¯¹è±¡ä¸Šåº”ç”¨å¢å¼ºé€»è¾‘ï¼ŒAspectJ æ˜¯å”¯ä¸€çš„é€‰æ‹©ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;æ€§èƒ½è€ƒé‡&lt;/strong&gt;ï¼šåˆ‡é¢æ•°é‡è¾ƒå°‘æ—¶ä¸¤è€…æ€§èƒ½å·®å¼‚ä¸å¤§ï¼Œä½†åˆ‡é¢è¾ƒå¤šæ—¶ AspectJ æ€§èƒ½æ›´ä¼˜ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;ä¸€å¥è¯æ€»ç»“&lt;/strong&gt;ï¼šç®€å•åœºæ™¯ä¼˜å…ˆä½¿ç”¨ Spring AOPï¼›å¤æ‚åœºæ™¯æˆ–é«˜æ€§èƒ½éœ€æ±‚æ—¶ï¼Œé€‰æ‹© AspectJã€‚&lt;/p&gt;

&lt;p&gt;Spring AOP å±äº&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;è¿è¡Œæ—¶å¢å¼º&lt;/code&gt;ï¼Œä¸»è¦å…·æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;åŸºäºåŠ¨æ€ä»£ç†æ¥å®ç°ï¼Œé»˜è®¤å¦‚æœä½¿ç”¨æ¥å£çš„ï¼Œç”¨ JDK æä¾›çš„åŠ¨æ€ä»£ç†å®ç°ï¼Œå¦‚æœæ˜¯æ–¹æ³•åˆ™ä½¿ç”¨ CGLIB å®ç°&lt;/li&gt;
  &lt;li&gt;Spring AOP éœ€è¦ä¾èµ– IoC å®¹å™¨æ¥ç®¡ç†ï¼Œå¹¶ä¸”åªèƒ½ä½œç”¨äº Spring å®¹å™¨ï¼Œä½¿ç”¨çº¯ Java ä»£ç å®ç°&lt;/li&gt;
  &lt;li&gt;åœ¨æ€§èƒ½ä¸Šï¼Œç”±äº Spring AOP æ˜¯åŸºäº&lt;strong&gt;åŠ¨æ€ä»£ç†&lt;/strong&gt;æ¥å®ç°çš„ï¼Œåœ¨å®¹å™¨å¯åŠ¨æ—¶éœ€è¦ç”Ÿæˆä»£ç†å®ä¾‹ï¼Œåœ¨æ–¹æ³•è°ƒç”¨ä¸Šä¹Ÿä¼šå¢åŠ æ ˆçš„æ·±åº¦ï¼Œä½¿å¾— Spring AOP çš„æ€§èƒ½ä¸å¦‚ AspectJ çš„é‚£ä¹ˆå¥½ã€‚&lt;/li&gt;
  &lt;li&gt;Spring AOP è‡´åŠ›äºè§£å†³ä¼ä¸šçº§å¼€å‘ä¸­æœ€æ™®éçš„ AOP(æ–¹æ³•ç»‡å…¥)ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;AspectJ æ˜¯ä¸€ä¸ªæ˜“ç”¨çš„åŠŸèƒ½å¼ºå¤§çš„ AOP æ¡†æ¶ï¼Œå±äº&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ç¼–è¯‘æ—¶å¢å¼º&lt;/code&gt;ï¼Œ å¯ä»¥å•ç‹¬ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥æ•´åˆåˆ°å…¶å®ƒæ¡†æ¶ä¸­ï¼Œæ˜¯ AOP ç¼–ç¨‹çš„å®Œå…¨è§£å†³æ–¹æ¡ˆã€‚AspectJ éœ€è¦ç”¨åˆ°å•ç‹¬çš„ç¼–è¯‘å™¨ ajcã€‚&lt;/p&gt;

&lt;p&gt;AspectJ å±äº&lt;strong&gt;é™æ€ç»‡å…¥&lt;/strong&gt;ï¼Œé€šè¿‡ä¿®æ”¹ä»£ç æ¥å®ç°ï¼Œåœ¨å®é™…è¿è¡Œä¹‹å‰å°±å®Œæˆäº†ç»‡å…¥ï¼Œæ‰€ä»¥è¯´å®ƒç”Ÿæˆçš„ç±»æ˜¯æ²¡æœ‰é¢å¤–è¿è¡Œæ—¶å¼€é”€çš„ï¼Œä¸€èˆ¬æœ‰å¦‚ä¸‹å‡ ä¸ªç»‡å…¥çš„æ—¶æœºï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;ç¼–è¯‘æœŸç»‡å…¥ï¼ˆCompile-time weavingï¼‰ï¼šå¦‚ç±» A ä½¿ç”¨ AspectJ æ·»åŠ äº†ä¸€ä¸ªå±æ€§ï¼Œç±» B å¼•ç”¨äº†å®ƒï¼Œè¿™ä¸ªåœºæ™¯å°±éœ€è¦ç¼–è¯‘æœŸçš„æ—¶å€™å°±è¿›è¡Œç»‡å…¥ï¼Œå¦åˆ™æ²¡æ³•ç¼–è¯‘ç±» Bã€‚&lt;/li&gt;
  &lt;li&gt;ç¼–è¯‘åç»‡å…¥ï¼ˆPost-compile weavingï¼‰ï¼šä¹Ÿå°±æ˜¯å·²ç»ç”Ÿæˆäº† .class æ–‡ä»¶ï¼Œæˆ–å·²ç»æ‰“æˆ jar åŒ…äº†ï¼Œè¿™ç§æƒ…å†µæˆ‘ä»¬éœ€è¦å¢å¼ºå¤„ç†çš„è¯ï¼Œå°±è¦ç”¨åˆ°ç¼–è¯‘åç»‡å…¥ã€‚&lt;/li&gt;
  &lt;li&gt;ç±»åŠ è½½åç»‡å…¥ï¼ˆLoad-time weavingï¼‰ï¼šæŒ‡çš„æ˜¯åœ¨åŠ è½½ç±»çš„æ—¶å€™è¿›è¡Œç»‡å…¥ï¼Œè¦å®ç°è¿™ä¸ªæ—¶æœŸçš„ç»‡å…¥ï¼Œæœ‰å‡ ç§å¸¸è§çš„æ–¹æ³•&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;sprint-aop&quot;&gt;Sprint AOP&lt;/h2&gt;

&lt;h3 id=&quot;spring-aop-å‘ç”Ÿåœ¨ä»€ä¹ˆæ—¶å€™&quot;&gt;Spring AOP å‘ç”Ÿåœ¨ä»€ä¹ˆæ—¶å€™ï¼Ÿ&lt;/h3&gt;

&lt;p&gt;Spring AOP åŸºäºè¿è¡Œæ—¶ä»£ç†æœºåˆ¶ï¼Œè¿™æ„å‘³ç€ Spring AOP æ˜¯åœ¨è¿è¡Œæ—¶é€šè¿‡åŠ¨æ€ä»£ç†ç”Ÿæˆçš„ï¼Œè€Œä¸æ˜¯åœ¨ç¼–è¯‘æ—¶æˆ–ç±»åŠ è½½æ—¶ç”Ÿæˆçš„ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ Spring å®¹å™¨åˆå§‹åŒ– Bean çš„è¿‡ç¨‹ä¸­ï¼ŒSpring AOP ä¼šæ£€æŸ¥ Bean æ˜¯å¦éœ€è¦åº”ç”¨åˆ‡é¢ã€‚å¦‚æœéœ€è¦ï¼ŒSpring ä¼šä¸ºè¯¥ Bean åˆ›å»ºä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œå¹¶åœ¨ä»£ç†å¯¹è±¡ä¸­ç»‡å…¥åˆ‡é¢é€»è¾‘ã€‚è¿™ä¸€è¿‡ç¨‹å‘ç”Ÿåœ¨ Spring å®¹å™¨çš„åå¤„ç†å™¨ï¼ˆBeanPostProcessorï¼‰é˜¶æ®µã€‚&lt;/p&gt;

&lt;h3 id=&quot;è¯´è¯´-jdk-åŠ¨æ€ä»£ç†å’Œ-cglib-ä»£ç†&quot;&gt;è¯´è¯´ JDK åŠ¨æ€ä»£ç†å’Œ CGLIB ä»£ç†ï¼Ÿ&lt;/h3&gt;

&lt;p&gt;AOP æ˜¯é€šè¿‡&lt;a href=&quot;https://mp.weixin.qq.com/s/aZtfwik0weJN5JzYc-JxYg&quot;&gt;åŠ¨æ€ä»£ç†&lt;/a&gt;å®ç°çš„ï¼Œä»£ç†æ–¹å¼æœ‰ä¸¤ç§ï¼šJDK åŠ¨æ€ä»£ç†å’Œ CGLIB ä»£ç†ã€‚&lt;/p&gt;

&lt;p&gt;â‘ ã€JDK åŠ¨æ€ä»£ç†æ˜¯åŸºäºæ¥å£çš„ä»£ç†ï¼Œåªèƒ½ä»£ç†å®ç°äº†æ¥å£çš„ç±»ã€‚&lt;/p&gt;

&lt;p&gt;ä½¿ç”¨ JDK åŠ¨æ€ä»£ç†æ—¶ï¼ŒSpring AOP ä¼šåˆ›å»ºä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œè¯¥ä»£ç†å¯¹è±¡å®ç°äº†ç›®æ ‡å¯¹è±¡æ‰€å®ç°çš„æ¥å£ï¼Œå¹¶åœ¨æ–¹æ³•è°ƒç”¨å‰åæ’å…¥æ¨ªåˆ‡é€»è¾‘ã€‚&lt;/p&gt;

&lt;p&gt;ä¼˜ç‚¹ï¼šåªéœ€ä¾èµ– JDK è‡ªå¸¦çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;java.lang.reflect.Proxy&lt;/code&gt; ç±»ï¼Œä¸éœ€è¦é¢å¤–çš„åº“ï¼›ç¼ºç‚¹ï¼šåªèƒ½ä»£ç†æ¥å£ï¼Œä¸èƒ½ä»£ç†ç±»æœ¬èº«ã€‚&lt;/p&gt;

&lt;p&gt;â‘¡ã€CGLIB åŠ¨æ€ä»£ç†æ˜¯åŸºäºç»§æ‰¿çš„ä»£ç†ï¼Œå¯ä»¥ä»£ç†æ²¡æœ‰å®ç°æ¥å£çš„ç±»ã€‚&lt;/p&gt;

&lt;p&gt;ä½¿ç”¨ CGLIB åŠ¨æ€ä»£ç†æ—¶ï¼ŒSpring AOP ä¼šç”Ÿæˆç›®æ ‡ç±»çš„å­ç±»ï¼Œå¹¶åœ¨æ–¹æ³•è°ƒç”¨å‰åæ’å…¥æ¨ªåˆ‡é€»è¾‘ã€‚&lt;/p&gt;

&lt;p&gt;ä¼˜ç‚¹ï¼šå¯ä»¥ä»£ç†æ²¡æœ‰å®ç°æ¥å£çš„ç±»ï¼Œçµæ´»æ€§æ›´é«˜ï¼›ç¼ºç‚¹ï¼šéœ€è¦ä¾èµ– CGLIB åº“ï¼Œåˆ›å»ºä»£ç†å¯¹è±¡çš„å¼€é”€ç›¸å¯¹è¾ƒå¤§ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;JDK åŠ¨æ€ä»£ç†&lt;/strong&gt;åªèƒ½ä»£ç†å®ç°äº†æ¥å£çš„ç±»ã€‚å®ƒçš„å®ç°åŸºäº Java çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;java.lang.reflect.Proxy&lt;/code&gt; ç±»å’Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;InvocationHandler&lt;/code&gt; æ¥å£ï¼Œ&lt;strong&gt;è¿è¡Œæ—¶åœ¨å†…å­˜ä¸­åŠ¨æ€ç”Ÿæˆä»£ç†ç±»çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.class&lt;/code&gt; æ–‡ä»¶å¹¶åŠ è½½æ‰§è¡Œ&lt;/strong&gt;ã€‚&lt;/p&gt;

&lt;p&gt;JDK Proxy æ˜¯é€šè¿‡åœ¨å†…å­˜ä¸­åŠ¨æ€åˆ›å»ºä¸€ä¸ªå®ç°äº†åŒæ ·æ¥å£çš„ä»£ç†ç±»æ¥â€œä»£ç†â€ç›®æ ‡å¯¹è±¡çš„æ–¹æ³•è°ƒç”¨ã€‚&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;æ¯”è¾ƒç»´åº¦&lt;/th&gt;
      &lt;th&gt;JDK åŠ¨æ€ä»£ç†&lt;/th&gt;
      &lt;th&gt;CGLIB åŠ¨æ€ä»£ç†&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;ä»£ç†å¯¹è±¡&lt;/td&gt;
      &lt;td&gt;å¿…é¡»å®ç°æ¥å£&lt;/td&gt;
      &lt;td&gt;ä¸éœ€è¦æ¥å£&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;å®ç°æ–¹å¼&lt;/td&gt;
      &lt;td&gt;JDK Proxy + åå°„&lt;/td&gt;
      &lt;td&gt;ç»§æ‰¿ + å­—èŠ‚ç å¢å¼º&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;æ€§èƒ½ï¼ˆæ—©æœŸï¼‰&lt;/td&gt;
      &lt;td&gt;è¾ƒä½&lt;/td&gt;
      &lt;td&gt;è¾ƒé«˜&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;é™åˆ¶&lt;/td&gt;
      &lt;td&gt;ä¸èƒ½ä»£ç†ç±»æœ¬èº«&lt;/td&gt;
      &lt;td&gt;ä¸èƒ½ä»£ç† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;final&lt;/code&gt; ç±»/æ–¹æ³•&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Spring é»˜è®¤ç­–ç•¥&lt;/td&gt;
      &lt;td&gt;æœ‰æ¥å£ï¼šJDK åŠ¨æ€ä»£ç†æ— æ¥å£ï¼šCGLIB&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;é€‰æ‹©-cglib-è¿˜æ˜¯-jdk-åŠ¨æ€ä»£ç†&quot;&gt;é€‰æ‹© CGLIB è¿˜æ˜¯ JDK åŠ¨æ€ä»£ç†ï¼Ÿ&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;å¦‚æœç›®æ ‡å¯¹è±¡æ²¡æœ‰å®ç°ä»»ä½•æ¥å£ï¼Œåˆ™åªèƒ½ä½¿ç”¨ CGLIB ä»£ç†ã€‚å¦‚æœç›®æ ‡å¯¹è±¡å®ç°äº†æ¥å£ï¼Œé€šå¸¸é¦–é€‰ JDK åŠ¨æ€ä»£ç†ã€‚&lt;/li&gt;
  &lt;li&gt;è™½ç„¶ CGLIB åœ¨ä»£ç†ç±»çš„ç”Ÿæˆè¿‡ç¨‹ä¸­å¯èƒ½æ¶ˆè€—æ›´å¤šèµ„æºï¼Œä½†åœ¨è¿è¡Œæ—¶å…·æœ‰è¾ƒé«˜çš„æ€§èƒ½ã€‚å¯¹äºæ€§èƒ½æ•æ„Ÿä¸”ä»£ç†å¯¹è±¡åˆ›å»ºé¢‘ç‡ä¸é«˜çš„åœºæ™¯ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ CGLIBã€‚&lt;/li&gt;
  &lt;li&gt;JDK åŠ¨æ€ä»£ç†æ˜¯ Java åŸç”Ÿæ”¯æŒçš„ï¼Œä¸éœ€è¦é¢å¤–å¼•å…¥åº“ã€‚è€Œ CGLIB éœ€è¦å°† CGLIB åº“ä½œä¸ºä¾èµ–åŠ å…¥é¡¹ç›®ä¸­ã€‚&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Fulong Ma</name></author><category term="Spring" /><category term="Spring" /><summary type="html">Spring AOP</summary></entry><entry><title type="html">Spring IoC</title><link href="https://mafulong.github.io/2025/05/06/Spring-IoC/" rel="alternate" type="text/html" title="Spring IoC" /><published>2025-05-06T00:00:00+08:00</published><updated>2025-05-06T00:00:00+08:00</updated><id>https://mafulong.github.io/2025/05/06/Spring%20IoC</id><content type="html" xml:base="https://mafulong.github.io/2025/05/06/Spring-IoC/">&lt;h2 id=&quot;sprint-ioc&quot;&gt;Sprint IoC&lt;/h2&gt;

&lt;h3 id=&quot;è°ˆè°ˆè‡ªå·±å¯¹äº-spring-ioc-çš„äº†è§£&quot;&gt;è°ˆè°ˆè‡ªå·±å¯¹äº Spring IoC çš„äº†è§£&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;IoCï¼ˆInversion of Control:æ§åˆ¶åè½¬ï¼‰&lt;/strong&gt; æ˜¯ä¸€ç§è®¾è®¡æ€æƒ³ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå…·ä½“çš„æŠ€æœ¯å®ç°ã€‚IoC çš„æ€æƒ³å°±æ˜¯å°†åŸæœ¬åœ¨ç¨‹åºä¸­æ‰‹åŠ¨åˆ›å»ºå¯¹è±¡çš„æ§åˆ¶æƒï¼Œäº¤ç”± Spring æ¡†æ¶æ¥ç®¡ç†ã€‚ä¸è¿‡ï¼Œ IoC å¹¶é Spring ç‰¹æœ‰ï¼Œåœ¨å…¶ä»–è¯­è¨€ä¸­ä¹Ÿæœ‰åº”ç”¨ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆå«æ§åˆ¶åè½¬ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;æ§åˆ¶&lt;/strong&gt;ï¼šæŒ‡çš„æ˜¯å¯¹è±¡åˆ›å»ºï¼ˆå®ä¾‹åŒ–ã€ç®¡ç†ï¼‰çš„æƒåŠ›&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;åè½¬&lt;/strong&gt;ï¼šæ§åˆ¶æƒäº¤ç»™å¤–éƒ¨ç¯å¢ƒï¼ˆSpring æ¡†æ¶ã€IoC å®¹å™¨ï¼‰&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;åœ¨å®é™…é¡¹ç›®ä¸­ä¸€ä¸ª Service ç±»å¯èƒ½ä¾èµ–äº†å¾ˆå¤šå…¶ä»–çš„ç±»ï¼Œå‡å¦‚æˆ‘ä»¬éœ€è¦å®ä¾‹åŒ–è¿™ä¸ª Serviceï¼Œä½ å¯èƒ½è¦æ¯æ¬¡éƒ½è¦ææ¸…è¿™ä¸ª Service æ‰€æœ‰åº•å±‚ç±»çš„æ„é€ å‡½æ•°ï¼Œè¿™å¯èƒ½ä¼šæŠŠäººé€¼ç–¯ã€‚å¦‚æœåˆ©ç”¨ IoC çš„è¯ï¼Œä½ åªéœ€è¦é…ç½®å¥½ï¼Œç„¶ååœ¨éœ€è¦çš„åœ°æ–¹å¼•ç”¨å°±è¡Œäº†ï¼Œè¿™å¤§å¤§å¢åŠ äº†é¡¹ç›®çš„å¯ç»´æŠ¤æ€§ä¸”é™ä½äº†å¼€å‘éš¾åº¦ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ Spring ä¸­ï¼Œ IoC å®¹å™¨æ˜¯ Spring ç”¨æ¥å®ç° IoC çš„è½½ä½“ï¼Œ IoC å®¹å™¨å®é™…ä¸Šå°±æ˜¯ä¸ª Mapï¼ˆkeyï¼Œvalueï¼‰ï¼ŒMap ä¸­å­˜æ”¾çš„æ˜¯å„ç§å¯¹è±¡ã€‚&lt;/p&gt;

&lt;p&gt;IOC æ˜¯ä¸€ç§æ€æƒ³ï¼Œ&lt;strong&gt;DI&lt;/strong&gt; æ˜¯å®ç° IOC çš„å…·ä½“æ–¹å¼ï¼Œæ¯”å¦‚è¯´åˆ©ç”¨æ³¨å…¥æœºåˆ¶ï¼ˆå¦‚æ„é€ å™¨æ³¨å…¥ã€Setter æ³¨å…¥ï¼‰å°†ä¾èµ–ä¼ é€’ç»™ç›®æ ‡å¯¹è±¡ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å°†ä¸€ä¸ªç±»å£°æ˜ä¸º-bean-çš„æ³¨è§£æœ‰å“ªäº›&quot;&gt;å°†ä¸€ä¸ªç±»å£°æ˜ä¸º Bean çš„æ³¨è§£æœ‰å“ªäº›?&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Component&lt;/code&gt;ï¼šé€šç”¨çš„æ³¨è§£ï¼Œå¯æ ‡æ³¨ä»»æ„ç±»ä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Spring&lt;/code&gt; ç»„ä»¶ã€‚å¦‚æœä¸€ä¸ª Bean ä¸çŸ¥é“å±äºå“ªä¸ªå±‚ï¼Œå¯ä»¥ä½¿ç”¨&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Component&lt;/code&gt; æ³¨è§£æ ‡æ³¨ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Repository&lt;/code&gt; : å¯¹åº”æŒä¹…å±‚å³ Dao å±‚ï¼Œä¸»è¦ç”¨äºæ•°æ®åº“ç›¸å…³æ“ä½œã€‚&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Service&lt;/code&gt; : å¯¹åº”æœåŠ¡å±‚ï¼Œä¸»è¦æ¶‰åŠä¸€äº›å¤æ‚çš„é€»è¾‘ï¼Œéœ€è¦ç”¨åˆ° Dao å±‚ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Controller&lt;/code&gt; : å¯¹åº” Spring MVC æ§åˆ¶å±‚ï¼Œä¸»è¦ç”¨äºæ¥å—ç”¨æˆ·è¯·æ±‚å¹¶è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Service&lt;/code&gt; å±‚è¿”å›æ•°æ®ç»™å‰ç«¯é¡µé¢ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;component-å’Œ-bean-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ&quot;&gt;@Component å’Œ @Bean çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Component&lt;/code&gt; æ³¨è§£ä½œç”¨äºç±»ï¼Œè€Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Bean&lt;/code&gt;æ³¨è§£ä½œç”¨äºæ–¹æ³•ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Component&lt;/code&gt;é€šå¸¸æ˜¯é€šè¿‡ç±»è·¯å¾„æ‰«ææ¥è‡ªåŠ¨ä¾¦æµ‹ä»¥åŠè‡ªåŠ¨è£…é…åˆ° Spring å®¹å™¨ä¸­ï¼ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@ComponentScan&lt;/code&gt; æ³¨è§£å®šä¹‰è¦æ‰«æçš„è·¯å¾„ä»ä¸­æ‰¾å‡ºæ ‡è¯†äº†éœ€è¦è£…é…çš„ç±»è‡ªåŠ¨è£…é…åˆ° Spring çš„ bean å®¹å™¨ä¸­ï¼‰ã€‚&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Bean&lt;/code&gt; æ³¨è§£é€šå¸¸æ˜¯æˆ‘ä»¬åœ¨æ ‡æœ‰è¯¥æ³¨è§£çš„æ–¹æ³•ä¸­å®šä¹‰äº§ç”Ÿè¿™ä¸ª bean,&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Bean&lt;/code&gt;å‘Šè¯‰äº† Spring è¿™æ˜¯æŸä¸ªç±»çš„å®ä¾‹ï¼Œå½“æˆ‘éœ€è¦ç”¨å®ƒçš„æ—¶å€™è¿˜ç»™æˆ‘ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Bean&lt;/code&gt; æ³¨è§£æ¯” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Component&lt;/code&gt; æ³¨è§£çš„è‡ªå®šä¹‰æ€§æ›´å¼ºï¼Œè€Œä¸”å¾ˆå¤šåœ°æ–¹æˆ‘ä»¬åªèƒ½é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Bean&lt;/code&gt; æ³¨è§£æ¥æ³¨å†Œ beanã€‚æ¯”å¦‚å½“æˆ‘ä»¬å¼•ç”¨ç¬¬ä¸‰æ–¹åº“ä¸­çš„ç±»éœ€è¦è£…é…åˆ° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Spring&lt;/code&gt;å®¹å™¨æ—¶ï¼Œåˆ™åªèƒ½é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Bean&lt;/code&gt;æ¥å®ç°ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;nd&quot;&gt;@Configuration&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;AppConfig&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nd&quot;&gt;@Bean&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;TransferService&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;transferService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;TransferServiceImpl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;æ³¨å…¥-bean-çš„æ³¨è§£æœ‰å“ªäº›&quot;&gt;æ³¨å…¥ Bean çš„æ³¨è§£æœ‰å“ªäº›ï¼Ÿ&lt;/h3&gt;

&lt;p&gt;Spring å†…ç½®çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Autowired&lt;/code&gt; ä»¥åŠ JDK å†…ç½®çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Resource&lt;/code&gt; å’Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Inject&lt;/code&gt; éƒ½å¯ä»¥ç”¨äºæ³¨å…¥ Beanã€‚&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Annotation&lt;/th&gt;
      &lt;th&gt;Package&lt;/th&gt;
      &lt;th&gt;Source&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Autowired&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;org.springframework.bean.factory&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;Spring 2.5+&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Resource&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;javax.annotation&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;Java JSR-250&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Inject&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;javax.inject&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;Java JSR-330&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Autowired&lt;/code&gt; å’Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Resource&lt;/code&gt;ä½¿ç”¨çš„æ¯”è¾ƒå¤šä¸€äº›ã€‚&lt;/p&gt;

&lt;p&gt;æ¨èæ„é€ å‡½æ•°æ³¨å…¥ã€‚&lt;/p&gt;

&lt;h3 id=&quot;autowired-å’Œ-resource-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ&quot;&gt;@Autowired å’Œ @Resource çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Autowired&lt;/code&gt; æ˜¯ Spring æä¾›çš„æ³¨è§£ï¼Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Resource&lt;/code&gt; æ˜¯ JDK æä¾›çš„æ³¨è§£ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Autowired&lt;/code&gt; é»˜è®¤çš„æ³¨å…¥æ–¹å¼ä¸º&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;byType&lt;/code&gt;ï¼ˆæ ¹æ®ç±»å‹è¿›è¡ŒåŒ¹é…ï¼‰ï¼Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Resource&lt;/code&gt;é»˜è®¤æ³¨å…¥æ–¹å¼ä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;byName&lt;/code&gt;ï¼ˆæ ¹æ®åç§°è¿›è¡ŒåŒ¹é…ï¼‰ã€‚&lt;/li&gt;
  &lt;li&gt;å½“ä¸€ä¸ªæ¥å£å­˜åœ¨å¤šä¸ªå®ç°ç±»çš„æƒ…å†µä¸‹ï¼Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Autowired&lt;/code&gt; å’Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Resource&lt;/code&gt;éƒ½éœ€è¦é€šè¿‡åç§°æ‰èƒ½æ­£ç¡®åŒ¹é…åˆ°å¯¹åº”çš„ Beanã€‚&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Autowired&lt;/code&gt; å¯ä»¥é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Qualifier&lt;/code&gt; æ³¨è§£æ¥æ˜¾å¼æŒ‡å®šåç§°ï¼Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Resource&lt;/code&gt;å¯ä»¥é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;name&lt;/code&gt; å±æ€§æ¥æ˜¾å¼æŒ‡å®šåç§°ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Autowired&lt;/code&gt; æ”¯æŒåœ¨æ„é€ å‡½æ•°ã€æ–¹æ³•ã€å­—æ®µå’Œå‚æ•°ä¸Šä½¿ç”¨ã€‚&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Resource&lt;/code&gt; ä¸»è¦ç”¨äºå­—æ®µå’Œæ–¹æ³•ä¸Šçš„æ³¨å…¥ï¼Œä¸æ”¯æŒåœ¨æ„é€ å‡½æ•°æˆ–å‚æ•°ä¸Šä½¿ç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;æ³¨å…¥-bean-çš„æ–¹å¼æœ‰å“ªäº›&quot;&gt;æ³¨å…¥ Bean çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ&lt;/h3&gt;

&lt;p&gt;ä¾èµ–æ³¨å…¥ (Dependency Injection, DI) çš„å¸¸è§æ–¹å¼ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;æ„é€ å‡½æ•°æ³¨å…¥ï¼šé€šè¿‡ç±»çš„æ„é€ å‡½æ•°æ¥æ³¨å…¥ä¾èµ–é¡¹ã€‚&lt;/li&gt;
  &lt;li&gt;Setter æ³¨å…¥ï¼šé€šè¿‡ç±»çš„ Setter æ–¹æ³•æ¥æ³¨å…¥ä¾èµ–é¡¹ã€‚&lt;/li&gt;
  &lt;li&gt;Fieldï¼ˆå­—æ®µï¼‰ æ³¨å…¥ï¼šç›´æ¥åœ¨ç±»çš„å­—æ®µä¸Šä½¿ç”¨æ³¨è§£ï¼ˆå¦‚ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Autowired&lt;/code&gt; æˆ– &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Resource&lt;/code&gt;ï¼‰æ¥æ³¨å…¥ä¾èµ–é¡¹ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;strong&gt;Spring å®˜æ–¹æ¨èæ„é€ å‡½æ•°æ³¨å…¥&lt;/strong&gt;ï¼Œè¿™ç§æ³¨å…¥æ–¹å¼çš„ä¼˜åŠ¿å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;ä¾èµ–å®Œæ•´æ€§ï¼šç¡®ä¿æ‰€æœ‰å¿…éœ€ä¾èµ–åœ¨å¯¹è±¡åˆ›å»ºæ—¶å°±è¢«æ³¨å…¥ï¼Œé¿å…äº†ç©ºæŒ‡é’ˆå¼‚å¸¸çš„é£é™©ã€‚&lt;/li&gt;
  &lt;li&gt;ä¸å¯å˜æ€§ï¼šæœ‰åŠ©äºåˆ›å»ºä¸å¯å˜å¯¹è±¡ï¼Œæé«˜äº†çº¿ç¨‹å®‰å…¨æ€§ã€‚&lt;/li&gt;
  &lt;li&gt;åˆå§‹åŒ–ä¿è¯ï¼šç»„ä»¶åœ¨ä½¿ç”¨å‰å·²å®Œå…¨åˆå§‹åŒ–ï¼Œå‡å°‘äº†æ½œåœ¨çš„é”™è¯¯ã€‚&lt;/li&gt;
  &lt;li&gt;æµ‹è¯•ä¾¿åˆ©æ€§ï¼šåœ¨å•å…ƒæµ‹è¯•ä¸­ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡æ„é€ å‡½æ•°ä¼ å…¥æ¨¡æ‹Ÿçš„ä¾èµ–é¡¹ï¼Œè€Œä¸å¿…ä¾èµ– Spring å®¹å™¨è¿›è¡Œæ³¨å…¥ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;æ„é€ å‡½æ•°æ³¨å…¥é€‚åˆå¤„ç†&lt;strong&gt;å¿…éœ€çš„ä¾èµ–é¡¹&lt;/strong&gt;ï¼Œè€Œ &lt;strong&gt;Setter æ³¨å…¥&lt;/strong&gt; åˆ™æ›´é€‚åˆ&lt;strong&gt;å¯é€‰çš„ä¾èµ–é¡¹&lt;/strong&gt;ï¼Œè¿™äº›ä¾èµ–é¡¹å¯ä»¥æœ‰é»˜è®¤å€¼æˆ–åœ¨å¯¹è±¡ç”Ÿå‘½å‘¨æœŸä¸­åŠ¨æ€è®¾ç½®ã€‚è™½ç„¶ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Autowired&lt;/code&gt; å¯ä»¥ç”¨äº Setter æ–¹æ³•æ¥å¤„ç†å¿…éœ€çš„ä¾èµ–é¡¹ï¼Œä½†æ„é€ å‡½æ•°æ³¨å…¥ä»ç„¶æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨æŸäº›æƒ…å†µä¸‹ï¼ˆä¾‹å¦‚ç¬¬ä¸‰æ–¹ç±»ä¸æä¾› Setter æ–¹æ³•ï¼‰ï¼Œæ„é€ å‡½æ•°æ³¨å…¥å¯èƒ½æ˜¯&lt;strong&gt;å”¯ä¸€çš„é€‰æ‹©&lt;/strong&gt;ã€‚&lt;/p&gt;

&lt;h3 id=&quot;bean-çš„ä½œç”¨åŸŸæœ‰å“ªäº›&quot;&gt;Bean çš„ä½œç”¨åŸŸæœ‰å“ªäº›?&lt;/h3&gt;

&lt;p&gt;Spring ä¸­ Bean çš„ä½œç”¨åŸŸé€šå¸¸æœ‰ä¸‹é¢å‡ ç§ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;singleton&lt;/strong&gt; : IoC å®¹å™¨ä¸­åªæœ‰å”¯ä¸€çš„ bean å®ä¾‹ã€‚Spring ä¸­çš„ bean é»˜è®¤éƒ½æ˜¯å•ä¾‹çš„ï¼Œæ˜¯å¯¹å•ä¾‹è®¾è®¡æ¨¡å¼çš„åº”ç”¨ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;prototype&lt;/strong&gt; : æ¯æ¬¡è·å–éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ bean å®ä¾‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿ç»­ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getBean()&lt;/code&gt; ä¸¤æ¬¡ï¼Œå¾—åˆ°çš„æ˜¯ä¸åŒçš„ Bean å®ä¾‹ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;request&lt;/strong&gt; ï¼ˆä»… Web åº”ç”¨å¯ç”¨ï¼‰: æ¯ä¸€æ¬¡ HTTP è¯·æ±‚éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„ beanï¼ˆè¯·æ±‚ beanï¼‰ï¼Œè¯¥ bean ä»…åœ¨å½“å‰ HTTP request å†…æœ‰æ•ˆã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;session&lt;/strong&gt; ï¼ˆä»… Web åº”ç”¨å¯ç”¨ï¼‰ : æ¯ä¸€æ¬¡æ¥è‡ªæ–° session çš„ HTTP è¯·æ±‚éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„ beanï¼ˆä¼šè¯ beanï¼‰ï¼Œè¯¥ bean ä»…åœ¨å½“å‰ HTTP session å†…æœ‰æ•ˆã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;application/global-session&lt;/strong&gt; ï¼ˆä»… Web åº”ç”¨å¯ç”¨ï¼‰ï¼šæ¯ä¸ª Web åº”ç”¨åœ¨å¯åŠ¨æ—¶åˆ›å»ºä¸€ä¸ª Beanï¼ˆåº”ç”¨ Beanï¼‰ï¼Œè¯¥ bean ä»…åœ¨å½“å‰åº”ç”¨å¯åŠ¨æ—¶é—´å†…æœ‰æ•ˆã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;websocket&lt;/strong&gt; ï¼ˆä»… Web åº”ç”¨å¯ç”¨ï¼‰ï¼šæ¯ä¸€æ¬¡ WebSocket ä¼šè¯äº§ç”Ÿä¸€ä¸ªæ–°çš„ beanã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;bean-çš„ç”Ÿå‘½å‘¨æœŸäº†è§£ä¹ˆ&quot;&gt;Bean çš„ç”Ÿå‘½å‘¨æœŸäº†è§£ä¹ˆ?&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;åˆ›å»º Bean çš„å®ä¾‹&lt;/strong&gt;ï¼šBean å®¹å™¨é¦–å…ˆä¼šæ‰¾åˆ°é…ç½®æ–‡ä»¶ä¸­çš„ Bean å®šä¹‰ï¼Œç„¶åä½¿ç”¨ Java åå°„ API æ¥åˆ›å»º Bean çš„å®ä¾‹ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Bean å±æ€§èµ‹å€¼/å¡«å……&lt;/strong&gt;ï¼šä¸º Bean è®¾ç½®ç›¸å…³å±æ€§å’Œä¾èµ–ï¼Œä¾‹å¦‚&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Autowired&lt;/code&gt; ç­‰æ³¨è§£æ³¨å…¥çš„å¯¹è±¡ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Value&lt;/code&gt; æ³¨å…¥çš„å€¼ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;setter&lt;/code&gt;æ–¹æ³•æˆ–æ„é€ å‡½æ•°æ³¨å…¥ä¾èµ–å’Œå€¼ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Resource&lt;/code&gt;æ³¨å…¥çš„å„ç§èµ„æºã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Bean åˆå§‹åŒ–&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;å¦‚æœ Bean å®ç°äº† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BeanNameAware&lt;/code&gt; æ¥å£ï¼Œè°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;setBeanName()&lt;/code&gt;æ–¹æ³•ï¼Œä¼ å…¥ Bean çš„åå­—ã€‚
     - å¦‚æœ Bean å®ç°äº† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BeanClassLoaderAware&lt;/code&gt; æ¥å£ï¼Œè°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;setBeanClassLoader()&lt;/code&gt;æ–¹æ³•ï¼Œä¼ å…¥ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ClassLoader&lt;/code&gt;å¯¹è±¡çš„å®ä¾‹ã€‚&lt;/li&gt;
      &lt;li&gt;å¦‚æœ Bean å®ç°äº† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BeanFactoryAware&lt;/code&gt; æ¥å£ï¼Œè°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;setBeanFactory()&lt;/code&gt;æ–¹æ³•ï¼Œä¼ å…¥ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BeanFactory&lt;/code&gt;å¯¹è±¡çš„å®ä¾‹ã€‚&lt;/li&gt;
      &lt;li&gt;ä¸ä¸Šé¢çš„ç±»ä¼¼ï¼Œå¦‚æœå®ç°äº†å…¶ä»– &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;*.Aware&lt;/code&gt;æ¥å£ï¼Œå°±è°ƒç”¨ç›¸åº”çš„æ–¹æ³•ã€‚&lt;/li&gt;
      &lt;li&gt;å¦‚æœæœ‰å’ŒåŠ è½½è¿™ä¸ª Bean çš„ Spring å®¹å™¨ç›¸å…³çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BeanPostProcessor&lt;/code&gt; å¯¹è±¡ï¼Œæ‰§è¡Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postProcessBeforeInitialization()&lt;/code&gt; æ–¹æ³•&lt;/li&gt;
      &lt;li&gt;å¦‚æœ Bean å®ç°äº†&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;InitializingBean&lt;/code&gt;æ¥å£ï¼Œæ‰§è¡Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;afterPropertiesSet()&lt;/code&gt;æ–¹æ³•ã€‚&lt;/li&gt;
      &lt;li&gt;å¦‚æœ Bean åœ¨é…ç½®æ–‡ä»¶ä¸­çš„å®šä¹‰åŒ…å« &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;init-method&lt;/code&gt; å±æ€§ï¼Œæ‰§è¡ŒæŒ‡å®šçš„æ–¹æ³•ã€‚&lt;/li&gt;
      &lt;li&gt;å¦‚æœæœ‰å’ŒåŠ è½½è¿™ä¸ª Bean çš„ Spring å®¹å™¨ç›¸å…³çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BeanPostProcessor&lt;/code&gt; å¯¹è±¡ï¼Œæ‰§è¡Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postProcessAfterInitialization()&lt;/code&gt; æ–¹æ³•ã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;é”€æ¯ Bean&lt;/p&gt;

    &lt;p&gt;ï¼šé”€æ¯å¹¶ä¸æ˜¯è¯´è¦ç«‹é©¬æŠŠ Bean ç»™é”€æ¯æ‰ï¼Œè€Œæ˜¯æŠŠ Bean çš„é”€æ¯æ–¹æ³•å…ˆè®°å½•ä¸‹æ¥ï¼Œå°†æ¥éœ€è¦é”€æ¯ Bean æˆ–è€…é”€æ¯å®¹å™¨çš„æ—¶å€™ï¼Œå°±è°ƒç”¨è¿™äº›æ–¹æ³•å»é‡Šæ”¾ Bean æ‰€æŒæœ‰çš„èµ„æºã€‚&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;å¦‚æœ Bean å®ç°äº† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DisposableBean&lt;/code&gt; æ¥å£ï¼Œæ‰§è¡Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;destroy()&lt;/code&gt; æ–¹æ³•ã€‚&lt;/li&gt;
      &lt;li&gt;å¦‚æœ Bean åœ¨é…ç½®æ–‡ä»¶ä¸­çš„å®šä¹‰åŒ…å« &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;destroy-method&lt;/code&gt; å±æ€§ï¼Œæ‰§è¡ŒæŒ‡å®šçš„ Bean é”€æ¯æ–¹æ³•ã€‚æˆ–è€…ï¼Œä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@PreDestroy&lt;/code&gt; æ³¨è§£æ ‡è®° Bean é”€æ¯ä¹‹å‰æ‰§è¡Œçš„æ–¹æ³•ã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Bean çš„ç”Ÿå‘½å‘¨æœŸå¤§è‡´åˆ†ä¸ºäº”ä¸ªé˜¶æ®µï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/mafulong/mdPic@vv6/v6/202505062341884.png&quot; alt=&quot;ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šBeanç”Ÿå‘½å‘¨æœŸäº”ä¸ªé˜¶æ®µ&quot; /&gt;ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šBeanç”Ÿå‘½å‘¨æœŸäº”ä¸ªé˜¶æ®µ&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;å®ä¾‹åŒ–&lt;/strong&gt;ï¼šSpring é¦–å…ˆä½¿ç”¨æ„é€ æ–¹æ³•æˆ–è€…å·¥å‚æ–¹æ³•åˆ›å»ºä¸€ä¸ª Bean çš„å®ä¾‹ã€‚åœ¨è¿™ä¸ªé˜¶æ®µï¼ŒBean åªæ˜¯ä¸€ä¸ªç©ºçš„ Java å¯¹è±¡ï¼Œè¿˜æœªè®¾ç½®ä»»ä½•å±æ€§ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;å±æ€§èµ‹å€¼&lt;/strong&gt;ï¼šSpring å°†é…ç½®æ–‡ä»¶ä¸­çš„å±æ€§å€¼æˆ–ä¾èµ–çš„ Bean æ³¨å…¥åˆ°è¯¥ Bean ä¸­ã€‚è¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºä¾èµ–æ³¨å…¥ï¼Œç¡®ä¿ Bean æ‰€éœ€çš„æ‰€æœ‰ä¾èµ–éƒ½è¢«æ³¨å…¥ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;åˆå§‹åŒ–&lt;/strong&gt;ï¼šSpring è°ƒç”¨ afterPropertiesSet æ–¹æ³•ï¼Œæˆ–é€šè¿‡é…ç½®æ–‡ä»¶æŒ‡å®šçš„ init-method æ–¹æ³•ï¼Œå®Œæˆåˆå§‹åŒ–ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ä½¿ç”¨ä¸­&lt;/strong&gt;ï¼šBean å‡†å¤‡å¥½å¯ä»¥ä½¿ç”¨äº†ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;é”€æ¯&lt;/strong&gt;ï¼šåœ¨å®¹å™¨å…³é—­æ—¶ï¼ŒSpring ä¼šè°ƒç”¨ destroy æ–¹æ³•ï¼Œå®Œæˆ Bean çš„æ¸…ç†å·¥ä½œã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;å¦‚ä½•è®°å¿†å‘¢ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;æ•´ä½“ä¸Šå¯ä»¥ç®€å•åˆ†ä¸ºå››æ­¥ï¼šå®ä¾‹åŒ– â€”&amp;gt; å±æ€§èµ‹å€¼ â€”&amp;gt; åˆå§‹åŒ– â€”&amp;gt; é”€æ¯ã€‚&lt;/li&gt;
  &lt;li&gt;åˆå§‹åŒ–è¿™ä¸€æ­¥æ¶‰åŠåˆ°çš„æ­¥éª¤æ¯”è¾ƒå¤šï¼ŒåŒ…å« &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Aware&lt;/code&gt; æ¥å£çš„ä¾èµ–æ³¨å…¥ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BeanPostProcessor&lt;/code&gt; åœ¨åˆå§‹åŒ–å‰åçš„å¤„ç†ä»¥åŠ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;InitializingBean&lt;/code&gt; å’Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;init-method&lt;/code&gt; çš„åˆå§‹åŒ–æ“ä½œã€‚&lt;/li&gt;
  &lt;li&gt;é”€æ¯è¿™ä¸€æ­¥ä¼šæ³¨å†Œç›¸å…³é”€æ¯å›è°ƒæ¥å£ï¼Œæœ€åé€šè¿‡&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DisposableBean&lt;/code&gt; å’Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;destory-method&lt;/code&gt; è¿›è¡Œé”€æ¯ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;æœ€åï¼Œå†åˆ†äº«ä¸€å¼ æ¸…æ™°çš„å›¾è§£ï¼ˆå›¾æºï¼š&lt;a href=&quot;https://chaycao.github.io/2020/02/15/å¦‚ä½•è®°å¿†Spring-Beançš„ç”Ÿå‘½å‘¨æœŸ.html&quot;&gt;å¦‚ä½•è®°å¿† Spring Bean çš„ç”Ÿå‘½å‘¨æœŸ&lt;/a&gt;ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/mafulong/mdPic@vv6/v6/202505062339187.png&quot; alt=&quot;img&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;spring-ä¸­çš„å•ä¾‹-bean-ä¼šå­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜å—&quot;&gt;Spring ä¸­çš„å•ä¾‹ Bean ä¼šå­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜å—ï¼Ÿ&lt;/h3&gt;

&lt;p&gt;Spring Bean çš„é»˜è®¤ä½œç”¨åŸŸæ˜¯å•ä¾‹ï¼ˆSingletonï¼‰ï¼Œè¿™æ„å‘³ç€ Spring å®¹å™¨ä¸­åªä¼šå­˜åœ¨ä¸€ä¸ª Bean å®ä¾‹ï¼Œå¹¶ä¸”è¯¥å®ä¾‹ä¼šè¢«å¤šä¸ªçº¿ç¨‹å…±äº«ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœå•ä¾‹ Bean æ˜¯æ— çŠ¶æ€çš„ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰æˆå‘˜å˜é‡ï¼Œé‚£ä¹ˆè¿™ä¸ªå•ä¾‹ Bean æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚æ¯”å¦‚ Spring MVC ä¸­çš„ Controllerã€Serviceã€Dao ç­‰ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯æ— çŠ¶æ€çš„ã€‚&lt;/p&gt;

&lt;p&gt;ä½†å¦‚æœ Bean çš„å†…éƒ¨çŠ¶æ€æ˜¯å¯å˜çš„ï¼Œä¸”æ²¡æœ‰è¿›è¡Œé€‚å½“çš„åŒæ­¥å¤„ç†ï¼Œå°±å¯èƒ½å‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚&lt;/p&gt;

&lt;p&gt;å¯¹äºæœ‰çŠ¶æ€å•ä¾‹ Bean çš„çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œå¸¸è§çš„ä¸‰ç§è§£å†³åŠæ³•æ˜¯ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;é¿å…å¯å˜æˆå‘˜å˜é‡&lt;/strong&gt;: å°½é‡è®¾è®¡ Bean ä¸ºæ— çŠ¶æ€ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ä½¿ç”¨&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ThreadLocal&lt;/code&gt;&lt;/strong&gt;: å°†å¯å˜æˆå‘˜å˜é‡ä¿å­˜åœ¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ThreadLocal&lt;/code&gt; ä¸­ï¼Œç¡®ä¿çº¿ç¨‹ç‹¬ç«‹ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ä½¿ç”¨åŒæ­¥æœºåˆ¶&lt;/strong&gt;: åˆ©ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;synchronized&lt;/code&gt; æˆ– &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ReentrantLock&lt;/code&gt; æ¥è¿›è¡ŒåŒæ­¥æ§åˆ¶ï¼Œç¡®ä¿çº¿ç¨‹å®‰å…¨ã€‚&lt;/li&gt;
&lt;/ol&gt;</content><author><name>Fulong Ma</name></author><category term="Spring" /><category term="Spring" /><summary type="html">Sprint IoC</summary></entry><entry><title type="html">Spring å¾ªç¯ä¾èµ–</title><link href="https://mafulong.github.io/2025/05/06/Spring-%E5%BE%AA%E7%8E%AF%E4%BE%9D%E8%B5%96/" rel="alternate" type="text/html" title="Spring å¾ªç¯ä¾èµ–" /><published>2025-05-06T00:00:00+08:00</published><updated>2025-05-06T00:00:00+08:00</updated><id>https://mafulong.github.io/2025/05/06/Spring%20%E5%BE%AA%E7%8E%AF%E4%BE%9D%E8%B5%96</id><content type="html" xml:base="https://mafulong.github.io/2025/05/06/Spring-%E5%BE%AA%E7%8E%AF%E4%BE%9D%E8%B5%96/">&lt;h2 id=&quot;spring-å¾ªç¯ä¾èµ–&quot;&gt;Spring å¾ªç¯ä¾èµ–&lt;/h2&gt;

&lt;h2 id=&quot;å¾ªç¯ä¾èµ–&quot;&gt;å¾ªç¯ä¾èµ–&lt;/h2&gt;

&lt;p&gt;å¤šä¸ªbeanã€‚A ä¾èµ– Bï¼ŒB ä¾èµ– Aï¼Œæˆ–è€… C ä¾èµ– Cï¼Œå°±æˆäº†å¾ªç¯ä¾èµ–ã€‚åŸå› å¾ˆç®€å•ï¼ŒAB å¾ªç¯ä¾èµ–ï¼ŒA å®ä¾‹åŒ–çš„æ—¶å€™ï¼Œå‘ç°ä¾èµ– Bï¼Œåˆ›å»º B å®ä¾‹ï¼Œåˆ›å»º B çš„æ—¶å€™å‘ç°éœ€è¦ Aï¼Œåˆ›å»º A1 å®ä¾‹â€¦â€¦æ— é™å¥—å¨ƒã€‚ã€‚ã€‚ã€‚&lt;/p&gt;

&lt;p&gt;å¾ªç¯ä¾èµ–åªå‘ç”Ÿåœ¨ Singleton ä½œç”¨åŸŸçš„ Bean ä¹‹é—´ï¼Œå› ä¸ºå¦‚æœæ˜¯ Prototype ä½œç”¨åŸŸçš„ Beanï¼ŒSpring ä¼šç›´æ¥æŠ›å‡ºå¼‚å¸¸ã€‚&lt;/p&gt;

&lt;h2 id=&quot;spring-å¯ä»¥è§£å†³å“ªäº›æƒ…å†µçš„å¾ªç¯ä¾èµ–&quot;&gt;Spring å¯ä»¥è§£å†³å“ªäº›æƒ…å†µçš„å¾ªç¯ä¾èµ–ï¼Ÿ&lt;/h2&gt;

&lt;p&gt;çœ‹çœ‹è¿™å‡ ç§æƒ…å½¢ï¼ˆAB å¾ªç¯ä¾èµ–ï¼‰ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/mafulong/mdPic@vv6/v6/202505062344583.png&quot; alt=&quot;ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šå¾ªç¯ä¾èµ–çš„å‡ ç§æƒ…å½¢&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;AB å‡é‡‡ç”¨æ„é€ å™¨æ³¨å…¥ï¼Œä¸æ”¯æŒ&lt;/li&gt;
  &lt;li&gt;AB å‡é‡‡ç”¨ setter æ³¨å…¥ï¼Œæ”¯æŒ&lt;/li&gt;
  &lt;li&gt;AB å‡é‡‡ç”¨å±æ€§è‡ªåŠ¨æ³¨å…¥ï¼Œæ”¯æŒ&lt;/li&gt;
  &lt;li&gt;A ä¸­æ³¨å…¥çš„ B ä¸º setter æ³¨å…¥ï¼ŒB ä¸­æ³¨å…¥çš„ A ä¸ºæ„é€ å™¨æ³¨å…¥ï¼Œæ”¯æŒ&lt;/li&gt;
  &lt;li&gt;B ä¸­æ³¨å…¥çš„ A ä¸º setter æ³¨å…¥ï¼ŒA ä¸­æ³¨å…¥çš„ B ä¸ºæ„é€ å™¨æ³¨å…¥ï¼Œä¸æ”¯æŒ&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ç¬¬å››ç§å¯ä»¥ï¼Œç¬¬äº”ç§ä¸å¯ä»¥çš„åŸå› æ˜¯ Spring åœ¨åˆ›å»º Bean æ—¶é»˜è®¤ä¼šæ ¹æ®è‡ªç„¶æ’åºè¿›è¡Œåˆ›å»ºï¼Œæ‰€ä»¥ A ä¼šå…ˆäº B è¿›è¡Œåˆ›å»ºã€‚&lt;/p&gt;

&lt;p&gt;ç®€å•æ€»ç»“ä¸‹ï¼Œå½“å¾ªç¯ä¾èµ–çš„å®ä¾‹éƒ½é‡‡ç”¨ setter æ–¹æ³•æ³¨å…¥æ—¶ï¼ŒSpring æ”¯æŒï¼Œéƒ½é‡‡ç”¨æ„é€ å™¨æ³¨å…¥çš„æ—¶å€™ï¼Œä¸æ”¯æŒï¼›æ„é€ å™¨æ³¨å…¥å’Œ setter æ³¨å…¥åŒæ—¶å­˜åœ¨çš„æ—¶å€™ï¼Œçœ‹å¤©&lt;/p&gt;

&lt;h2 id=&quot;spring-æ€ä¹ˆè§£å†³å¾ªç¯ä¾èµ–å‘¢&quot;&gt;Spring æ€ä¹ˆè§£å†³å¾ªç¯ä¾èµ–å‘¢ï¼Ÿ&lt;/h2&gt;

&lt;p&gt;Spring é€šè¿‡ä¸‰çº§ç¼“å­˜æœºåˆ¶æ¥è§£å†³å¾ªç¯ä¾èµ–ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;ä¸€çº§ç¼“å­˜ï¼šå­˜æ”¾å®Œå…¨åˆå§‹åŒ–å¥½çš„å•ä¾‹ Beanã€‚&lt;/li&gt;
  &lt;li&gt;äºŒçº§ç¼“å­˜ï¼šå­˜æ”¾æ­£åœ¨åˆ›å»ºä½†æœªå®Œå…¨åˆå§‹åŒ–çš„ Bean å®ä¾‹ã€‚&lt;/li&gt;
  &lt;li&gt;ä¸‰çº§ç¼“å­˜ï¼šå­˜æ”¾ Bean å·¥å‚å¯¹è±¡ï¼Œç”¨äºæå‰æš´éœ² Beanã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/mafulong/mdPic@vv6/v6/202505062345571.png&quot; alt=&quot;ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šä¸‰çº§ç¼“å­˜&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;ä¸‰çº§ç¼“å­˜è§£å†³å¾ªç¯ä¾èµ–çš„è¿‡ç¨‹æ˜¯ä»€ä¹ˆæ ·çš„&quot;&gt;ä¸‰çº§ç¼“å­˜è§£å†³å¾ªç¯ä¾èµ–çš„è¿‡ç¨‹æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;å®ä¾‹åŒ– Bean æ—¶ï¼Œå°†å…¶æ—©æœŸå¼•ç”¨æ”¾å…¥ä¸‰çº§ç¼“å­˜ã€‚&lt;/li&gt;
  &lt;li&gt;å…¶ä»–ä¾èµ–è¯¥ Bean çš„å¯¹è±¡ï¼Œå¯ä»¥ä»ç¼“å­˜ä¸­è·å–å…¶å¼•ç”¨ã€‚&lt;/li&gt;
  &lt;li&gt;åˆå§‹åŒ–å®Œæˆåï¼Œå°† Bean ç§»å…¥ä¸€çº§ç¼“å­˜ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;å…¶å®å°±æ˜¯ä¸‰çº§ç¼“å­˜å­˜äº†ä»£ç†å¯¹è±¡/åŸå§‹å¯¹è±¡çš„å †åœ°å€ï¼Œåˆå§‹åŒ–åŠ¨ä½œåç§»ã€‚ ç»†èŠ‚å‚è€ƒ&lt;a href=&quot;https://javabetter.cn/sidebar/sanfene/spring.html#_16-spring-%E6%80%8E%E4%B9%88%E8%A7%A3%E5%86%B3%E5%BE%AA%E7%8E%AF%E4%BE%9D%E8%B5%96%E5%91%A2&quot;&gt;link&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;ä¸ºä»€ä¹ˆè¦ä¸‰çº§ç¼“å­˜çº§ä¸å—&quot;&gt;ä¸ºä»€ä¹ˆè¦ä¸‰çº§ç¼“å­˜ï¼Ÿâ¼†çº§ä¸â¾å—ï¼Ÿ&lt;/h3&gt;

&lt;p&gt;ä¸è¡Œï¼Œä¸»è¦æ˜¯ä¸ºäº† &lt;strong&gt;â½£æˆä»£ç†å¯¹è±¡&lt;/strong&gt;ã€‚å¦‚æœæ˜¯æ²¡æœ‰ä»£ç†çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨äºŒçº§ç¼“å­˜è§£å†³å¾ªç¯ä¾èµ–ä¹Ÿæ˜¯ OK çš„ã€‚ä½†æ˜¯å¦‚æœå­˜åœ¨ä»£ç†ï¼Œä¸‰çº§æ²¡æœ‰é—®é¢˜ï¼ŒäºŒçº§å°±ä¸è¡Œäº†ã€‚&lt;/p&gt;

&lt;p&gt;å› ä¸ºä¸‰çº§ç¼“å­˜ä¸­æ”¾çš„æ˜¯â½£æˆå…·ä½“å¯¹è±¡çš„åŒ¿åå†…éƒ¨ç±»ï¼Œè·å– Object çš„æ—¶å€™ï¼Œå®ƒå¯ä»¥â½£æˆä»£ç†å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥è¿”å›æ™®é€šå¯¹è±¡ã€‚ä½¿â½¤ä¸‰çº§ç¼“å­˜ä¸»è¦æ˜¯ä¸ºäº†ä¿è¯ä¸ç®¡ä»€ä¹ˆæ—¶å€™ä½¿â½¤çš„éƒ½æ˜¯â¼€ä¸ªå¯¹è±¡ã€‚&lt;/p&gt;

&lt;p&gt;å½“æ¶‰åŠåˆ° AOP æ—¶ï¼Œä¸‰çº§ç¼“å­˜å°±æ˜¾å¾—éå¸¸é‡è¦äº†ï¼Œå› ä¸ºå®ƒç¡®ä¿äº†å³ä½¿åœ¨ Bean çš„åˆ›å»ºè¿‡ç¨‹ä¸­æœ‰å¤šæ¬¡å¯¹æ—©æœŸå¼•ç”¨çš„è¯·æ±‚ï¼Œä¹Ÿå§‹ç»ˆåªè¿”å›åŒä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œä»è€Œé¿å…äº†åŒä¸€ä¸ª Bean æœ‰å¤šä¸ªä»£ç†å¯¹è±¡çš„é—®é¢˜ã€‚&lt;/p&gt;

&lt;p&gt;å‡è®¾åªæœ‰â¼†çº§ç¼“å­˜çš„æƒ…å†µï¼Œå¾€â¼†çº§ç¼“å­˜ä¸­æ”¾çš„æ˜¾ç¤ºâ¼€ä¸ªæ™®é€šçš„ Bean å¯¹è±¡ï¼ŒBean åˆå§‹åŒ–è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡ BeanPostProcessor å»â½£æˆä»£ç†å¯¹è±¡ä¹‹åï¼Œè¦†ç›–æ‰â¼†çº§ç¼“å­˜ä¸­çš„æ™®é€š Bean å¯¹è±¡ï¼Œé‚£ä¹ˆå¯èƒ½å°±å¯¼è‡´å–åˆ°çš„ Bean å¯¹è±¡ä¸ä¸€è‡´äº†ã€‚&lt;/p&gt;

&lt;h4 id=&quot;å¦‚æœç¼ºå°‘ç¬¬äºŒçº§ç¼“å­˜ä¼šæœ‰ä»€ä¹ˆé—®é¢˜&quot;&gt;å¦‚æœç¼ºå°‘ç¬¬äºŒçº§ç¼“å­˜ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ&lt;/h4&gt;

&lt;p&gt;å¦‚æœæ²¡æœ‰äºŒçº§ç¼“å­˜ï¼ŒSpring æ— æ³•åœ¨æœªå®Œæˆåˆå§‹åŒ–çš„æƒ…å†µä¸‹æš´éœ² Beanã€‚ä¼šå¯¼è‡´ä»£ç† Bean çš„å¾ªç¯ä¾èµ–é—®é¢˜ï¼Œå› ä¸ºæŸäº›ä»£ç†é€»è¾‘æ— æ³•åœ¨ä¸‰çº§ç¼“å­˜ä¸­æå‰æš´éœ²ã€‚æœ€ç»ˆå¯èƒ½æŠ›å‡º BeanCurrentlyInCreationExceptionã€‚&lt;/p&gt;

&lt;h2 id=&quot;lazy-èƒ½è§£å†³å¾ªç¯ä¾èµ–å—&quot;&gt;@Lazy èƒ½è§£å†³å¾ªç¯ä¾èµ–å—ï¼Ÿ&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Lazy&lt;/code&gt; ç”¨æ¥æ ‡è¯†ç±»æ˜¯å¦éœ€è¦æ‡’åŠ è½½/å»¶è¿ŸåŠ è½½ï¼Œå¯ä»¥ä½œç”¨åœ¨ç±»ä¸Šã€æ–¹æ³•ä¸Šã€æ„é€ å™¨ä¸Šã€æ–¹æ³•å‚æ•°ä¸Šã€æˆå‘˜å˜é‡ä¸­ã€‚&lt;/p&gt;

&lt;p&gt;Spring Boot 2.2 æ–°å¢äº†&lt;strong&gt;å…¨å±€æ‡’åŠ è½½å±æ€§&lt;/strong&gt;ï¼Œå¼€å¯åå…¨å±€ bean è¢«è®¾ç½®ä¸ºæ‡’åŠ è½½ï¼Œéœ€è¦æ—¶å†å»åˆ›å»ºã€‚&lt;/p&gt;

&lt;p&gt;å¦‚éå¿…è¦ï¼Œå°½é‡ä¸è¦ç”¨å…¨å±€æ‡’åŠ è½½ã€‚å…¨å±€æ‡’åŠ è½½ä¼šè®© Bean ç¬¬ä¸€æ¬¡ä½¿ç”¨çš„æ—¶å€™åŠ è½½ä¼šå˜æ…¢ï¼Œå¹¶ä¸”å®ƒä¼šå»¶è¿Ÿåº”ç”¨ç¨‹åºé—®é¢˜çš„å‘ç°ï¼ˆå½“ Bean è¢«åˆå§‹åŒ–æ—¶ï¼Œé—®é¢˜æ‰ä¼šå‡ºç°ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœä¸€ä¸ª Bean æ²¡æœ‰è¢«æ ‡è®°ä¸ºæ‡’åŠ è½½ï¼Œé‚£ä¹ˆå®ƒä¼šåœ¨ Spring IoC å®¹å™¨å¯åŠ¨çš„è¿‡ç¨‹ä¸­è¢«åˆ›å»ºå’Œåˆå§‹åŒ–ã€‚å¦‚æœä¸€ä¸ª Bean è¢«æ ‡è®°ä¸ºæ‡’åŠ è½½ï¼Œé‚£ä¹ˆå®ƒä¸ä¼šåœ¨ Spring IoC å®¹å™¨å¯åŠ¨æ—¶ç«‹å³å®ä¾‹åŒ–ï¼Œè€Œæ˜¯åœ¨ç¬¬ä¸€æ¬¡è¢«è¯·æ±‚æ—¶æ‰åˆ›å»ºã€‚è¿™å¯ä»¥å¸®åŠ©å‡å°‘åº”ç”¨å¯åŠ¨æ—¶çš„åˆå§‹åŒ–æ—¶é—´ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥è§£å†³å¾ªç¯ä¾èµ–é—®é¢˜ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Lazy&lt;/code&gt; è§£å†³å¾ªç¯ä¾èµ–çš„å…³é”®ç‚¹åœ¨äºä»£ç†å¯¹è±¡çš„ä½¿ç”¨ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;æ²¡æœ‰ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Lazy&lt;/code&gt; çš„æƒ…å†µä¸‹&lt;/strong&gt;ï¼šåœ¨ Spring å®¹å™¨åˆå§‹åŒ– &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;A&lt;/code&gt; æ—¶ä¼šç«‹å³å°è¯•åˆ›å»º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;B&lt;/code&gt;ï¼Œè€Œåœ¨åˆ›å»º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;B&lt;/code&gt; çš„è¿‡ç¨‹ä¸­åˆä¼šå°è¯•åˆ›å»º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;A&lt;/code&gt;ï¼Œæœ€ç»ˆå¯¼è‡´å¾ªç¯ä¾èµ–ï¼ˆå³æ— é™é€’å½’ï¼Œæœ€ç»ˆæŠ›å‡ºå¼‚å¸¸ï¼‰ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ä½¿ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Lazy&lt;/code&gt; çš„æƒ…å†µä¸‹&lt;/strong&gt;ï¼šSpring ä¸ä¼šç«‹å³åˆ›å»º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;B&lt;/code&gt;ï¼Œè€Œæ˜¯ä¼šæ³¨å…¥ä¸€ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;B&lt;/code&gt; çš„ä»£ç†å¯¹è±¡ã€‚ç”±äºæ­¤æ—¶ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;B&lt;/code&gt; ä»æœªè¢«çœŸæ­£åˆå§‹åŒ–ï¼Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;A&lt;/code&gt; çš„åˆå§‹åŒ–å¯ä»¥é¡ºåˆ©å®Œæˆã€‚ç­‰åˆ° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;A&lt;/code&gt; å®ä¾‹å®é™…è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;B&lt;/code&gt; çš„æ–¹æ³•æ—¶ï¼Œä»£ç†å¯¹è±¡æ‰ä¼šè§¦å‘ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;B&lt;/code&gt; çš„çœŸæ­£åˆå§‹åŒ–ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Lazy&lt;/code&gt; èƒ½å¤Ÿåœ¨ä¸€å®šç¨‹åº¦ä¸Šæ‰“ç ´å¾ªç¯ä¾èµ–é“¾ï¼Œå…è®¸ Spring å®¹å™¨é¡ºåˆ©åœ°å®Œæˆ Bean çš„åˆ›å»ºå’Œæ³¨å…¥ã€‚ä½†è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªæ ¹æœ¬æ€§çš„è§£å†³æ–¹æ¡ˆï¼Œå°¤å…¶æ˜¯åœ¨æ„é€ å‡½æ•°æ³¨å…¥ã€å¤æ‚çš„å¤šçº§ä¾èµ–ç­‰åœºæ™¯ä¸­ï¼Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Lazy&lt;/code&gt; æ— æ³•æœ‰æ•ˆåœ°è§£å†³é—®é¢˜ã€‚å› æ­¤ï¼Œæœ€ä½³å®è·µä»ç„¶æ˜¯å°½é‡é¿å…è®¾è®¡ä¸Šçš„å¾ªç¯ä¾èµ–ã€‚&lt;/p&gt;</content><author><name>Fulong Ma</name></author><category term="Spring" /><category term="Spring" /><summary type="html">Spring å¾ªç¯ä¾èµ–</summary></entry><entry><title type="html">SpringåŸºç¡€</title><link href="https://mafulong.github.io/2025/05/06/Spring%E5%9F%BA%E7%A1%80/" rel="alternate" type="text/html" title="SpringåŸºç¡€" /><published>2025-05-06T00:00:00+08:00</published><updated>2025-05-06T00:00:00+08:00</updated><id>https://mafulong.github.io/2025/05/06/Spring%E5%9F%BA%E7%A1%80</id><content type="html" xml:base="https://mafulong.github.io/2025/05/06/Spring%E5%9F%BA%E7%A1%80/">&lt;h2 id=&quot;springåŸºç¡€&quot;&gt;SpringåŸºç¡€&lt;/h2&gt;

&lt;p&gt;ä¸€å¥è¯æ¦‚æ‹¬ï¼š&lt;strong&gt;Spring æ˜¯ä¸€ä¸ªè½»é‡çº§ã€éå…¥ä¾µå¼çš„æ§åˆ¶åè½¬ (IoC) å’Œé¢å‘åˆ‡é¢ (AOP) çš„æ¡†æ¶ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬ä¸€èˆ¬è¯´ Spring æ¡†æ¶æŒ‡çš„éƒ½æ˜¯ Spring Frameworkï¼Œå®ƒæ˜¯å¾ˆå¤šæ¨¡å—çš„é›†åˆï¼Œä½¿ç”¨è¿™äº›æ¨¡å—å¯ä»¥å¾ˆæ–¹ä¾¿åœ°ååŠ©æˆ‘ä»¬è¿›è¡Œå¼€å‘ï¼Œæ¯”å¦‚è¯´ Spring æ”¯æŒ IoCï¼ˆInversion of Control:æ§åˆ¶åè½¬ï¼‰ å’Œ AOP(Aspect-Oriented Programming:é¢å‘åˆ‡é¢ç¼–ç¨‹)ã€å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å¯¹æ•°æ®åº“è¿›è¡Œè®¿é—®ã€å¯ä»¥å¾ˆæ–¹ä¾¿åœ°é›†æˆç¬¬ä¸‰æ–¹ç»„ä»¶ï¼ˆç”µå­é‚®ä»¶ï¼Œä»»åŠ¡ï¼Œè°ƒåº¦ï¼Œç¼“å­˜ç­‰ç­‰ï¼‰ã€å¯¹å•å…ƒæµ‹è¯•æ”¯æŒæ¯”è¾ƒå¥½ã€æ”¯æŒ RESTful Java åº”ç”¨ç¨‹åºçš„å¼€å‘ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/mafulong/mdPic@vv6/v6/202505062328358.png&quot; alt=&quot;ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šSpringç‰¹æ€§&quot; style=&quot;zoom:67%;&quot; /&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;IoC&lt;/strong&gt; å’Œ &lt;strong&gt;DI&lt;/strong&gt; çš„æ”¯æŒ&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Spring çš„æ ¸å¿ƒå°±æ˜¯ä¸€ä¸ªå¤§çš„å·¥å‚å®¹å™¨ï¼Œå¯ä»¥ç»´æŠ¤æ‰€æœ‰å¯¹è±¡çš„åˆ›å»ºå’Œä¾èµ–å…³ç³»ï¼ŒSpring å·¥å‚ç”¨äºç”Ÿæˆ Beanï¼Œå¹¶ä¸”ç®¡ç† Bean çš„ç”Ÿå‘½å‘¨æœŸï¼Œå®ç°&lt;strong&gt;é«˜å†…èšä½è€¦åˆ&lt;/strong&gt;çš„è®¾è®¡ç†å¿µã€‚&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;AOP ç¼–ç¨‹çš„æ”¯æŒ&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Spring æä¾›äº†&lt;strong&gt;é¢å‘åˆ‡é¢ç¼–ç¨‹&lt;/strong&gt;ï¼Œå¯ä»¥æ–¹ä¾¿çš„å®ç°å¯¹ç¨‹åºè¿›è¡Œæƒé™æ‹¦æˆªã€è¿è¡Œç›‘æ§ç­‰åˆ‡é¢åŠŸèƒ½ã€‚&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;å£°æ˜å¼äº‹åŠ¡çš„æ”¯æŒ&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;æ”¯æŒé€šè¿‡é…ç½®å°±æ¥å®Œæˆå¯¹äº‹åŠ¡çš„ç®¡ç†ï¼Œè€Œä¸éœ€è¦é€šè¿‡ç¡¬ç¼–ç çš„æ–¹å¼ï¼Œä»¥å‰é‡å¤çš„ä¸€äº›äº‹åŠ¡æäº¤ã€å›æ»šçš„ JDBC ä»£ç ï¼Œéƒ½å¯ä»¥ä¸ç”¨è‡ªå·±å†™äº†ã€‚&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;å¿«æ·æµ‹è¯•çš„æ”¯æŒ&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Spring å¯¹ Junit æä¾›æ”¯æŒï¼Œå¯ä»¥é€šè¿‡&lt;strong&gt;æ³¨è§£&lt;/strong&gt;å¿«æ·åœ°æµ‹è¯• Spring ç¨‹åºã€‚&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;å¿«é€Ÿé›†æˆåŠŸèƒ½&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;æ–¹ä¾¿é›†æˆå„ç§ä¼˜ç§€æ¡†æ¶ï¼ŒSpring ä¸æ’æ–¥å„ç§ä¼˜ç§€çš„å¼€æºæ¡†æ¶ï¼Œå…¶å†…éƒ¨æä¾›äº†å¯¹å„ç§ä¼˜ç§€æ¡†æ¶ï¼ˆå¦‚ï¼šStrutsã€Hibernateã€MyBatisã€Quartz ç­‰ï¼‰çš„ç›´æ¥æ”¯æŒã€‚&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;å¤æ‚ API æ¨¡æ¿å°è£…&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Spring å¯¹ JavaEE å¼€å‘ä¸­éå¸¸éš¾ç”¨çš„ä¸€äº› APIï¼ˆJDBCã€JavaMailã€è¿œç¨‹è°ƒç”¨ç­‰ï¼‰éƒ½æä¾›äº†æ¨¡æ¿åŒ–çš„å°è£…ï¼Œè¿™äº›å°è£… API çš„æä¾›ä½¿å¾—åº”ç”¨éš¾åº¦å¤§å¤§é™ä½ã€‚&lt;/p&gt;

&lt;h2 id=&quot;1-ç®€å•è¯´ä¸€ä¸‹ä»€ä¹ˆæ˜¯aop-å’Œ-ioc&quot;&gt;1. &lt;a href=&quot;https://javabetter.cn/sidebar/sanfene/spring.html#ç®€å•è¯´ä¸€ä¸‹ä»€ä¹ˆæ˜¯aop-å’Œ-ioc&quot;&gt;ç®€å•è¯´ä¸€ä¸‹ä»€ä¹ˆæ˜¯AOP å’Œ IoCï¼Ÿ&lt;/a&gt;&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;AOP&lt;/strong&gt;ï¼šé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œæ˜¯ä¸€ç§ç¼–ç¨‹èŒƒå¼ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯å°†é‚£äº›ä¸æ ¸å¿ƒä¸šåŠ¡é€»è¾‘æ— å…³ï¼Œä½†æ˜¯å¯¹å¤šä¸ªå¯¹è±¡äº§ç”Ÿå½±å“çš„å…¬å…±è¡Œä¸ºå°è£…èµ·æ¥ï¼Œå¦‚æ—¥å¿—è®°å½•ã€æ€§èƒ½ç»Ÿè®¡ã€äº‹åŠ¡ç­‰ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;IoC&lt;/strong&gt;ï¼šæ§åˆ¶åè½¬ï¼Œæ˜¯ä¸€ç§è®¾è®¡æ€æƒ³ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯å°†å¯¹è±¡çš„åˆ›å»ºå’Œå¯¹è±¡ä¹‹é—´çš„è°ƒç”¨è¿‡ç¨‹äº¤ç»™ Spring å®¹å™¨æ¥ç®¡ç†ã€‚&lt;/p&gt;

&lt;h2 id=&quot;2spring-æœ‰å“ªäº›æ¨¡å—å‘¢&quot;&gt;2.Spring æœ‰å“ªäº›æ¨¡å—å‘¢ï¼Ÿ&lt;/h2&gt;

&lt;p&gt;Spring æ¡†æ¶æ˜¯åˆ†æ¨¡å—å­˜åœ¨ï¼Œé™¤äº†æœ€æ ¸å¿ƒçš„&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Spring Core Container&lt;/code&gt;æ˜¯å¿…è¦æ¨¡å—ä¹‹å¤–ï¼Œå…¶ä»–æ¨¡å—éƒ½æ˜¯&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;å¯é€‰&lt;/code&gt;ï¼Œå¤§çº¦æœ‰ 20 å¤šä¸ªæ¨¡å—ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/mafulong/mdPic@vv6/v6/202505062329603.png&quot; alt=&quot;Springæ¨¡å—åˆ’åˆ†&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æœ€ä¸»è¦çš„ä¸ƒå¤§æ¨¡å—ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;Spring Core&lt;/strong&gt;ï¼šSpring æ ¸å¿ƒï¼Œå®ƒæ˜¯æ¡†æ¶æœ€åŸºç¡€çš„éƒ¨åˆ†ï¼Œæä¾› IoC å’Œä¾èµ–æ³¨å…¥ DI ç‰¹æ€§ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Spring Context&lt;/strong&gt;ï¼šSpring ä¸Šä¸‹æ–‡å®¹å™¨ï¼Œå®ƒæ˜¯ BeanFactory åŠŸèƒ½åŠ å¼ºçš„ä¸€ä¸ªå­æ¥å£ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Spring Web&lt;/strong&gt;ï¼šå®ƒæä¾› Web åº”ç”¨å¼€å‘çš„æ”¯æŒã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Spring MVC&lt;/strong&gt;ï¼šå®ƒé’ˆå¯¹ Web åº”ç”¨ä¸­ MVC æ€æƒ³çš„å®ç°ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Spring DAO&lt;/strong&gt;ï¼šæä¾›å¯¹ JDBC æŠ½è±¡å±‚ï¼Œç®€åŒ–äº† JDBC ç¼–ç ï¼ŒåŒæ—¶ï¼Œç¼–ç æ›´å…·æœ‰å¥å£®æ€§ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Spring ORM&lt;/strong&gt;ï¼šå®ƒæ”¯æŒç”¨äºæµè¡Œçš„ ORM æ¡†æ¶çš„æ•´åˆï¼Œæ¯”å¦‚ï¼šSpring + Hibernateã€Spring + iBatisã€Spring + JDO çš„æ•´åˆç­‰ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Spring AOP&lt;/strong&gt;ï¼šå³é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œå®ƒæä¾›äº†ä¸ AOP è”ç›Ÿå…¼å®¹çš„ç¼–ç¨‹å®ç°ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;3spring-æœ‰å“ªäº›å¸¸ç”¨æ³¨è§£å‘¢&quot;&gt;3.Spring æœ‰å“ªäº›å¸¸ç”¨æ³¨è§£å‘¢ï¼Ÿ&lt;/h2&gt;

&lt;p&gt;Spring æä¾›äº†å¤§é‡çš„æ³¨è§£æ¥ç®€åŒ– Java åº”ç”¨çš„å¼€å‘å’Œé…ç½®ï¼Œä¸»è¦ç”¨äº Web å¼€å‘ã€å¾€å®¹å™¨æ³¨å…¥ Beanã€AOPã€äº‹åŠ¡æ§åˆ¶ç­‰ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/mafulong/mdPic@vv6/v6/202505062329372.png&quot; alt=&quot;ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šSpringå¸¸ç”¨æ³¨è§£&quot; style=&quot;zoom:67%;&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;web-å¼€å‘æ–¹é¢æœ‰å“ªäº›æ³¨è§£å‘¢&quot;&gt;Web å¼€å‘æ–¹é¢æœ‰å“ªäº›æ³¨è§£å‘¢ï¼Ÿ&lt;/h4&gt;

&lt;p&gt;â‘ ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Controller&lt;/code&gt;ï¼šç”¨äºæ ‡æ³¨æ§åˆ¶å±‚ç»„ä»¶ã€‚&lt;/p&gt;

&lt;p&gt;â‘¡ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@RestController&lt;/code&gt;ï¼šæ˜¯&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Controller&lt;/code&gt; å’Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@ResponseBody&lt;/code&gt; çš„ç»“åˆä½“ï¼Œè¿”å› JSON æ•°æ®æ—¶ä½¿ç”¨ã€‚&lt;/p&gt;

&lt;p&gt;â‘¢ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@RequestMapping&lt;/code&gt;ï¼šç”¨äºæ˜ å°„è¯·æ±‚ URL åˆ°å…·ä½“çš„æ–¹æ³•ä¸Šï¼Œè¿˜å¯ä»¥ç»†åˆ†ä¸ºï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@GetMapping&lt;/code&gt;ï¼šåªèƒ½ç”¨äºå¤„ç† GET è¯·æ±‚&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@PostMapping&lt;/code&gt;ï¼šåªèƒ½ç”¨äºå¤„ç† POST è¯·æ±‚&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@DeleteMapping&lt;/code&gt;ï¼šåªèƒ½ç”¨äºå¤„ç† DELETE è¯·æ±‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;â‘£ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@ResponseBody&lt;/code&gt;ï¼šç›´æ¥å°†è¿”å›çš„æ•°æ®æ”¾å…¥ HTTP å“åº”æ­£æ–‡ä¸­ï¼Œä¸€èˆ¬ç”¨äºè¿”å› JSON æ•°æ®ã€‚  &lt;strong&gt;æŠŠå¯¹è±¡è½¬json&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;â‘¤ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@RequestBody&lt;/code&gt;ï¼šè¡¨ç¤ºä¸€ä¸ªæ–¹æ³•å‚æ•°åº”è¯¥ç»‘å®šåˆ° Web è¯·æ±‚ä½“ã€‚&lt;strong&gt;jsonè½¬å¯¹è±¡ï¼Œå‚æ•°ä¸Šã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;â‘¥ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@PathVariable&lt;/code&gt;ï¼šç”¨äºæ¥æ”¶è·¯å¾„å‚æ•°ï¼Œæ¯”å¦‚ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@RequestMapping(â€œ/hello/{name}â€)&lt;/code&gt;ï¼Œè¿™é‡Œçš„ name å°±æ˜¯è·¯å¾„å‚æ•°ã€‚&lt;/p&gt;

&lt;p&gt;â‘¦ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@RequestParam&lt;/code&gt;ï¼šç”¨äºæ¥æ”¶è¯·æ±‚å‚æ•°ã€‚æ¯”å¦‚ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@RequestParam(name = &quot;key&quot;) String key&lt;/code&gt;ï¼Œè¿™é‡Œçš„ key å°±æ˜¯è¯·æ±‚å‚æ•°ã€‚&lt;/p&gt;

&lt;h4 id=&quot;å®¹å™¨ç±»æ³¨è§£æœ‰å“ªäº›å‘¢&quot;&gt;å®¹å™¨ç±»æ³¨è§£æœ‰å“ªäº›å‘¢ï¼Ÿ&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Component&lt;/code&gt;ï¼šæ ‡è¯†ä¸€ä¸ªç±»ä¸º Spring ç»„ä»¶ï¼Œä½¿å…¶èƒ½å¤Ÿè¢« Spring å®¹å™¨è‡ªåŠ¨æ‰«æå’Œç®¡ç†ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Service&lt;/code&gt;ï¼šæ ‡è¯†ä¸€ä¸ªä¸šåŠ¡é€»è¾‘ç»„ä»¶ï¼ˆæœåŠ¡å±‚ï¼‰ã€‚æ¯”å¦‚ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Service(&quot;userService&quot;)&lt;/code&gt;ï¼Œè¿™é‡Œçš„ userService å°±æ˜¯ Bean çš„åç§°ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Repository&lt;/code&gt;ï¼šæ ‡è¯†ä¸€ä¸ªæ•°æ®è®¿é—®ç»„ä»¶ï¼ˆæŒä¹…å±‚ï¼‰ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Autowired&lt;/code&gt;ï¼šæŒ‰ç±»å‹è‡ªåŠ¨æ³¨å…¥ä¾èµ–ã€‚ é…åˆ@Qualifierå¯ä»¥æŒ‰name.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Configuration&lt;/code&gt;ï¼šç”¨äºå®šä¹‰é…ç½®ç±»ï¼Œå¯æ›¿æ¢ XML é…ç½®æ–‡ä»¶ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Value&lt;/code&gt;ï¼šç”¨äºå°† Spring Boot ä¸­ application.properties é…ç½®çš„å±æ€§å€¼èµ‹å€¼ç»™å˜é‡ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;aop-æ–¹é¢æœ‰å“ªäº›æ³¨è§£å‘¢&quot;&gt;AOP æ–¹é¢æœ‰å“ªäº›æ³¨è§£å‘¢ï¼Ÿ&lt;/h4&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Aspect&lt;/code&gt; ç”¨äºå£°æ˜ä¸€ä¸ªåˆ‡é¢ï¼Œå¯ä»¥é…åˆå…¶ä»–æ³¨è§£ä¸€èµ·ä½¿ç”¨ï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@After&lt;/code&gt;ï¼šåœ¨æ–¹æ³•æ‰§è¡Œä¹‹åæ‰§è¡Œã€‚&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Before&lt;/code&gt;ï¼šåœ¨æ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡Œã€‚&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Around&lt;/code&gt;ï¼šæ–¹æ³•å‰åå‡æ‰§è¡Œã€‚&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@PointCut&lt;/code&gt;ï¼šå®šä¹‰åˆ‡ç‚¹ï¼ŒæŒ‡å®šéœ€è¦æ‹¦æˆªçš„æ–¹æ³•ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å½“ä¸€ä¸ªæ–¹æ³•ä¸Šè¢«å¤šä¸ª AOP æ³¨è§£æ‹¦æˆªæ—¶ï¼Œ&lt;strong&gt;é»˜è®¤æ‰§è¡Œé¡ºåºå¦‚ä¸‹ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;@Aroundï¼ˆå‰ï¼‰
   â””â”€ @Before
       â””â”€ â€”â€”ã€ç›®æ ‡æ–¹æ³•æ‰§è¡Œã€‘â€”â€”
           â””â”€ @After
@Aroundï¼ˆåï¼‰
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;äº‹åŠ¡æ³¨è§£æœ‰å“ªäº›&quot;&gt;äº‹åŠ¡æ³¨è§£æœ‰å“ªäº›ï¼Ÿ&lt;/h4&gt;

&lt;p&gt;ä¸»è¦å°±æ˜¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Transactional&lt;/code&gt;ï¼Œç”¨äºå£°æ˜ä¸€ä¸ªæ–¹æ³•éœ€è¦äº‹åŠ¡æ”¯æŒã€‚&lt;/p&gt;

&lt;h2 id=&quot;springspring-mvcspring-boot-ä¹‹é—´ä»€ä¹ˆå…³ç³»&quot;&gt;Spring,Spring MVC,Spring Boot ä¹‹é—´ä»€ä¹ˆå…³ç³»?&lt;/h2&gt;

&lt;p&gt;å¾ˆå¤šäººå¯¹ Spring,Spring MVC,Spring Boot è¿™ä¸‰è€…å‚»å‚»åˆ†ä¸æ¸…æ¥šï¼è¿™é‡Œç®€å•ä»‹ç»ä¸€ä¸‹è¿™ä¸‰è€…ï¼Œå…¶å®å¾ˆç®€å•ï¼Œæ²¡æœ‰ä»€ä¹ˆé«˜æ·±çš„ä¸œè¥¿ã€‚&lt;/p&gt;

&lt;p&gt;Spring åŒ…å«äº†å¤šä¸ªåŠŸèƒ½æ¨¡å—ï¼ˆä¸Šé¢åˆšåˆšæåˆ°è¿‡ï¼‰ï¼Œå…¶ä¸­æœ€é‡è¦çš„æ˜¯ Spring-Coreï¼ˆä¸»è¦æä¾› IoC ä¾èµ–æ³¨å…¥åŠŸèƒ½çš„æ”¯æŒï¼‰ æ¨¡å—ï¼Œ Spring ä¸­çš„å…¶ä»–æ¨¡å—ï¼ˆæ¯”å¦‚ Spring MVCï¼‰çš„åŠŸèƒ½å®ç°åŸºæœ¬éƒ½éœ€è¦ä¾èµ–äºè¯¥æ¨¡å—ã€‚&lt;/p&gt;

&lt;p&gt;Spring MVC æ˜¯ Spring ä¸­çš„ä¸€ä¸ªå¾ˆé‡è¦çš„æ¨¡å—ï¼Œä¸»è¦èµ‹äºˆ Spring å¿«é€Ÿæ„å»º MVC æ¶æ„çš„ Web ç¨‹åºçš„èƒ½åŠ›ã€‚MVC æ˜¯æ¨¡å‹(Model)ã€è§†å›¾(View)ã€æ§åˆ¶å™¨(Controller)çš„ç®€å†™ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡å°†ä¸šåŠ¡é€»è¾‘ã€æ•°æ®ã€æ˜¾ç¤ºåˆ†ç¦»æ¥ç»„ç»‡ä»£ç ã€‚&lt;/p&gt;

&lt;p&gt;ä½¿ç”¨ Spring è¿›è¡Œå¼€å‘å„ç§é…ç½®è¿‡äºéº»çƒ¦æ¯”å¦‚å¼€å¯æŸäº› Spring ç‰¹æ€§æ—¶ï¼Œéœ€è¦ç”¨ XML æˆ– Java è¿›è¡Œæ˜¾å¼é…ç½®ã€‚äºæ˜¯ï¼ŒSpring Boot è¯ç”Ÿäº†ï¼&lt;/p&gt;

&lt;p&gt;Spring æ—¨åœ¨ç®€åŒ– J2EE ä¼ä¸šåº”ç”¨ç¨‹åºå¼€å‘ã€‚Spring Boot æ—¨åœ¨ç®€åŒ– Spring å¼€å‘ï¼ˆå‡å°‘é…ç½®æ–‡ä»¶ï¼Œå¼€ç®±å³ç”¨ï¼ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;Spring Boot åªæ˜¯ç®€åŒ–äº†é…ç½®ï¼Œå¦‚æœä½ éœ€è¦æ„å»º MVC æ¶æ„çš„ Web ç¨‹åºï¼Œä½ è¿˜æ˜¯éœ€è¦ä½¿ç”¨ Spring MVC ä½œä¸º MVC æ¡†æ¶ï¼Œåªæ˜¯è¯´ Spring Boot å¸®ä½ ç®€åŒ–äº† Spring MVC çš„å¾ˆå¤šé…ç½®ï¼ŒçœŸæ­£åšåˆ°å¼€ç®±å³ç”¨ï¼&lt;/p&gt;

&lt;h2 id=&quot;spring-æ¡†æ¶ä¸­ç”¨åˆ°äº†å“ªäº›è®¾è®¡æ¨¡å¼&quot;&gt;Spring æ¡†æ¶ä¸­ç”¨åˆ°äº†å“ªäº›è®¾è®¡æ¨¡å¼ï¼Ÿ&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;å…³äºä¸‹é¢è¿™äº›è®¾è®¡æ¨¡å¼çš„è¯¦ç»†ä»‹ç»ï¼Œå¯ä»¥çœ‹æˆ‘å†™çš„ &lt;a href=&quot;https://javaguide.cn/system-design/framework/spring/spring-design-patterns-summary.html&quot;&gt;Spring ä¸­çš„è®¾è®¡æ¨¡å¼è¯¦è§£&lt;/a&gt; è¿™ç¯‡æ–‡ç« ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;å·¥å‚è®¾è®¡æ¨¡å¼&lt;/strong&gt; : Spring ä½¿ç”¨å·¥å‚æ¨¡å¼é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BeanFactory&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ApplicationContext&lt;/code&gt; åˆ›å»º bean å¯¹è±¡ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ä»£ç†è®¾è®¡æ¨¡å¼&lt;/strong&gt; : Spring AOP åŠŸèƒ½çš„å®ç°ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;å•ä¾‹è®¾è®¡æ¨¡å¼&lt;/strong&gt; : Spring ä¸­çš„ Bean é»˜è®¤éƒ½æ˜¯å•ä¾‹çš„ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;æ¨¡æ¿æ–¹æ³•æ¨¡å¼&lt;/strong&gt; : Spring ä¸­ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;jdbcTemplate&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;hibernateTemplate&lt;/code&gt; ç­‰ä»¥ Template ç»“å°¾çš„å¯¹æ•°æ®åº“æ“ä½œçš„ç±»ï¼Œå®ƒä»¬å°±ä½¿ç”¨åˆ°äº†æ¨¡æ¿æ¨¡å¼ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;åŒ…è£…å™¨è®¾è®¡æ¨¡å¼&lt;/strong&gt; : æˆ‘ä»¬çš„é¡¹ç›®éœ€è¦è¿æ¥å¤šä¸ªæ•°æ®åº“ï¼Œè€Œä¸”ä¸åŒçš„å®¢æˆ·åœ¨æ¯æ¬¡è®¿é—®ä¸­æ ¹æ®éœ€è¦ä¼šå»è®¿é—®ä¸åŒçš„æ•°æ®åº“ã€‚è¿™ç§æ¨¡å¼è®©æˆ‘ä»¬å¯ä»¥æ ¹æ®å®¢æˆ·çš„éœ€æ±‚èƒ½å¤ŸåŠ¨æ€åˆ‡æ¢ä¸åŒçš„æ•°æ®æºã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;è§‚å¯Ÿè€…æ¨¡å¼:&lt;/strong&gt; Spring äº‹ä»¶é©±åŠ¨æ¨¡å‹å°±æ˜¯è§‚å¯Ÿè€…æ¨¡å¼å¾ˆç»å…¸çš„ä¸€ä¸ªåº”ç”¨ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;é€‚é…å™¨æ¨¡å¼&lt;/strong&gt; : Spring AOP çš„å¢å¼ºæˆ–é€šçŸ¥(Advice)ä½¿ç”¨åˆ°äº†é€‚é…å™¨æ¨¡å¼ã€spring MVC ä¸­ä¹Ÿæ˜¯ç”¨åˆ°äº†é€‚é…å™¨æ¨¡å¼é€‚é…&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Controller&lt;/code&gt;ã€‚&lt;/li&gt;
  &lt;li&gt;â€¦â€¦&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Fulong Ma</name></author><category term="Spring" /><category term="Spring" /><summary type="html">SpringåŸºç¡€</summary></entry><entry><title type="html">Javaå¹¶å‘åŒ…å’Œçº¿ç¨‹æ± </title><link href="https://mafulong.github.io/2025/05/04/Java%E5%B9%B6%E5%8F%91%E5%8C%85%E5%92%8C%E7%BA%BF%E7%A8%8B%E6%B1%A0/" rel="alternate" type="text/html" title="Javaå¹¶å‘åŒ…å’Œçº¿ç¨‹æ± " /><published>2025-05-04T00:00:00+08:00</published><updated>2025-05-04T00:00:00+08:00</updated><id>https://mafulong.github.io/2025/05/04/Java%E5%B9%B6%E5%8F%91%E5%8C%85%E5%92%8C%E7%BA%BF%E7%A8%8B%E6%B1%A0</id><content type="html" xml:base="https://mafulong.github.io/2025/05/04/Java%E5%B9%B6%E5%8F%91%E5%8C%85%E5%92%8C%E7%BA%BF%E7%A8%8B%E6%B1%A0/">&lt;h2 id=&quot;javaå¹¶å‘åŒ…å’Œçº¿ç¨‹æ± &quot;&gt;Javaå¹¶å‘åŒ…å’Œçº¿ç¨‹æ± &lt;/h2&gt;

&lt;h2 id=&quot;jdk-å¹¶å‘åŒ…-juc&quot;&gt;JDK å¹¶å‘åŒ… JUC&lt;/h2&gt;

&lt;p&gt;java.util.concurrent&lt;/p&gt;

&lt;h3 id=&quot;é‡å…¥é”-reentrantlock&quot;&gt;é‡å…¥é” ReentrantLock&lt;/h3&gt;

&lt;p&gt;å‡ ä¸ªé‡è¦æ–¹æ³•
re-entrance-lock&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;lock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;lock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//è·å¾—é”ï¼Œå¦‚å ç”¨ï¼Œåˆ™ç­‰å¾…&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;lockInteruptibly&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;ï¼›&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//è·å¾—é”ï¼Œä½†ä¼˜å…ˆå“åº”ä¸­æ–­ï¼Œå°±æ˜¯å¯ä»¥ä¸­æ–­çš„&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;tryLock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;ï¼›&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//å¤±è´¥è¿”å›false,ä¸ç­‰å¾…&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;tryLock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//åœ¨ç»™å®šæ—¶é—´å†…å°è¯•è·å¾—é”&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;unlock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//é‡Šæ”¾é”&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Lock&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lock&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ReentrantLock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Condition&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;condition&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;lock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;newCondition&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;lock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;lock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nf&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ä¸ç¬¦åˆæ¡ä»¶&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;condition&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;await&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++;&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;currentThread&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;getName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;());&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;InterruptedException&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;RuntimeException&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;finally&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;condition&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;signalAll&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;lock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;unlock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åœ¨ Java ä¸­ï¼Œé‡å…¥é”ï¼ˆReentrant Lockï¼‰æ˜¯ä¸€ç§æ”¯æŒ&lt;strong&gt;åŒä¸€çº¿ç¨‹é‡å¤è·å–é”è€Œä¸ä¼šè¢«é˜»å¡&lt;/strong&gt;çš„é”æœºåˆ¶ã€‚å®ƒçš„å®ç°å¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;ä¸€ç§æ˜¯åŸºäº JVM çš„å†…ç½®é”ï¼ˆ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;synchronized&lt;/code&gt;ï¼‰ï¼›&lt;/li&gt;
  &lt;li&gt;ä¸€ç§æ˜¯åŸºäº JUC åŒ…çš„æ˜¾ç¤ºé”ï¼ˆå¦‚ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ReentrantLock&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;strong&gt;synchronized çš„é‡å…¥åŸç†ï¼ˆåŸºäº JVM å®ç°ï¼‰&lt;/strong&gt; &lt;strong&gt;éå…¬å¹³é”&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;synchronized&lt;/code&gt; æ˜¯åŸºäº&lt;strong&gt;å¯¹è±¡å¤´ï¼ˆObject Monitorï¼‰&lt;/strong&gt;çš„ Monitor Lock å®ç°çš„ã€‚&lt;/li&gt;
  &lt;li&gt;æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ª Monitorï¼Œå¦‚æœä¸€ä¸ªçº¿ç¨‹å·²ç»è·å–äº†è¯¥ Monitorï¼Œå†æ¬¡è¿›å…¥æ—¶ä¼š&lt;strong&gt;å¢åŠ ä¸€ä¸ªè®¡æ•°å™¨&lt;/strong&gt;ï¼ˆç§°ä¸ºé‡å…¥è®¡æ•°ï¼‰ã€‚&lt;/li&gt;
  &lt;li&gt;åªæœ‰å½“çº¿ç¨‹å®Œå…¨é€€å‡ºæ‰€æœ‰ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;synchronized&lt;/code&gt; å—åï¼Œæ‰ä¼šçœŸæ­£é‡Šæ”¾è¿™ä¸ªé”ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ğŸ“Œ &lt;strong&gt;JVM ä¸­çš„é‡å…¥æœºåˆ¶ä¾èµ–äº Monitor çš„ Owner å’Œè®¡æ•°å™¨ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;è®°å½•å½“å‰æŒé”çº¿ç¨‹ï¼ˆOwnerï¼‰ã€‚&lt;/li&gt;
  &lt;li&gt;å¦‚æœå½“å‰çº¿ç¨‹å†æ¬¡è¯·æ±‚é”ï¼Œåªéœ€å°†è®¡æ•°å™¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;+1&lt;/code&gt;ã€‚&lt;/li&gt;
  &lt;li&gt;é€€å‡ºæ—¶é€’å‡è®¡æ•°å™¨ï¼Œç›´åˆ°ä¸º 0 æ—¶é‡Šæ”¾ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;ReentrantLock çš„é‡å…¥åŸç†ï¼ˆåŸºäº AQS å®ç°ï¼‰&lt;/strong&gt;  &lt;strong&gt;å…¬å¹³é”&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ReentrantLock&lt;/code&gt; æ˜¯åŸºäº &lt;strong&gt;AbstractQueuedSynchronizerï¼ˆAQSï¼‰&lt;/strong&gt; å®ç°çš„ã€‚&lt;/li&gt;
  &lt;li&gt;AQS ä½¿ç”¨ä¸€ä¸ª volatile çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;state&lt;/code&gt; å­—æ®µè®°å½•åŠ é”æ¬¡æ•°ï¼Œæ”¯æŒå¯é‡å…¥ã€‚&lt;/li&gt;
  &lt;li&gt;çº¿ç¨‹ç¬¬ä¸€æ¬¡è·å¾—é”æ—¶ï¼š
    &lt;ul&gt;
      &lt;li&gt;è®¾ç½® state = 1ï¼Œå¹¶è®°å½•å½“å‰çº¿ç¨‹ä¸º ownerã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;å¦‚æœ owner çº¿ç¨‹å†æ¬¡è¯·æ±‚ï¼š
    &lt;ul&gt;
      &lt;li&gt;æ£€æŸ¥çº¿ç¨‹æ˜¯å¦ä¸ºå½“å‰ ownerï¼Œå¦‚æœæ˜¯å°±ç›´æ¥ state++ã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;é‡Šæ”¾é”æ—¶ï¼š
    &lt;ul&gt;
      &lt;li&gt;æ¯é‡Šæ”¾ä¸€æ¬¡ stateâ€“ï¼›&lt;/li&gt;
      &lt;li&gt;å½“ state ä¸º 0 æ—¶æ‰çœŸæ­£é‡Šæ”¾é”å¹¶å”¤é†’ç­‰å¾…çº¿ç¨‹ã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;é‡å…¥é”çš„å¥½æ­æ¡£condition-æ¡ä»¶&quot;&gt;é‡å…¥é”çš„å¥½æ­æ¡£ï¼šCondition æ¡ä»¶&lt;/h3&gt;

&lt;p&gt;condition.await()å’Œ wait()ç±»ä¼¼&lt;/p&gt;

&lt;p&gt;condition.signal()å’Œ notify()ç±»ä¼¼&lt;/p&gt;

&lt;p&gt;è¦åœ¨ lock å—å†…ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;conditionå¯ä»¥æœ‰å¤šä¸ªï¼Œæ¯ä¸ªcondition.awaité˜»å¡åªèƒ½é€šè¿‡è¯¥conditionçš„signal/signalallæ¥å”¤é†’ï¼è¿™æ˜¯synchronizedå…³é”®å­—æ‰€è¾¾ä¸åˆ°çš„&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;æ³¨æ„å¦‚æœsignalåœ¨awaitä¹‹å‰ï¼Œå¯èƒ½ä¼šé€šçŸ¥ä¸¢å¤±ï¼Œå˜æˆæ­»é”ï¼Œéšæ„æœ€å¥½ç”¨çŠ¶æ€å˜é‡æ¥å¾ªç¯è§£å†³ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Condition&lt;/code&gt; çš„å®ç°åŸºäº &lt;strong&gt;AQS&lt;/strong&gt;ï¼Œä¹Ÿå°±æ˜¯ &lt;strong&gt;AbstractQueuedSynchronizer&lt;/strong&gt;ã€‚å®ƒèƒŒåçš„æ ¸å¿ƒåŸç†æ˜¯é€šè¿‡ &lt;strong&gt;ç­‰å¾…é˜Ÿåˆ—&lt;/strong&gt; å’Œ &lt;strong&gt;é€šçŸ¥æœºåˆ¶&lt;/strong&gt; æ¥åè°ƒçº¿ç¨‹çš„æ‰§è¡Œã€‚ çº¿ç¨‹è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;await()&lt;/code&gt; æ–¹æ³•æ—¶ï¼Œ&lt;strong&gt;å½“å‰çº¿ç¨‹ä¼šè¢«æŒ‚èµ·å¹¶åŠ å…¥åˆ° AQS çš„é˜Ÿåˆ—ä¸­&lt;/strong&gt;ã€‚&lt;/p&gt;

&lt;p&gt;å”¤é†’æ˜¯é€šè¿‡ &lt;strong&gt;è®¾ç½®çº¿ç¨‹çš„çŠ¶æ€&lt;/strong&gt; æ¥å®ç°çš„ã€‚AQS ä¼šé€šè¿‡ &lt;strong&gt;CAS æ“ä½œ&lt;/strong&gt; åŸå­åœ°æ”¹å˜çº¿ç¨‹çš„çŠ¶æ€ï¼Œä¿è¯çº¿ç¨‹å®‰å…¨ã€‚&lt;/p&gt;

&lt;h3 id=&quot;semaphore&quot;&gt;Semaphore&lt;/h3&gt;

&lt;p&gt;ä¿¡å·é‡æœºåˆ¶&lt;/p&gt;

&lt;p&gt;å…è®¸å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;Semaphore&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;semaphore&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;semaphore&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;permits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;//permitsæ˜¯ä¸ªè®¸å¯è¯&lt;/span&gt;


&lt;span class=&quot;n&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(){&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;semaphore&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;acquire&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;

    &lt;span class=&quot;o&quot;&gt;..&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;semaphore&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;release&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä»¥ä¸‹ä»£ç æ¨¡æ‹Ÿäº†å¯¹æŸä¸ªæœåŠ¡çš„å¹¶å‘è¯·æ±‚ï¼Œæ¯æ¬¡åªèƒ½æœ‰ 3 ä¸ªå®¢æˆ·ç«¯åŒæ—¶è®¿é—®ï¼Œè¯·æ±‚æ€»æ•°ä¸º 10ã€‚&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;SemaphoreExample&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;clientCount&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;totalRequestCount&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;Semaphore&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;semaphore&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Semaphore&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;clientCount&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;ExecutorService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;executorService&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Executors&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;newCachedThreadPool&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;totalRequestCount&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;executorService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;execute&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(()-&amp;gt;{&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;semaphore&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;acquire&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
                    &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;semaphore&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;availablePermits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;InterruptedException&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;printStackTrace&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;finally&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;semaphore&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;release&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;});&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;executorService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;shutdown&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;resutl:
2 1 2 2 2 2 2 1 2 2&lt;/p&gt;

&lt;p&gt;å¾ªç¯æ‰“å°ABC.&lt;/p&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ABCPrinter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// åˆ›å»ºä¸‰ä¸ªä¿¡å·é‡ï¼Œç”¨äºæ§åˆ¶çº¿ç¨‹çš„æ‰§è¡Œé¡ºåº&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Semaphore&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;semaphoreA&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Semaphore&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Semaphore&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;semaphoreB&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Semaphore&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Semaphore&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;semaphoreC&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Semaphore&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;Runnable&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;printA&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nf&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;nv&quot;&gt;semaphoreA&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;acquire&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ç­‰å¾…Açš„ä¿¡å·&lt;/span&gt;
                    &lt;span class=&quot;nv&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;A&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
                    &lt;span class=&quot;nv&quot;&gt;semaphoreB&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;release&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// é‡Šæ”¾Bçš„ä¿¡å·&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;InterruptedException&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nv&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;printStackTrace&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;};&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;ã€‚ã€‚ã€‚&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Semaphore&lt;/code&gt; çš„å®ç°åŸºäº &lt;strong&gt;AQSï¼ˆAbstractQueuedSynchronizerï¼‰&lt;/strong&gt;ï¼Œé€šè¿‡ç»´æŠ¤ä¸€ä¸ªè®¡æ•°å™¨æ¥æ§åˆ¶å¹¶å‘çº¿ç¨‹æ•°ã€‚æ¯å½“çº¿ç¨‹è¯·æ±‚èµ„æºæ—¶ï¼Œè®¡æ•°å™¨å‡å°‘ï¼Œå½“è®¡æ•°å™¨ä¸º 0 æ—¶ï¼Œåç»­çº¿ç¨‹ä¼šè¢«æŒ‚èµ·ã€‚é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;release()&lt;/code&gt; æ–¹æ³•å¯ä»¥é‡Šæ”¾èµ„æºå¹¶å¢åŠ è®¡æ•°å™¨çš„å€¼ï¼Œå”¤é†’ç­‰å¾…çš„çº¿ç¨‹ã€‚&lt;/p&gt;

&lt;h3 id=&quot;reentrantreadwritelock&quot;&gt;ReentrantReadWriteLock&lt;/h3&gt;

&lt;p&gt;è¯»å†™åˆ†ç¦»é”ï¼Œå¯ä»¥å‡å°‘é”ç«äº‰ï¼Œæå‡æ€§èƒ½&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ReentrantReadWriteLock&lt;/code&gt; å†…éƒ¨é€šè¿‡ä¸€ä¸ª &lt;strong&gt;state&lt;/strong&gt; å­—æ®µæ¥è¡¨ç¤ºé”çš„çŠ¶æ€ã€‚è¿™ä¸ªçŠ¶æ€ç”± &lt;strong&gt;é«˜ 16 ä½&lt;/strong&gt; å’Œ &lt;strong&gt;ä½ 16 ä½&lt;/strong&gt; ä¸¤éƒ¨åˆ†ç»„æˆï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;é«˜ 16 ä½&lt;/strong&gt;ï¼šè¡¨ç¤ºå†™é”çš„æ•°é‡ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ä½ 16 ä½&lt;/strong&gt;ï¼šè¡¨ç¤ºè¯»é”çš„æ•°é‡ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ReentrantReadWriteLock&lt;/code&gt; æ˜¯å…¶å¸¸è§çš„å®ç°ï¼Œå®ƒä½¿ç”¨ &lt;strong&gt;AQSï¼ˆAbstractQueuedSynchronizerï¼‰&lt;/strong&gt; æ¥åè°ƒçº¿ç¨‹é—´çš„å¹¶å‘è®¿é—®ã€‚è¯»é”æ˜¯å…±äº«é”ï¼Œå¤šä¸ªçº¿ç¨‹å¯ä»¥åŒæ—¶æŒæœ‰ï¼›å†™é”æ˜¯ç‹¬å é”ï¼Œåªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½æŒæœ‰å†™é”ï¼Œä¸”åœ¨å†™é”æŒæœ‰æœŸé—´ï¼Œä¸å…è®¸ä»»ä½•çº¿ç¨‹è¯»å–æˆ–å†™å…¥èµ„æºã€‚&lt;/p&gt;

&lt;h4 id=&quot;stampedlock&quot;&gt;StampedLock&lt;/h4&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;StampedLock&lt;/code&gt; æ˜¯ Java 8 ä¸­å¼•å…¥çš„ä¸€ä¸ªæ–°å‹é”ï¼Œæä¾›æ¯” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ReentrantReadWriteLock&lt;/code&gt; æ›´é«˜æ•ˆçš„å¹¶å‘æ§åˆ¶æœºåˆ¶ï¼Œå°¤å…¶é€‚ç”¨äºéœ€è¦å¤§é‡è¯»æ“ä½œçš„åœºæ™¯ã€‚&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;StampedLock&lt;/code&gt; ä¹Ÿé€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ReentrantLock&lt;/code&gt; çš„æœºåˆ¶æ¥å®ç°ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;å†™é”&lt;/strong&gt;ï¼šç‹¬å é”ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;æ‚²è§‚è¯»é”&lt;/strong&gt;ï¼šç±»ä¼¼äº &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ReentrantReadWriteLock&lt;/code&gt; çš„è¯»é”ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ä¹è§‚è¯»é”&lt;/strong&gt;ï¼šå…è®¸åœ¨ä¸æŒæœ‰é”çš„æƒ…å†µä¸‹è¯»å–æ•°æ®ï¼Œåœ¨æäº¤ä¹‹å‰æ£€æŸ¥æ•°æ®æ˜¯å¦è¢«ä¿®æ”¹è¿‡ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;countdownlatch&quot;&gt;CountdownLatch&lt;/h3&gt;

&lt;p&gt;å°±æ˜¯å€’è®¡æ•°çš„é”å­˜æœŸï¼Œå¯ä»¥è®©çº¿ç¨‹ç­‰å¾…ç›´åˆ°å€’è®¡æ—¶ç»“æŸï¼Œå†å¼€å§‹æ‰§è¡Œ&lt;/p&gt;

&lt;p&gt;ç”¨æ¥æ§åˆ¶ä¸€ä¸ªçº¿ç¨‹ç­‰å¾…å¤šä¸ªçº¿ç¨‹ã€‚&lt;/p&gt;

&lt;p&gt;ç»´æŠ¤äº†ä¸€ä¸ªè®¡æ•°å™¨ cntï¼Œæ¯æ¬¡è°ƒç”¨ countDown() æ–¹æ³•ä¼šè®©è®¡æ•°å™¨çš„å€¼å‡ 1ï¼Œå‡åˆ° 0 çš„æ—¶å€™ï¼Œé‚£äº›å› ä¸ºè°ƒç”¨ await() æ–¹æ³•è€Œåœ¨ç­‰å¾…çš„çº¿ç¨‹å°±ä¼šè¢«å”¤é†’ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;å®ç°åŸç†ï¼š&lt;/strong&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CountDownLatch&lt;/code&gt; çš„åº•å±‚é€šè¿‡ AQS å®ç°ï¼Œä½¿ç”¨ä¸€ä¸ª volatile çš„ state å˜é‡è¡¨ç¤ºå€’è®¡æ—¶ï¼Œçº¿ç¨‹é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;await()&lt;/code&gt; è¿›å…¥ AQS çš„ CLH åŒå‘ç­‰å¾…é˜Ÿåˆ—é˜»å¡ã€‚
 æ¯ä¸ªè°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;countDown()&lt;/code&gt; çš„çº¿ç¨‹åŸå­æ€§åœ°å°† state å‡ä¸€ï¼Œå½“ state å˜ä¸º 0 æ—¶ï¼Œè°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;releaseShared()&lt;/code&gt; å”¤é†’æ‰€æœ‰ç­‰å¾…çº¿ç¨‹ã€‚&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CountdownLatchExample&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;InterruptedException&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;totalThread&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;CountDownLatch&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;countDownLatch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CountDownLatch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;totalThread&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;ExecutorService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;executorService&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Executors&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;newCachedThreadPool&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;totalThread&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;executorService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;execute&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;run..&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;countDownLatch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;countDown&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;});&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;countDownLatch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;await&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;end&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;executorService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;shutdown&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;result:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;run..run..run..run..run..run..run..run..run..run..end
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;cyclicbarrier&quot;&gt;CyclicBarrier&lt;/h3&gt;

&lt;p&gt;å…è®¸ä¸€ç»„çº¿ç¨‹äº’ç›¸ç­‰å¾…ï¼Œç›´åˆ°éƒ½åˆ°è¾¾æŸä¸ªå…¬å…±å±éšœç‚¹&lt;/p&gt;

&lt;p&gt;ç”¨æ¥æ§åˆ¶å¤šä¸ªçº¿ç¨‹äº’ç›¸ç­‰å¾…ï¼Œåªæœ‰å½“å¤šä¸ªçº¿ç¨‹éƒ½åˆ°è¾¾æ—¶ï¼Œè¿™äº›çº¿ç¨‹æ‰ä¼šç»§ç»­æ‰§è¡Œã€‚&lt;/p&gt;

&lt;p&gt;å’Œ CountdownLatch ç›¸ä¼¼ï¼Œéƒ½æ˜¯é€šè¿‡ç»´æŠ¤è®¡æ•°å™¨æ¥å®ç°çš„ã€‚ä½†æ˜¯å®ƒçš„è®¡æ•°å™¨æ˜¯é€’å¢çš„ï¼Œæ¯æ¬¡æ‰§è¡Œ await() æ–¹æ³•ä¹‹åï¼Œè®¡æ•°å™¨ä¼šåŠ  1ï¼Œç›´åˆ°è®¡æ•°å™¨çš„å€¼å’Œè®¾ç½®çš„å€¼ç›¸ç­‰ï¼Œç­‰å¾…çš„æ‰€æœ‰çº¿ç¨‹æ‰ä¼šç»§ç»­æ‰§è¡Œã€‚å’Œ CountdownLatch çš„å¦ä¸€ä¸ªåŒºåˆ«æ˜¯ï¼ŒCyclicBarrier çš„è®¡æ•°å™¨å¯ä»¥å¾ªç¯ä½¿ç”¨ï¼Œæ‰€ä»¥å®ƒæ‰å«åšå¾ªç¯å±éšœã€‚&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªæ˜¯è§„å®šå¤šå°‘ä¸ªçº¿ç¨‹ï¼Œè¿™ä¸€å®šæ•°é‡çš„çº¿ç¨‹éƒ½åˆ°è¾¾ await()æ—¶æ‰å¼€å§‹éƒ½å”¤é†’ï¼Œç»§ç»­æ‰§è¡Œ&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;å®ç°åŸç†&lt;/strong&gt;ï¼š&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CyclicBarrier&lt;/code&gt; å†…éƒ¨é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ReentrantLock&lt;/code&gt; å’Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Condition&lt;/code&gt; æ§åˆ¶çº¿ç¨‹çš„é˜»å¡ä¸å”¤é†’ï¼Œæ¯æ¬¡æœ‰çº¿ç¨‹è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;await()&lt;/code&gt;ï¼Œéƒ½ä¼šå°† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;count&lt;/code&gt; å‡ 1ï¼Œå½“æœ€åä¸€ä¸ªçº¿ç¨‹åˆ°è¾¾æ—¶æ‰§è¡Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;barrierAction&lt;/code&gt;ï¼ˆå¦‚æœæœ‰ï¼‰ï¼Œç„¶åå”¤é†’æ‰€æœ‰çº¿ç¨‹ï¼›ä¸ºäº†æ”¯æŒå¤šè½®ä½¿ç”¨ï¼Œå®ƒé€šè¿‡ä¸€ä¸ªå« &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;generation&lt;/code&gt; çš„å¯¹è±¡æ ‡è®°æ¯ä¸€è½®å±éšœï¼›å…¶è®¾è®¡ä½“ç°äº†ç»å…¸çš„â€œå±éšœâ€åŒæ­¥æ¨¡å¼ï¼Œéå¸¸é€‚ç”¨äºå¤šçº¿ç¨‹å¹¶å‘é˜¶æ®µä»»åŠ¡ã€‚&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CyclicBarrierExample&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;InterruptedException&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;totalThread&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;CyclicBarrier&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cyclicBarrier&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CyclicBarrier&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;totalThread&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;ExecutorService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;executorService&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Executors&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;newCachedThreadPool&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;totalThread&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;executorService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;execute&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;before..&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;cyclicBarrier&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;await&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;InterruptedException&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;printStackTrace&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;BrokenBarrierException&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;printStackTrace&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;after..&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;});&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;executorService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;shutdown&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;result:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;before..before..before..before..before..before..before..before..before..before..after..after..after..after..after..after..after..after..after..after..
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;exchanger&quot;&gt;Exchanger&lt;/h3&gt;

&lt;p&gt;ç”¨äºä¸¤ä¸ªçº¿ç¨‹ä¹‹é—´æ•°æ®çš„åŒæ­¥äº¤æ¢ï¼Œéƒ½å‡†å¤‡å¥½æ‰äº¤æ¢&lt;/p&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;        &lt;span class=&quot;k&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Exchanger&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;exchanger&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Exchanger&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;gt;();&lt;/span&gt;
        
        &lt;span class=&quot;c1&quot;&gt;// Thread 1: Producer&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;Thread&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;producer&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Hello from producer!&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;nv&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Producer before exchange: &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
                &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;response&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;exchanger&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;exchange&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// äº¤æ¢æ•°æ®&lt;/span&gt;
                &lt;span class=&quot;nv&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Producer after exchange: &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;InterruptedException&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nv&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;currentThread&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;interrupt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;});&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// Thread 2: Consumer&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;Thread&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;consumer&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Hello from consumer!&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;nv&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Consumer before exchange: &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
                &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;response&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;exchanger&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;exchange&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// äº¤æ¢æ•°æ®&lt;/span&gt;
                &lt;span class=&quot;nv&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Consumer after exchange: &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;InterruptedException&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nv&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;currentThread&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;interrupt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;});&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Exchanger&lt;/code&gt; åº•å±‚çš„æ ¸å¿ƒç»“æ„æ˜¯ä¸€ä¸ª &lt;strong&gt;åŒå‘é“¾è¡¨&lt;/strong&gt; æˆ– &lt;strong&gt;èŠ‚ç‚¹ï¼ˆNodeï¼‰&lt;/strong&gt;ã€‚æ¯å½“ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;exchange()&lt;/code&gt; æ–¹æ³•æ—¶ï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹å¹¶å°†è‡ªå·±æ’å…¥é“¾è¡¨ä¸­ï¼Œè¡¨ç¤ºå®ƒæ­£ç­‰å¾…äº¤æ¢æ•°æ®ã€‚å¦ä¸€çº¿ç¨‹è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;exchange()&lt;/code&gt; æ—¶ï¼Œä¹Ÿä¼šåˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹ï¼Œç­‰å¾…ä¸ç¬¬ä¸€ä¸ªçº¿ç¨‹äº¤æ¢æ•°æ®ã€‚&lt;/p&gt;

&lt;p&gt;ä¸€æ—¦ä¸¤ä¸ªçº¿ç¨‹éƒ½å‡†å¤‡å¥½äº¤æ¢æ•°æ®ï¼Œå®ƒä»¬ä¼šåœ¨è¿™ä¸ªé“¾è¡¨ä¸­äº¤æ¢å„è‡ªçš„æ•°æ®ã€‚&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;transferer&lt;/code&gt;&lt;/strong&gt;: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Exchanger&lt;/code&gt; å†…éƒ¨ä½¿ç”¨äº† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Transferer&lt;/code&gt; æ¥å£çš„å®ç°ç±»æ¥ç®¡ç†çº¿ç¨‹é—´çš„äº¤æ¢ã€‚&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Transferer&lt;/code&gt; å®é™…ä¸Šæ˜¯ç”¨æ¥å®ç°æ•°æ®äº¤æ¢çš„æ¥å£ï¼Œå®ƒæœ‰å¤šä¸ªå®ç°ç±»ï¼Œç”¨äºä¸åŒçš„åŒæ­¥éœ€æ±‚ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Item&lt;/code&gt;&lt;/strong&gt;: ç”¨æ¥å­˜æ”¾çº¿ç¨‹äº¤æ¢çš„æ•°æ®çš„å¯¹è±¡ã€‚åœ¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Exchanger&lt;/code&gt; å†…éƒ¨ï¼Œçº¿ç¨‹ä¼šæŒæœ‰ä¸€ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Item&lt;/code&gt;ï¼Œæ¯ä¸ªçº¿ç¨‹ä¼ å…¥çš„æ•°æ®éƒ½ä¼šå­˜å‚¨åœ¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Item&lt;/code&gt; ä¸­ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Node&lt;/code&gt;&lt;/strong&gt;: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Node&lt;/code&gt; æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨çš„èŠ‚ç‚¹ã€‚æ¯å½“ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;exchange()&lt;/code&gt; æ—¶ï¼Œçº¿ç¨‹å°±ä¼šåœ¨å†…éƒ¨çš„åŒå‘é“¾è¡¨ä¸­åˆ›å»ºä¸€ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Node&lt;/code&gt; æ¥ç­‰å¾…äº¤æ¢ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;é”ä¸æ¡ä»¶å˜é‡&lt;/strong&gt;:
    &lt;ul&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ReentrantLock&lt;/code&gt;ï¼šç”¨äºç¡®ä¿å¯¹å…±äº«èµ„æºçš„äº’æ–¥è®¿é—®ã€‚&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Condition&lt;/code&gt;ï¼šç”¨äºå®ç°çº¿ç¨‹çš„ç­‰å¾…ä¸é€šçŸ¥æœºåˆ¶ã€‚æ¯ä¸ªçº¿ç¨‹åœ¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;exchange()&lt;/code&gt; è°ƒç”¨æ—¶éƒ½ä¼šè¢«æ”¾å…¥ä¸€ä¸ªç­‰å¾…é˜Ÿåˆ—ä¸­ï¼Œç›´åˆ°ä¸å¦ä¸€ä¸ªçº¿ç¨‹äº¤æ¢æ•°æ®ã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;strong&gt;æ ¸å¿ƒæµç¨‹&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;çº¿ç¨‹è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;exchange()&lt;/code&gt; æ–¹æ³•&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;å½“çº¿ç¨‹è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;exchange()&lt;/code&gt; æ—¶ï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹å¹¶åŠ å…¥åˆ°äº¤æ¢çš„é˜Ÿåˆ—ä¸­ã€‚èŠ‚ç‚¹ä¿å­˜äº†å½“å‰çº¿ç¨‹çš„æ•°æ®ï¼Œå¹¶ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹æ¥äº¤æ¢æ•°æ®ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;çº¿ç¨‹ A è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;exchange()&lt;/code&gt;ï¼Œå¹¶å°†å…¶æ•°æ®å­˜å‚¨åœ¨èŠ‚ç‚¹ä¸­ï¼Œç­‰å¾…ä¸çº¿ç¨‹ B äº¤æ¢æ•°æ®ã€‚&lt;/li&gt;
  &lt;li&gt;çº¿ç¨‹ B è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;exchange()&lt;/code&gt;ï¼Œå¹¶å°†å…¶æ•°æ®å­˜å‚¨åœ¨èŠ‚ç‚¹ä¸­ï¼Œç­‰å¾…ä¸çº¿ç¨‹ A äº¤æ¢æ•°æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;ol&gt;
  &lt;li&gt;çº¿ç¨‹é˜»å¡ä¸ç­‰å¾…&lt;/li&gt;
&lt;/ol&gt;

&lt;ul&gt;
  &lt;li&gt;å½“çº¿ç¨‹ A è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;exchange()&lt;/code&gt; åï¼Œå®ƒä¼šè°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lock.lock()&lt;/code&gt; è·å–é”ï¼Œç„¶åæ£€æŸ¥æ˜¯å¦æœ‰å¦ä¸€ä¸ªçº¿ç¨‹å·²ç»åœ¨ç­‰å¾…äº¤æ¢ã€‚&lt;/li&gt;
  &lt;li&gt;å¦‚æœçº¿ç¨‹ B ä¹Ÿå·²ç»åœ¨ç­‰å¾…ï¼Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Exchanger&lt;/code&gt; ä¼šäº¤æ¢å®ƒä»¬çš„æ•°æ®ã€‚&lt;/li&gt;
  &lt;li&gt;å¦‚æœçº¿ç¨‹ A æ²¡æœ‰æ‰¾åˆ°çº¿ç¨‹ B æ¥äº¤æ¢æ•°æ®ï¼Œå®ƒä¼šè°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;condition.await()&lt;/code&gt; é˜»å¡è‡ªå·±ï¼Œç›´åˆ°çº¿ç¨‹ B å‡†å¤‡å¥½äº¤æ¢æ•°æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;ol&gt;
  &lt;li&gt;çº¿ç¨‹äº¤æ¢æ•°æ®&lt;/li&gt;
&lt;/ol&gt;

&lt;ul&gt;
  &lt;li&gt;ä¸€æ—¦çº¿ç¨‹ A å’Œçº¿ç¨‹ B éƒ½å‡†å¤‡å¥½äº†äº¤æ¢æ•°æ®ï¼Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Exchanger&lt;/code&gt; ä¼šå°†å®ƒä»¬å„è‡ªçš„æ•°æ®äº¤æ¢ã€‚çº¿ç¨‹ A ä¼šä»çº¿ç¨‹ B è·å–æ•°æ®ï¼Œè€Œçº¿ç¨‹ B ä¼šä»çº¿ç¨‹ A è·å–æ•°æ®ã€‚&lt;/li&gt;
  &lt;li&gt;äº¤æ¢å®Œæˆåï¼Œçº¿ç¨‹ä¼šè¢«é€šçŸ¥ç»§ç»­æ‰§è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;ol&gt;
  &lt;li&gt;é€šçŸ¥ä¸ç»§ç»­æ‰§è¡Œ&lt;/li&gt;
&lt;/ol&gt;

&lt;ul&gt;
  &lt;li&gt;äº¤æ¢å®Œæˆåï¼Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Exchanger&lt;/code&gt; ä¼šä½¿ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;condition.signalAll()&lt;/code&gt; æ¥é€šçŸ¥æ‰€æœ‰ç­‰å¾…çš„çº¿ç¨‹ï¼Œè®©å®ƒä»¬ç»§ç»­æ‰§è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h3&gt;

&lt;p&gt;Semaphore synchronized CountDownLatch ä¸ä¾èµ–äºé‡å…¥é”ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FutureTask&lt;/code&gt;ï¼šä¸æ˜¯ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ReentrantLock&lt;/code&gt;ï¼Œè€Œæ˜¯ AQS å®ç°&lt;/p&gt;

&lt;p&gt;å…¶ä»–JUCåŸºæœ¬ä¾èµ–äºé‡å…¥é”ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å¹¶å‘æ•°æ®ç»“æ„&quot;&gt;å¹¶å‘æ•°æ®ç»“æ„&lt;/h2&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;ç±»å&lt;/th&gt;
      &lt;th&gt;æ•°æ®ç»“æ„&lt;/th&gt;
      &lt;th&gt;åŒæ­¥æœºåˆ¶&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ConcurrentHashMap&lt;/code&gt;&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;æ•°ç»„ + é“¾è¡¨/çº¢é»‘æ ‘ + åˆ†æ®µé”/CAS&lt;/td&gt;
      &lt;td&gt;åˆ†æ®µé”ï¼ˆJDK7ï¼‰ï¼ŒCAS + synchronizedï¼ˆJDK8ï¼‰&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ConcurrentSkipListMap&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;è·³è¡¨ï¼ˆSkipListï¼‰&lt;/td&gt;
      &lt;td&gt;CAS + volatile&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ConcurrentLinkedQueue&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;é“¾è¡¨&lt;/td&gt;
      &lt;td&gt;CASï¼ˆæ— é”ï¼‰&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ConcurrentLinkedDeque&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;åŒå‘é“¾è¡¨&lt;/td&gt;
      &lt;td&gt;CASï¼ˆæ— é”ï¼‰&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LinkedBlockingQueue&lt;/code&gt;&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;é“¾è¡¨&lt;/td&gt;
      &lt;td&gt;ReentrantLockï¼ˆput/take ä¸¤æŠŠé”ï¼‰é•¿åº¦ä¸å¯ä¸º0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ArrayBlockingQueue&lt;/code&gt;&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;æ•°ç»„ç¯å½¢ç¼“å†²åŒº&lt;/td&gt;
      &lt;td&gt;ReentrantLockï¼ˆput/take ä¸¤æŠŠé”ï¼‰ æ˜¯æœ‰ç•Œçš„ï¼Œåˆå§‹åŒ–éœ€è¦æä¾›æ•°é‡&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PriorityBlockingQueue&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;æœ€å°å †&lt;/td&gt;
      &lt;td&gt;ReentrantLock&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DelayQueue&lt;/code&gt;&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;æœ€å°å †ï¼ˆå†…éƒ¨æ˜¯ PriorityQueueï¼‰&lt;/td&gt;
      &lt;td&gt;ReentrantLock&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SynchronousQueue&lt;/code&gt;&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;æ— ç¼“å†²/è™šæ‹Ÿé˜Ÿåˆ—&lt;/td&gt;
      &lt;td&gt;CAS + Lockï¼ˆå…¬å¹³æ—¶ï¼‰&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LinkedTransferQueue&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;é“¾è¡¨ + åŒ¹é…èŠ‚ç‚¹&lt;/td&gt;
      &lt;td&gt;CAS + è‡ªæ—‹&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CopyOnWriteArrayList&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;æ•°ç»„&lt;/td&gt;
      &lt;td&gt;å†™æ—¶å¤åˆ¶&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CopyOnWriteArraySet&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;åŸºäº &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CopyOnWriteArrayList&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;å†™æ—¶å¤åˆ¶&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;linkedblockingqueue&quot;&gt;LinkedBlockingQueue&lt;/h3&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LinkedBlockingQueue&lt;/code&gt; æ˜¯åŸºäº &lt;strong&gt;é“¾è¡¨&lt;/strong&gt; å®ç°çš„ï¼Œå¹¶é€šè¿‡ &lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ReentrantLock&lt;/code&gt;&lt;/strong&gt; è¿›è¡ŒåŒæ­¥ç®¡ç†ã€‚å®ƒä½¿ç”¨ä¸¤æŠŠé”ï¼šä¸€æŠŠç”¨äºç”Ÿäº§è€…çº¿ç¨‹ï¼ˆ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;put&lt;/code&gt; æ“ä½œï¼‰ï¼Œä¸€æŠŠç”¨äºæ¶ˆè´¹è€…çº¿ç¨‹ï¼ˆ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;take&lt;/code&gt; æ“ä½œï¼‰ã€‚è¿™æ ·è®¾è®¡ä¿è¯äº† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;put&lt;/code&gt; å’Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;take&lt;/code&gt; æ“ä½œå¯ä»¥å¹¶å‘æ‰§è¡Œï¼Œæé«˜äº†ååé‡ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;head&lt;/code&gt; å’Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tail&lt;/code&gt;ï¼šé“¾è¡¨çš„å¤´éƒ¨å’Œå°¾éƒ¨èŠ‚ç‚¹ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;count&lt;/code&gt;ï¼šé˜Ÿåˆ—ä¸­çš„å½“å‰å…ƒç´ æ•°é‡ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;putLock&lt;/code&gt;ï¼šç”¨äºæ§åˆ¶ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;put&lt;/code&gt; æ“ä½œçš„é”ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;takeLock&lt;/code&gt;ï¼šç”¨äºæ§åˆ¶ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;take&lt;/code&gt; æ“ä½œçš„é”ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;notFull&lt;/code&gt; å’Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;notEmpty&lt;/code&gt;ï¼šåˆ†åˆ«æ§åˆ¶å½“é˜Ÿåˆ—æ»¡æ—¶ç”Ÿäº§è€…çº¿ç¨‹çš„ç­‰å¾…å’Œå½“é˜Ÿåˆ—ç©ºæ—¶æ¶ˆè´¹è€…çº¿ç¨‹çš„ç­‰å¾…ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;put&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;E&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;InterruptedException&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ReentrantLock&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;putLock&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;putLock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;putLock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;lockInterruptibly&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;items&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;// å½“é˜Ÿåˆ—æ»¡æ—¶&lt;/span&gt;
            &lt;span class=&quot;nv&quot;&gt;notFull&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;await&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;             &lt;span class=&quot;c1&quot;&gt;// ç­‰å¾…é˜Ÿåˆ—æœ‰ç©ºé—´&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;enqueue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;                      &lt;span class=&quot;c1&quot;&gt;// æ’å…¥é˜Ÿåˆ—&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;                  &lt;span class=&quot;c1&quot;&gt;// å”¤é†’ç­‰å¾…çš„æ¶ˆè´¹è€…&lt;/span&gt;
            &lt;span class=&quot;nv&quot;&gt;notEmpty&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;signal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;finally&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;putLock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;unlock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;åŒé”æœºåˆ¶ï¼ˆ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;putLock&lt;/code&gt; å’Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;takeLock&lt;/code&gt;ï¼‰&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;putLock&lt;/code&gt;&lt;/strong&gt;ï¼šæ§åˆ¶ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;put&lt;/code&gt; æ“ä½œï¼Œä¿è¯åœ¨æ’å…¥æ—¶ä¸ä¼šä¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;take&lt;/code&gt; æ“ä½œå†²çªã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;takeLock&lt;/code&gt;&lt;/strong&gt;ï¼šæ§åˆ¶ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;take&lt;/code&gt; æ“ä½œï¼Œä¿è¯åœ¨ç§»é™¤æ—¶ä¸ä¼šä¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;put&lt;/code&gt; æ“ä½œå†²çªã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;æ¡ä»¶å˜é‡ï¼ˆ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;notFull&lt;/code&gt; å’Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;notEmpty&lt;/code&gt;ï¼‰&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;notFull&lt;/code&gt;&lt;/strong&gt;ï¼šå½“é˜Ÿåˆ—æ»¡æ—¶ï¼Œç”Ÿäº§è€…çº¿ç¨‹ä¼šé˜»å¡åœ¨è¯¥æ¡ä»¶å˜é‡ä¸Šï¼Œç›´åˆ°é˜Ÿåˆ—æœ‰ç©ºé—´ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;notEmpty&lt;/code&gt;&lt;/strong&gt;ï¼šå½“é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œæ¶ˆè´¹è€…çº¿ç¨‹ä¼šé˜»å¡åœ¨è¯¥æ¡ä»¶å˜é‡ä¸Šï¼Œç›´åˆ°é˜Ÿåˆ—æœ‰å…ƒç´ ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;synchronousqueue&quot;&gt;SynchronousQueue&lt;/h3&gt;

&lt;h4 id=&quot;åº•å±‚æ•°æ®ç»“æ„&quot;&gt;åº•å±‚æ•°æ®ç»“æ„&lt;/h4&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SynchronousQueue&lt;/code&gt; çš„åº•å±‚å®ç°å¹¶ä¸æ˜¯ä¼ ç»Ÿæ„ä¹‰ä¸Šçš„åŸºäº &lt;strong&gt;æ•°ç»„&lt;/strong&gt; æˆ– &lt;strong&gt;é“¾è¡¨&lt;/strong&gt; çš„æ•°æ®ç»“æ„ï¼Œè€Œæ˜¯é€šè¿‡ &lt;strong&gt;åŒå‘é“¾è¡¨&lt;/strong&gt; å’Œ &lt;strong&gt;é˜»å¡é˜Ÿåˆ—&lt;/strong&gt; çš„æœºåˆ¶æ¥å®ç°å…ƒç´ çš„äº¤æ¢ã€‚&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;èŠ‚ç‚¹ï¼ˆNodeï¼‰&lt;/strong&gt;ï¼š
 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SynchronousQueue&lt;/code&gt; ä¸­ç»´æŠ¤äº†ä¸¤ä¸ªèŠ‚ç‚¹ï¼š&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;ä¸€ä¸ªç”¨äºç­‰å¾…ç”Ÿäº§è€…çº¿ç¨‹ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;put&lt;/code&gt; æ•°æ®çš„èŠ‚ç‚¹ã€‚&lt;/li&gt;
      &lt;li&gt;ä¸€ä¸ªç”¨äºç­‰å¾…æ¶ˆè´¹è€…çº¿ç¨‹ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;take&lt;/code&gt; æ•°æ®çš„èŠ‚ç‚¹ã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;åŒæ­¥åŒå‘é“¾è¡¨&lt;/strong&gt;ï¼š
 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SynchronousQueue&lt;/code&gt; å†…éƒ¨ç»´æŠ¤ä¸€ä¸ªåŒå‘é“¾è¡¨ï¼Œè¿™ä¸ªé“¾è¡¨åªæœ‰ä¸¤ä¸ªèŠ‚ç‚¹ï¼š&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;ä¸€ä¸ªèŠ‚ç‚¹æ˜¯ç”Ÿäº§è€…çº¿ç¨‹åœ¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;put&lt;/code&gt; æ“ä½œæ—¶ç­‰å¾…çš„æ•°æ®ã€‚&lt;/li&gt;
      &lt;li&gt;å¦ä¸€ä¸ªèŠ‚ç‚¹æ˜¯æ¶ˆè´¹è€…çº¿ç¨‹åœ¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;take&lt;/code&gt; æ“ä½œæ—¶ç­‰å¾…çš„æ•°æ®ã€‚&lt;/li&gt;
    &lt;/ul&gt;

    &lt;p&gt;åŒå‘é“¾è¡¨çš„ä½œç”¨æ˜¯å¸®åŠ©ç®¡ç†ç­‰å¾…çš„çº¿ç¨‹ã€‚ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çº¿ç¨‹çš„äº¤æ¢å°±æ˜¯é€šè¿‡è¿™ä¸¤ä¸ªèŠ‚ç‚¹æ¥å®ç°çš„ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;é”ä¸æ¡ä»¶å˜é‡&lt;/strong&gt;ï¼š
 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SynchronousQueue&lt;/code&gt; ä½¿ç”¨äº† &lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ReentrantLock&lt;/code&gt;&lt;/strong&gt; å’Œ &lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Condition&lt;/code&gt;&lt;/strong&gt; æ¥å®ç°çº¿ç¨‹åŒæ­¥å’Œç­‰å¾…ã€‚ç”Ÿäº§è€…çº¿ç¨‹åœ¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;put&lt;/code&gt; æ•°æ®æ—¶ä¼šæŒæœ‰é”å¹¶ç­‰å¾…ï¼Œå¦‚æœæ²¡æœ‰æ¶ˆè´¹è€…çº¿ç¨‹ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;take&lt;/code&gt; æ•°æ®ï¼Œç”Ÿäº§è€…çº¿ç¨‹ä¼šé˜»å¡ã€‚æ¶ˆè´¹è€…çº¿ç¨‹åœ¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;take&lt;/code&gt; æ•°æ®æ—¶ä¹Ÿä¼šæŒæœ‰é”å¹¶ç­‰å¾…ï¼Œå¦‚æœæ²¡æœ‰ç”Ÿäº§è€…çº¿ç¨‹ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;put&lt;/code&gt; æ•°æ®ï¼Œæ¶ˆè´¹è€…çº¿ç¨‹ä¼šé˜»å¡ã€‚&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;æ ¸å¿ƒæ–¹æ³•&quot;&gt;æ ¸å¿ƒæ–¹æ³•&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;put(E e)&lt;/code&gt;&lt;/strong&gt;ï¼šå½“ç”Ÿäº§è€…è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;put&lt;/code&gt; æ–¹æ³•æ—¶ï¼Œå®ƒä¼šå°è¯•å°†æ•°æ®æ”¾å…¥é˜Ÿåˆ—ã€‚ç”±äº &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SynchronousQueue&lt;/code&gt; æ˜¯ä¸€ä¸ªä¸å­˜å‚¨å…ƒç´ çš„é˜Ÿåˆ—ï¼Œç”Ÿäº§è€…çº¿ç¨‹å¿…é¡»ç­‰å¾…æ¶ˆè´¹è€…çº¿ç¨‹è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;take&lt;/code&gt; æ¥å–èµ°è¿™ä¸ªæ•°æ®ã€‚å¦‚æœæ¶ˆè´¹è€…çº¿ç¨‹æ²¡æœ‰å–èµ°æ•°æ®ï¼Œç”Ÿäº§è€…çº¿ç¨‹ä¼šè¢«é˜»å¡ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;take()&lt;/code&gt;&lt;/strong&gt;ï¼šæ¶ˆè´¹è€…çº¿ç¨‹è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;take&lt;/code&gt; æ–¹æ³•æ—¶ï¼Œå®ƒä¼šç­‰å¾…ç”Ÿäº§è€…çº¿ç¨‹å°†æ•°æ®æ”¾å…¥é˜Ÿåˆ—ã€‚å¦‚æœç”Ÿäº§è€…çº¿ç¨‹æ²¡æœ‰æ”¾å…¥æ•°æ®ï¼Œæ¶ˆè´¹è€…çº¿ç¨‹ä¼šè¢«é˜»å¡ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;nc&quot;&gt;SynchronousQueue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;queue&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;SynchronousQueue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;gt;();&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;put&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;take&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;delayqueue&quot;&gt;DelayQueue&lt;/h3&gt;

&lt;p&gt;DelayQueueä¸€èˆ¬ç”¨äºç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å¼ã€‚&lt;/p&gt;

&lt;p&gt;å®ƒä¸æ˜¯å®šæ—¶ä»»åŠ¡ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;take()&lt;/code&gt;&lt;/strong&gt;ï¼šé˜»å¡åœ°è·å–é˜Ÿåˆ—ä¸­çš„å…ƒç´ ã€‚å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œæˆ–è€…æ‰€æœ‰å…ƒç´ éƒ½å°šæœªåˆ°æœŸï¼Œè°ƒç”¨çº¿ç¨‹ä¼šè¢«é˜»å¡ç›´åˆ°æœ‰å…ƒç´ å¯ç”¨ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DelayQueue&lt;/code&gt; çš„æ ¸å¿ƒæ˜¯åŸºäº &lt;strong&gt;ä¼˜å…ˆçº§é˜Ÿåˆ—&lt;/strong&gt; æ¥è¿›è¡Œå…ƒç´ æ’åºï¼Œå…·ä½“æ¥è¯´ï¼Œå®ƒæ˜¯é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PriorityBlockingQueue&lt;/code&gt; æ¥å®ç°çš„ã€‚&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PriorityBlockingQueue&lt;/code&gt; æ˜¯ä¸€ä¸ªæ²¡æœ‰å®¹é‡é™åˆ¶çš„é˜»å¡é˜Ÿåˆ—ï¼Œèƒ½å¤Ÿæ ¹æ®å…ƒç´ çš„å»¶è¿Ÿæ—¶é—´æ¥å¯¹å…ƒç´ è¿›è¡Œæ’åºã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;é˜»å¡æœºåˆ¶&lt;/strong&gt;ï¼š&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;take()&lt;/code&gt; å’Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;poll()&lt;/code&gt; æ–¹æ³•ä¼šæ£€æŸ¥é˜Ÿåˆ—å¤´éƒ¨çš„å…ƒç´ çš„å»¶è¿Ÿæ—¶é—´ã€‚å¦‚æœå»¶è¿Ÿæ—¶é—´æœªåˆ°ï¼Œè°ƒç”¨çº¿ç¨‹ä¼šè¢«é˜»å¡ç›´åˆ°å»¶è¿Ÿæ—¶é—´åˆ°æœŸã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;çº¿ç¨‹é˜»å¡ä¸å”¤é†’&lt;/strong&gt;ï¼š&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DelayQueue&lt;/code&gt; ä½¿ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AQS&lt;/code&gt;ï¼ˆAbstractQueuedSynchronizerï¼‰æ¥ç®¡ç†é˜»å¡çº¿ç¨‹ã€‚å½“é˜Ÿåˆ—ä¸­çš„å…ƒç´ åˆ°æœŸæ—¶ï¼Œå®ƒä¼šå”¤é†’ç­‰å¾…çš„çº¿ç¨‹ï¼Œä½¿å¾—è¿™äº›çº¿ç¨‹å¯ä»¥ç»§ç»­æ‰§è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;aqsåŸç†&quot;&gt;AQSåŸç†&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;AQSï¼ˆAbstractQueuedSynchronizerï¼‰çš„åŸç†ã€‚å®ƒæ˜¯ Java å¹¶å‘æ¡†æ¶ä¸­ç”¨äºæ„å»ºé”å’ŒåŒæ­¥å™¨çš„ä¸€ä¸ªæ ¸å¿ƒæ¡†æ¶ç±»ï¼Œæ¯”å¦‚ ReentrantLockã€Semaphoreã€CountDownLatch ç­‰åŒæ­¥å™¨ï¼Œåº•å±‚éƒ½æ˜¯åŸºäº AQS å®ç°çš„ã€‚æ˜¯ Java å¹¶å‘åŒ… &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;java.util.concurrent.locks&lt;/code&gt; ä¸­ç”¨æ¥æ„å»ºé”å’Œå…¶ä»–åŒæ­¥å™¨ï¼ˆå¦‚ä¿¡å·é‡ã€è¯»å†™é”ã€å€’è®¡æ—¶å™¨ç­‰ï¼‰çš„ä¸€ä¸ª&lt;strong&gt;åŸºç¡€æ¡†æ¶ç±»&lt;/strong&gt;ã€‚å®ƒæ˜¯ J.U.C å¹¶å‘æ¡†æ¶ä¸­æœ€æ ¸å¿ƒçš„åº•å±‚ç»„ä»¶ä¹‹ä¸€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;AQS é€šè¿‡ä¸€ä¸ª&lt;strong&gt;FIFO é˜Ÿåˆ—&lt;/strong&gt;ï¼ˆå…ˆè¿›å…ˆå‡ºç­‰å¾…é˜Ÿåˆ—ï¼‰æ¥&lt;strong&gt;ç®¡ç†è·å–é”å¤±è´¥çš„çº¿ç¨‹&lt;/strong&gt;ï¼Œå¹¶é€šè¿‡ä¸€ä¸ª&lt;strong&gt;åŸå­å˜é‡ state&lt;/strong&gt; æ¥&lt;strong&gt;è¡¨ç¤ºåŒæ­¥çŠ¶æ€&lt;/strong&gt;ï¼Œä»è€Œå®ç°å„ç§è‡ªå®šä¹‰åŒæ­¥å™¨ã€‚&lt;/p&gt;

&lt;h3 id=&quot;aqs-ä¸-synchronized-æœ‰ä½•ä¸åŒ&quot;&gt;AQS ä¸ synchronized æœ‰ä½•ä¸åŒï¼Ÿ&lt;/h3&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;ç‰¹æ€§&lt;/th&gt;
      &lt;th&gt;synchronized&lt;/th&gt;
      &lt;th&gt;AQSï¼ˆå¦‚ ReentrantLockï¼‰&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;å¯ä¸­æ–­&lt;/td&gt;
      &lt;td&gt;âŒ ä¸æ”¯æŒ&lt;/td&gt;
      &lt;td&gt;âœ… æ”¯æŒ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;å¯é‡å…¥&lt;/td&gt;
      &lt;td&gt;âœ…&lt;/td&gt;
      &lt;td&gt;âœ…&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;å…¬å¹³æ€§é€‰æ‹©&lt;/td&gt;
      &lt;td&gt;âŒ ä¸å¯é€‰&lt;/td&gt;
      &lt;td&gt;âœ… åªæœ‰æ”¯æŒå…¬å¹³æ¨¡å¼&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;æ¡ä»¶å˜é‡æ”¯æŒ&lt;/td&gt;
      &lt;td&gt;âŒ&lt;/td&gt;
      &lt;td&gt;âœ… Condition æ”¯æŒæ›´å¼ºå¤§&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;æ€§èƒ½æ§åˆ¶&lt;/td&gt;
      &lt;td&gt;âŒï¼ˆé»‘ç›’ï¼‰&lt;/td&gt;
      &lt;td&gt;âœ… æ›´å¯æ§&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;å¦‚æœæƒ³è¦éFIFOï¼Œè¯·ç”¨synchronized, æ¯”å¦‚é‡å…¥é”éå…¬å¹³æ¨¡å¼ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å®ç°&quot;&gt;å®ç°&lt;/h3&gt;

&lt;h4 id=&quot;-1-æ ¸å¿ƒæ€æƒ³çŠ¶æ€--é˜Ÿåˆ—&quot;&gt;ğŸŒŸ 1. æ ¸å¿ƒæ€æƒ³ï¼šçŠ¶æ€ + é˜Ÿåˆ—&lt;/h4&gt;

&lt;p&gt;AQS çš„æ ¸å¿ƒæ˜¯ä¸¤ä¸ªéƒ¨åˆ†ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;state&lt;/strong&gt;ï¼šä¸€ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;volatile int state&lt;/code&gt; è¡¨ç¤ºå½“å‰çš„åŒæ­¥çŠ¶æ€ï¼Œæ¯”å¦‚ 0 è¡¨ç¤ºæœªåŠ é”ï¼Œ1 è¡¨ç¤ºå·²åŠ é”ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ç­‰å¾…é˜Ÿåˆ—ï¼ˆCLH é˜Ÿåˆ—ï¼‰&lt;/strong&gt;ï¼šçº¿ç¨‹è·å–é”å¤±è´¥åï¼Œä¼šè¢«å°è£…ä¸ºä¸€ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Node&lt;/code&gt; èŠ‚ç‚¹ï¼ŒåŠ å…¥åˆ°ä¸€ä¸ª &lt;strong&gt;FIFO åŒå‘é˜Ÿåˆ—&lt;/strong&gt; ä¸­ï¼Œå¹¶é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LockSupport.park()&lt;/code&gt; æŒ‚èµ·ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;å­—æ®µå&lt;/th&gt;
      &lt;th&gt;ç±»å‹&lt;/th&gt;
      &lt;th&gt;è¯´æ˜&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;state&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;volatile int&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;åŒæ­¥çŠ¶æ€ï¼ˆ0 ä»£è¡¨æœªå ç”¨ï¼‰&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;head&lt;/code&gt; / &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tail&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Node&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;CLH é˜Ÿåˆ—çš„å¤´å°¾æŒ‡é’ˆ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Node&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;é™æ€å†…éƒ¨ç±»&lt;/td&gt;
      &lt;td&gt;æ¯ä¸ªç­‰å¾…çº¿ç¨‹ä¸€ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Node&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;waitStatus&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;int&lt;/td&gt;
      &lt;td&gt;èŠ‚ç‚¹çŠ¶æ€ï¼ˆSIGNALã€CANCELLED ç­‰ï¼‰&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;thread&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;Thread&lt;/td&gt;
      &lt;td&gt;å¯¹åº”çº¿ç¨‹&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;next&lt;/code&gt; / &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;prev&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;Node&lt;/td&gt;
      &lt;td&gt;æŒ‡å‘å‰åèŠ‚ç‚¹ï¼Œå®ç°åŒå‘é“¾è¡¨&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h4 id=&quot;-2-è·å–é”æµç¨‹ä»¥ç‹¬å ä¸ºä¾‹&quot;&gt;ğŸ” 2. è·å–é”æµç¨‹ï¼ˆä»¥ç‹¬å ä¸ºä¾‹ï¼‰ï¼š&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;çº¿ç¨‹è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;acquire()&lt;/code&gt; å°è¯•åŠ é”ï¼Œåº•å±‚ä¼šè°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tryAcquire()&lt;/code&gt;ã€‚&lt;/li&gt;
  &lt;li&gt;å¦‚æœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tryAcquire()&lt;/code&gt; å¤±è´¥ï¼Œå°±è¿›å…¥ç­‰å¾…é˜Ÿåˆ—ï¼Œå¹¶é˜»å¡å½“å‰çº¿ç¨‹ã€‚&lt;/li&gt;
  &lt;li&gt;å‰ä¸€ä¸ªçº¿ç¨‹é‡Šæ”¾é”æ—¶è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;release()&lt;/code&gt;ï¼Œåº•å±‚è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tryRelease()&lt;/code&gt; æˆåŠŸåå”¤é†’ä¸‹ä¸€ä¸ªçº¿ç¨‹ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;-3-aqs-æä¾›æ¨¡æ¿æ–¹æ³•å­ç±»è´Ÿè´£å®ç°&quot;&gt;ğŸ§± 3. AQS æä¾›æ¨¡æ¿æ–¹æ³•ï¼Œå­ç±»è´Ÿè´£å®ç°ï¼š&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
protected boolean tryAcquire(int arg);
protected boolean tryRelease(int arg);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¼€å‘è€…é€šè¿‡ç»§æ‰¿ AQS å¹¶å®ç°è¿™äº›æ–¹æ³•ï¼Œå¯ä»¥è‡ªå®šä¹‰åŒæ­¥å™¨çš„è¡Œä¸ºã€‚&lt;/p&gt;

&lt;h4 id=&quot;-4-æ”¯æŒä¸¤ç§æ¨¡å¼&quot;&gt;ğŸ“Œ 4. æ”¯æŒä¸¤ç§æ¨¡å¼ï¼š&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;ç‹¬å æ¨¡å¼ï¼ˆExclusiveï¼‰&lt;/strong&gt;ï¼šä¸€æ¬¡åªå…è®¸ä¸€ä¸ªçº¿ç¨‹è·å–èµ„æºï¼Œå¦‚ ReentrantLockã€‚&lt;strong&gt;tryAcquire&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;å…±äº«æ¨¡å¼ï¼ˆSharedï¼‰&lt;/strong&gt;ï¼šå¤šä¸ªçº¿ç¨‹å¯ä»¥å…±äº«èµ„æºï¼Œå¦‚ Semaphoreã€CountDownLatchã€‚&lt;strong&gt;tryAcquireShared&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nf&quot;&gt;tryAcquire&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;tryAcquireShared&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;â†“&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;è·å–å¤±è´¥&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;â†’&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;addWaiter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;â†’&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;enq&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;â†’&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;park&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;â†“&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;å‰é©±é‡Šæ”¾é”&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;â†’&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;unpark&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;â†’&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;è‡ªæ—‹é‡è¯•&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;â†’&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;è·å–æˆåŠŸ&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;-5-å®é™…åº”ç”¨ä¸¾ä¾‹&quot;&gt;ğŸ“š 5. å®é™…åº”ç”¨ä¸¾ä¾‹ï¼š&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;ReentrantLockï¼šåŸºäº AQS çš„ç‹¬å æ¨¡å¼ã€‚&lt;/li&gt;
  &lt;li&gt;Semaphoreï¼šåŸºäºå…±äº«æ¨¡å¼æ§åˆ¶å¹¶å‘æ•°é‡ã€‚&lt;/li&gt;
  &lt;li&gt;CountDownLatchï¼šé€šè¿‡å…±äº«è®¡æ•°æ§åˆ¶çº¿ç¨‹ç­‰å¾…ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;å­ç±»&lt;/th&gt;
      &lt;th&gt;æ¨¡å¼&lt;/th&gt;
      &lt;th&gt;å®ç°æ–¹æ³•&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ReentrantLock&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;ç‹¬å &lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tryAcquire&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tryRelease&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Semaphore&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;å…±äº«&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tryAcquireShared&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tryReleaseShared&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CountDownLatch&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;å…±äº«&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tryAcquireShared&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tryReleaseShared&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ReentrantReadWriteLock.WriteLock&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;ç‹¬å &lt;/td&gt;
      &lt;td&gt;è§å†™é”å®ç°&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ReentrantReadWriteLock.ReadLock&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;å…±äº«&lt;/td&gt;
      &lt;td&gt;è§è¯»é”å®ç°&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;ReentrantReadWriteLock  è¯»å…±äº«ï¼Œå†™ç‹¬å &lt;/p&gt;

&lt;h3 id=&quot;qa&quot;&gt;QA&lt;/h3&gt;

&lt;p&gt;ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ LockSupport.park() è€Œä¸æ˜¯ wait()ï¼Ÿ&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;park/unpark&lt;/code&gt; æ›´çµæ´»ï¼Œçº¿ç¨‹ä¸éœ€è¦å…ˆè·å–é”ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wait/notify&lt;/code&gt; ä¾èµ–å¯¹è±¡é”ï¼Œå®¹æ˜“äº§ç”Ÿæ­»é”æˆ–å¤æ‚åŒæ­¥ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;CLHï¼ˆCraig, Landin, and Hagerstenï¼‰é˜Ÿåˆ—&lt;/strong&gt; æ˜¯æ ¸å¿ƒçš„æ•°æ®ç»“æ„ä¹‹ä¸€ã€‚å®ƒæ˜¯ä¸€ç§ç”¨äºå®ç° &lt;strong&gt;è‡ªæ—‹é” / é˜»å¡é”çš„å¹¶å‘é˜Ÿåˆ—&lt;/strong&gt;ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;æ¯ä¸ªçº¿ç¨‹éƒ½å¯¹åº”ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Node&lt;/code&gt;ï¼‰æŒ‚åˆ°é˜Ÿåˆ—å°¾éƒ¨ã€‚&lt;/li&gt;
  &lt;li&gt;çº¿ç¨‹é€šè¿‡è‡ªæ—‹æˆ–æŒ‚èµ·ç­‰å¾…å…¶å‰é©±èŠ‚ç‚¹çš„çŠ¶æ€å˜åŒ–ã€‚&lt;/li&gt;
  &lt;li&gt;åœ¨ AQS ä¸­ç§°ä¸º &lt;strong&gt;â€œåŒæ­¥é˜Ÿåˆ—â€ï¼ˆsync queueï¼‰&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä¼˜ç‚¹&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;FIFO ä¿è¯å…¬å¹³æ€§&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;éé˜»å¡å…¥é˜Ÿï¼ˆCASï¼‰&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;è‡ªæ—‹/æŒ‚èµ·ç­‰å¾…å‰é©±é€šçŸ¥&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;å¯æ‰©å±•æ€§å¼ºï¼Œé€‚åˆé«˜å¹¶å‘åœºæ™¯&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;çº¿ç¨‹æ± &quot;&gt;çº¿ç¨‹æ± &lt;/h2&gt;

&lt;p&gt;åˆç†åˆ©ç”¨çº¿ç¨‹æ± èƒ½å¤Ÿå¸¦æ¥ä¸‰ä¸ªå¥½å¤„ã€‚ç¬¬ä¸€ï¼šé™ä½èµ„æºæ¶ˆè€—ã€‚é€šè¿‡é‡å¤åˆ©ç”¨å·²åˆ›å»ºçš„çº¿ç¨‹é™ä½çº¿ç¨‹åˆ›å»ºå’Œé”€æ¯é€ æˆçš„æ¶ˆè€—ã€‚ç¬¬äºŒï¼šæé«˜å“åº”é€Ÿåº¦ã€‚å½“ä»»åŠ¡åˆ°è¾¾æ—¶ï¼Œä»»åŠ¡å¯ä»¥ä¸éœ€è¦çš„ç­‰åˆ°çº¿ç¨‹åˆ›å»ºå°±èƒ½ç«‹å³æ‰§è¡Œã€‚ç¬¬ä¸‰ï¼šæé«˜çº¿ç¨‹çš„å¯ç®¡ç†æ€§ã€‚çº¿ç¨‹æ˜¯ç¨€ç¼ºèµ„æºï¼Œå¦‚æœæ— é™åˆ¶çš„åˆ›å»ºï¼Œä¸ä»…ä¼šæ¶ˆè€—ç³»ç»Ÿèµ„æºï¼Œè¿˜ä¼šé™ä½ç³»ç»Ÿçš„ç¨³å®šæ€§ï¼Œä½¿ç”¨çº¿ç¨‹æ± å¯ä»¥è¿›è¡Œç»Ÿä¸€çš„åˆ†é…ï¼Œè°ƒä¼˜å’Œç›‘æ§ã€‚ä½†æ˜¯è¦åšåˆ°åˆç†çš„åˆ©ç”¨çº¿ç¨‹æ± ï¼Œå¿…é¡»å¯¹å…¶åŸç†äº†å¦‚æŒ‡æŒã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Executors.newFixedThreadPool(int nThreads)&lt;/code&gt;ï¼šåˆ›å»ºå›ºå®šå¤§å°çš„çº¿ç¨‹æ± ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Executors.newCachedThreadPool()&lt;/code&gt;ï¼šåˆ›å»ºä¸€ä¸ªå¯ç¼“å­˜çš„çº¿ç¨‹æ± ï¼Œçº¿ç¨‹æ± çš„å¤§å°å¯æ ¹æ®éœ€æ±‚åŠ¨æ€è°ƒæ•´ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Executors.newSingleThreadExecutor()&lt;/code&gt;ï¼šåˆ›å»ºä¸€ä¸ªå•çº¿ç¨‹çš„çº¿ç¨‹æ± ï¼Œæ‰€æœ‰ä»»åŠ¡æŒ‰ç…§æäº¤é¡ºåºæ‰§è¡Œã€‚&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Executors.newScheduledThreadPool(int corePoolSize)&lt;/code&gt;ï¼šåˆ›å»ºä¸€ä¸ªå®šæ—¶ä»»åŠ¡çº¿ç¨‹æ± ï¼Œæ”¯æŒå®šæ—¶ä»»åŠ¡æ‰§è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;        &lt;span class=&quot;c1&quot;&gt;// åˆ›å»ºä¸€ä¸ªå›ºå®šå¤§å°çš„çº¿ç¨‹æ± ï¼Œå¤§å°ä¸º 3&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;ExecutorService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;threadPool&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;Executors&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;newFixedThreadPool&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// æäº¤ 6 ä¸ªä»»åŠ¡&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nv&quot;&gt;threadPool&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;submit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Task&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Task &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)));&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// å…³é—­çº¿ç¨‹æ± &lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;threadPool&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;shutdown&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;çº¿ç¨‹æ± ä»»åŠ¡åˆ›å»ºä¸æäº¤&quot;&gt;çº¿ç¨‹æ± ä»»åŠ¡åˆ›å»ºä¸æäº¤&lt;/h3&gt;

&lt;p&gt;ä»»åŠ¡åˆ†ä¸ºä¸¤ç§:ä¸€ç§æ˜¯æœ‰è¿”å›å€¼çš„ï¼ˆ callable ï¼‰ï¼Œä¸€ç§æ˜¯æ²¡æœ‰è¿”å›å€¼çš„ï¼ˆ runnable ï¼‰. Callable ä¸ Future ä¸¤åŠŸèƒ½æ˜¯ Java åœ¨åç»­ç‰ˆæœ¬ä¸­ä¸ºäº†é€‚åº”å¤šå¹¶æ³•æ‰åŠ å…¥çš„ï¼ŒCallable æ˜¯ç±»ä¼¼äº Runnable çš„æ¥å£ï¼Œå®ç° Callable æ¥å£çš„ç±»å’Œå®ç° Runnable çš„ç±»éƒ½æ˜¯å¯è¢«å…¶ä»–çº¿ç¨‹æ‰§è¡Œçš„ä»»åŠ¡ã€‚&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;æ— è¿”å›å€¼çš„ä»»åŠ¡å°±æ˜¯ä¸€ä¸ªå®ç°äº† runnable æ¥å£çš„ç±».ä½¿ç”¨ run æ–¹æ³•.&lt;/li&gt;
  &lt;li&gt;æœ‰è¿”å›å€¼çš„ä»»åŠ¡æ˜¯ä¸€ä¸ªå®ç°äº† callable æ¥å£çš„ç±».ä½¿ç”¨ call æ–¹æ³•.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Callable å’Œ Runnable çš„åŒºåˆ«å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Callable å®šä¹‰çš„æ–¹æ³•æ˜¯ callï¼Œè€Œ Runnable å®šä¹‰çš„æ–¹æ³•æ˜¯ runã€‚&lt;/li&gt;
  &lt;li&gt;Callable çš„ call æ–¹æ³•å¯ä»¥æœ‰è¿”å›å€¼ï¼Œè€Œ Runnable çš„ run æ–¹æ³•ä¸èƒ½æœ‰è¿”å›å€¼ã€‚&lt;/li&gt;
  &lt;li&gt;Callable çš„ call æ–¹æ³•å¯æŠ›å‡ºå¼‚å¸¸ï¼Œè€Œ Runnable çš„ run æ–¹æ³•ä¸èƒ½æŠ›å‡ºå¼‚å¸¸ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;execute ä¸ submit åŒºåˆ«ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;æ¥æ”¶çš„å‚æ•°ä¸ä¸€æ ·&lt;/li&gt;
  &lt;li&gt;submit æœ‰è¿”å›å€¼ï¼Œè€Œ execute æ²¡æœ‰&lt;/li&gt;
  &lt;li&gt;submit æ–¹ä¾¿ Exception å¤„ç†&lt;/li&gt;
  &lt;li&gt;execute æ˜¯ Executor æ¥å£ä¸­å”¯ä¸€å®šä¹‰çš„æ–¹æ³•ï¼›submit æ˜¯ ExecutorServiceï¼ˆè¯¥æ¥å£ç»§æ‰¿ Executorï¼‰ä¸­å®šä¹‰çš„æ–¹æ³•&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;çº¿ç¨‹æ± çš„å…³é—­&quot;&gt;çº¿ç¨‹æ± çš„å…³é—­&lt;/h3&gt;

&lt;p&gt;æˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨çº¿ç¨‹æ± çš„ shutdown æˆ– shutdownNow æ–¹æ³•æ¥å…³é—­çº¿ç¨‹æ± ï¼Œä½†æ˜¯å®ƒä»¬çš„å®ç°åŸç†ä¸åŒï¼Œshutdown çš„åŸç†æ˜¯åªæ˜¯å°†çº¿ç¨‹æ± çš„çŠ¶æ€è®¾ç½®æˆ SHUTDOWN çŠ¶æ€ï¼Œç„¶åä¸­æ–­æ‰€æœ‰æ²¡æœ‰æ­£åœ¨æ‰§è¡Œä»»åŠ¡çš„çº¿ç¨‹ã€‚shutdownNow çš„åŸç†æ˜¯éå†çº¿ç¨‹æ± ä¸­çš„å·¥ä½œçº¿ç¨‹ï¼Œç„¶åé€ä¸ªè°ƒç”¨çº¿ç¨‹çš„ &lt;strong&gt;interrupt&lt;/strong&gt; æ–¹æ³•æ¥ä¸­æ–­çº¿ç¨‹ï¼Œæ‰€ä»¥æ— æ³•å“åº”ä¸­æ–­çš„ä»»åŠ¡å¯èƒ½æ°¸è¿œæ— æ³•ç»ˆæ­¢ã€‚shutdownNow ä¼šé¦–å…ˆå°†çº¿ç¨‹æ± çš„çŠ¶æ€è®¾ç½®æˆ STOPï¼Œç„¶åå°è¯•åœæ­¢æ‰€æœ‰çš„æ­£åœ¨æ‰§è¡Œæˆ–æš‚åœä»»åŠ¡çš„çº¿ç¨‹ï¼Œå¹¶è¿”å›ç­‰å¾…æ‰§è¡Œä»»åŠ¡çš„åˆ—è¡¨ã€‚&lt;/p&gt;

&lt;p&gt;åªè¦è°ƒç”¨äº†è¿™ä¸¤ä¸ªå…³é—­æ–¹æ³•çš„å…¶ä¸­ä¸€ä¸ªï¼Œ&lt;strong&gt;isShutdown&lt;/strong&gt; æ–¹æ³•å°±ä¼šè¿”å› trueã€‚å½“æ‰€æœ‰çš„ä»»åŠ¡éƒ½å·²å…³é—­å,æ‰è¡¨ç¤ºçº¿ç¨‹æ± å…³é—­æˆåŠŸï¼Œè¿™æ—¶è°ƒç”¨ isTerminaed æ–¹æ³•ä¼šè¿”å› trueã€‚è‡³äºæˆ‘ä»¬åº”è¯¥è°ƒç”¨å“ªä¸€ç§æ–¹æ³•æ¥å…³é—­çº¿ç¨‹æ± ï¼Œåº”è¯¥ç”±æäº¤åˆ°çº¿ç¨‹æ± çš„ä»»åŠ¡ç‰¹æ€§å†³å®šï¼Œé€šå¸¸è°ƒç”¨ shutdown æ¥å…³é—­çº¿ç¨‹æ± ï¼Œå¦‚æœä»»åŠ¡ä¸ä¸€å®šè¦æ‰§è¡Œå®Œï¼Œåˆ™å¯ä»¥è°ƒç”¨ shutdownNowã€‚&lt;/p&gt;

&lt;h3 id=&quot;çº¿ç¨‹æ± çš„åˆ†æ&quot;&gt;çº¿ç¨‹æ± çš„åˆ†æ&lt;/h3&gt;

&lt;p&gt;åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± éœ€è¦è¾“å…¥å‡ ä¸ªå‚æ•°ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;corePoolSize&lt;/strong&gt;ï¼ˆçº¿ç¨‹æ± çš„åŸºæœ¬å¤§å°ï¼‰ï¼šå½“æäº¤ä¸€ä¸ªä»»åŠ¡åˆ°çº¿ç¨‹æ± æ—¶ï¼Œçº¿ç¨‹æ± ä¼šåˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼Œå³ä½¿å…¶ä»–ç©ºé—²çš„åŸºæœ¬çº¿ç¨‹èƒ½å¤Ÿæ‰§è¡Œæ–°ä»»åŠ¡ä¹Ÿä¼šåˆ›å»ºçº¿ç¨‹ï¼Œç­‰åˆ°éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡æ•°å¤§äºçº¿ç¨‹æ± åŸºæœ¬å¤§å°æ—¶å°±ä¸å†åˆ›å»ºã€‚å¦‚æœè°ƒç”¨äº†çº¿ç¨‹æ± çš„ prestartAllCoreThreads æ–¹æ³•ï¼Œçº¿ç¨‹æ± ä¼šæå‰åˆ›å»ºå¹¶å¯åŠ¨æ‰€æœ‰åŸºæœ¬çº¿ç¨‹ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨åˆ›å»ºäº†çº¿ç¨‹æ± åï¼Œçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°ä¸º 0ï¼Œå½“æœ‰ä»»åŠ¡æ¥ä¹‹åï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªçº¿ç¨‹å»æ‰§è¡Œä»»åŠ¡ï¼Œå½“çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°ç›®è¾¾åˆ° corePoolSize åï¼Œå°±ä¼šæŠŠåˆ°è¾¾çš„ä»»åŠ¡æ”¾åˆ°ç¼“å­˜é˜Ÿåˆ—å½“ä¸­ï¼›&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;runnableTaskQueue&lt;/strong&gt;ï¼ˆä»»åŠ¡é˜Ÿåˆ—ï¼‰ï¼šç”¨äºä¿å­˜ç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡çš„é˜»å¡é˜Ÿåˆ—ã€‚å¯ä»¥é€‰æ‹©ä»¥ä¸‹å‡ ä¸ªé˜»å¡é˜Ÿåˆ—ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;ol&gt;
  &lt;li&gt;ArrayBlockingQueueï¼šæ˜¯ä¸€ä¸ªåŸºäºæ•°ç»„ç»“æ„çš„æœ‰ç•Œé˜»å¡é˜Ÿåˆ—ï¼Œæ­¤é˜Ÿåˆ—æŒ‰ FIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰åŸåˆ™å¯¹å…ƒç´ è¿›è¡Œæ’åºã€‚&lt;/li&gt;
  &lt;li&gt;LinkedBlockingQueueï¼šä¸€ä¸ªåŸºäºé“¾è¡¨ç»“æ„çš„é˜»å¡é˜Ÿåˆ—ï¼Œæ­¤é˜Ÿåˆ—æŒ‰ FIFO ï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰ æ’åºå…ƒç´ ï¼Œååé‡é€šå¸¸è¦é«˜äº ArrayBlockingQueueã€‚é™æ€å·¥å‚æ–¹æ³• Executors.newFixedThreadPool()ä½¿ç”¨äº†è¿™ä¸ªé˜Ÿåˆ—ã€‚&lt;/li&gt;
  &lt;li&gt;SynchronousQueueï¼šä¸€ä¸ªä¸å­˜å‚¨å…ƒç´ çš„é˜»å¡é˜Ÿåˆ—ã€‚æ¯ä¸ªæ’å…¥æ“ä½œå¿…é¡»ç­‰åˆ°å¦ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨ç§»é™¤æ“ä½œï¼Œå¦åˆ™æ’å…¥æ“ä½œä¸€ç›´å¤„äºé˜»å¡çŠ¶æ€ï¼Œååé‡é€šå¸¸è¦é«˜äº LinkedBlockingQueueï¼Œé™æ€å·¥å‚æ–¹æ³• Executors.newCachedThreadPool ä½¿ç”¨äº†è¿™ä¸ªé˜Ÿåˆ—ã€‚&lt;/li&gt;
  &lt;li&gt;PriorityBlockingQueueï¼šä¸€ä¸ªå…·æœ‰ä¼˜å…ˆçº§å¾—æ— é™é˜»å¡é˜Ÿåˆ—ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;ul&gt;
  &lt;li&gt;maximumPoolSizeï¼ˆçº¿ç¨‹æ± æœ€å¤§å¤§å°ï¼‰ï¼šçº¿ç¨‹æ± å…è®¸åˆ›å»ºçš„æœ€å¤§çº¿ç¨‹æ•°ã€‚å¦‚æœé˜Ÿåˆ—æ»¡äº†ï¼Œå¹¶ä¸”å·²åˆ›å»ºçš„çº¿ç¨‹æ•°å°äºæœ€å¤§çº¿ç¨‹æ•°ï¼Œåˆ™çº¿ç¨‹æ± ä¼šå†åˆ›å»ºæ–°çš„çº¿ç¨‹æ‰§è¡Œä»»åŠ¡ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯å¦‚æœä½¿ç”¨äº†æ— ç•Œçš„ä»»åŠ¡é˜Ÿåˆ—è¿™ä¸ªå‚æ•°å°±æ²¡ä»€ä¹ˆæ•ˆæœã€‚ä¹Ÿå°±æ˜¯è¯´ corePoolSize å°±æ˜¯çº¿ç¨‹æ± å¤§å°ï¼ŒmaximumPoolSize åœ¨æˆ‘çœ‹æ¥æ˜¯çº¿ç¨‹æ± çš„ä¸€ç§è¡¥æ•‘æªæ–½ï¼Œå³ä»»åŠ¡é‡çªç„¶è¿‡å¤§æ—¶çš„ä¸€ç§è¡¥æ•‘æªæ–½ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ThreadFactory&lt;/strong&gt;ï¼šç”¨äºè®¾ç½®åˆ›å»ºçº¿ç¨‹çš„å·¥å‚ï¼Œå¯ä»¥é€šè¿‡çº¿ç¨‹å·¥å‚ç»™æ¯ä¸ªåˆ›å»ºå‡ºæ¥çš„çº¿ç¨‹è®¾ç½®æ›´æœ‰æ„ä¹‰çš„åå­—ï¼ŒDebug å’Œå®šä½é—®é¢˜æ—¶éå¸¸åˆå¸®åŠ©ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;RejectedExecutionHandler&lt;/strong&gt;ï¼ˆé¥±å’Œç­–ç•¥ï¼‰ï¼šå½“é˜Ÿåˆ—å’Œçº¿ç¨‹æ± éƒ½æ»¡äº†ï¼Œè¯´æ˜çº¿ç¨‹æ± å¤„äºé¥±å’ŒçŠ¶æ€ï¼Œé‚£ä¹ˆå¿…é¡»é‡‡å–ä¸€ç§ç­–ç•¥å¤„ç†æäº¤çš„æ–°ä»»åŠ¡ã€‚è¿™ä¸ªç­–ç•¥é»˜è®¤æƒ…å†µä¸‹æ˜¯ AbortPolicyï¼Œè¡¨ç¤ºæ— æ³•å¤„ç†æ–°ä»»åŠ¡æ—¶æŠ›å‡ºå¼‚å¸¸ã€‚ä»¥ä¸‹æ˜¯ JDK1.5 æä¾›çš„å››ç§ç­–ç•¥ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;ol&gt;
  &lt;li&gt;AbortPolicyï¼šç›´æ¥æŠ›å‡ºå¼‚å¸¸&lt;/li&gt;
  &lt;li&gt;CallerRunsPolicyï¼šåªç”¨è°ƒç”¨è€…æ‰€åœ¨çº¿ç¨‹æ¥è¿è¡Œä»»åŠ¡ã€‚&lt;/li&gt;
  &lt;li&gt;DiscardOldestPolicyï¼šä¸¢å¼ƒé˜Ÿåˆ—é‡Œæœ€è¿‘çš„ä¸€ä¸ªä»»åŠ¡ï¼Œå¹¶æ‰§è¡Œå½“å‰ä»»åŠ¡ã€‚&lt;/li&gt;
  &lt;li&gt;DiscardPolicyï¼šä¸å¤„ç†ï¼Œä¸¢å¼ƒæ‰ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;å½“ç„¶ä¹Ÿå¯ä»¥æ ¹æ®åº”ç”¨åœºæ™¯éœ€è¦æ¥å®ç° RejectedExecutionHandler æ¥å£è‡ªå®šä¹‰ç­–ç•¥ã€‚å¦‚è®°å½•æ—¥å¿—æˆ–æŒä¹…åŒ–ä¸èƒ½å¤„ç†çš„ä»»åŠ¡ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;keepAliveTimeï¼ˆçº¿ç¨‹æ´»åŠ¨ä¿æŒæ—¶é—´ï¼‰ï¼šçº¿ç¨‹æ± çš„å·¥ä½œçº¿ç¨‹ç©ºé—²åï¼Œä¿æŒå­˜æ´»çš„æ—¶é—´ã€‚æ‰€ä»¥å¦‚æœä»»åŠ¡å¾ˆå¤šï¼Œå¹¶ä¸”æ¯ä¸ªä»»åŠ¡æ‰§è¡Œçš„æ—¶é—´æ¯”è¾ƒçŸ­ï¼Œå¯ä»¥è°ƒå¤§è¿™ä¸ªæ—¶é—´ï¼Œæé«˜çº¿ç¨‹çš„åˆ©ç”¨ç‡ã€‚&lt;/li&gt;
  &lt;li&gt;TimeUnitï¼ˆçº¿ç¨‹æ´»åŠ¨ä¿æŒæ—¶é—´çš„å•ä½ï¼‰ï¼šå¯é€‰çš„å•ä½æœ‰å¤©ï¼ˆDAYSï¼‰ï¼Œå°æ—¶ï¼ˆHOURSï¼‰ï¼Œåˆ†é’Ÿï¼ˆMINUTESï¼‰ï¼Œæ¯«ç§’(MILLISECONDS)ï¼Œå¾®ç§’(MICROSECONDS, åƒåˆ†ä¹‹ä¸€æ¯«ç§’)å’Œæ¯«å¾®ç§’(NANOSECONDS, åƒåˆ†ä¹‹ä¸€å¾®ç§’)ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/mafulong/mdPic@vv6/v6/202505041121762.jpeg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ä»ä¸Šå›¾æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œå½“æäº¤ä¸€ä¸ªæ–°ä»»åŠ¡åˆ°çº¿ç¨‹æ± æ—¶ï¼Œçº¿ç¨‹æ± çš„å¤„ç†æµç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;å¦‚æœå½“å‰çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°ç›®å°äº corePoolSizeï¼Œåˆ™æ¯æ¥ä¸€ä¸ªä»»åŠ¡ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªçº¿ç¨‹å»æ‰§è¡Œè¿™ä¸ªä»»åŠ¡ï¼›&lt;/li&gt;
  &lt;li&gt;å¦‚æœå½“å‰çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°ç›®&amp;gt;=corePoolSizeï¼Œåˆ™æ¯æ¥ä¸€ä¸ªä»»åŠ¡ï¼Œä¼šå°è¯•å°†å…¶æ·»åŠ åˆ°ä»»åŠ¡ç¼“å­˜é˜Ÿåˆ—å½“ä¸­ï¼Œè‹¥æ·»åŠ æˆåŠŸï¼Œåˆ™è¯¥ä»»åŠ¡ä¼šç­‰å¾…ç©ºé—²çº¿ç¨‹å°†å…¶å–å‡ºå»æ‰§è¡Œï¼›è‹¥æ·»åŠ å¤±è´¥ï¼ˆä¸€èˆ¬æ¥è¯´æ˜¯ä»»åŠ¡ç¼“å­˜é˜Ÿåˆ—å·²æ»¡ï¼‰ï¼Œåˆ™ä¼šå°è¯•åˆ›å»ºæ–°çš„çº¿ç¨‹å»æ‰§è¡Œè¿™ä¸ªä»»åŠ¡ï¼›&lt;/li&gt;
  &lt;li&gt;å¦‚æœå½“å‰çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°ç›®è¾¾åˆ° maximumPoolSizeï¼Œåˆ™ä¼šé‡‡å–ä»»åŠ¡æ‹’ç»ç­–ç•¥è¿›è¡Œå¤„ç†ï¼›&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;å¦‚æœçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°é‡å¤§äº corePoolSize æ—¶ï¼Œå¦‚æœæŸçº¿ç¨‹ç©ºé—²æ—¶é—´è¶…è¿‡ keepAliveTimeï¼Œçº¿ç¨‹å°†è¢«ç»ˆæ­¢ï¼Œç›´è‡³çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°ç›®ä¸å¤§äº corePoolSizeï¼›å¦‚æœå…è®¸ä¸ºæ ¸å¿ƒæ± ä¸­çš„çº¿ç¨‹è®¾ç½®å­˜æ´»æ—¶é—´ï¼Œé‚£ä¹ˆæ ¸å¿ƒæ± ä¸­çš„çº¿ç¨‹ç©ºé—²æ—¶é—´è¶…è¿‡ keepAliveTimeï¼Œçº¿ç¨‹ä¹Ÿä¼šè¢«ç»ˆæ­¢&lt;/p&gt;

&lt;p&gt;ä»å®ƒä»¬çš„å…·ä½“å®ç°æ¥çœ‹ï¼Œå®ƒä»¬å®é™…ä¸Šä¹Ÿæ˜¯è°ƒç”¨äº† ThreadPoolExecutorï¼Œåªä¸è¿‡å‚æ•°éƒ½å·²é…ç½®å¥½äº†ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;newFixedThreadPool&lt;/strong&gt; åˆ›å»ºçš„çº¿ç¨‹æ±  corePoolSize å’Œ maximumPoolSize å€¼æ˜¯ç›¸ç­‰çš„ï¼Œå®ƒä½¿ç”¨çš„ LinkedBlockingQueueï¼›&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;newSingleThreadExecutor&lt;/strong&gt; å°† corePoolSize å’Œ maximumPoolSize éƒ½è®¾ç½®ä¸º 1ï¼Œä¹Ÿä½¿ç”¨çš„ LinkedBlockingQueueï¼›&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;newCachedThreadPool&lt;/strong&gt; å°† corePoolSize è®¾ç½®ä¸º 0ï¼Œå°† maximumPoolSize è®¾ç½®ä¸º Integer.MAX_VALUEï¼Œä½¿ç”¨çš„ SynchronousQueueï¼Œä¹Ÿå°±æ˜¯è¯´æ¥äº†ä»»åŠ¡å°±åˆ›å»ºçº¿ç¨‹è¿è¡Œï¼Œå½“çº¿ç¨‹ç©ºé—²è¶…è¿‡ 60 ç§’ï¼Œå°±é”€æ¯çº¿ç¨‹ã€‚&lt;/p&gt;

&lt;p&gt;å®é™…ä¸­ï¼Œå¦‚æœ Executors æä¾›çš„ä¸‰ä¸ªé™æ€æ–¹æ³•èƒ½æ»¡è¶³è¦æ±‚ï¼Œå°±å°½é‡ä½¿ç”¨å®ƒæä¾›çš„ä¸‰ä¸ªæ–¹æ³•ï¼Œå› ä¸ºè‡ªå·±å»æ‰‹åŠ¨é…ç½® ThreadPoolExecutor çš„å‚æ•°æœ‰ç‚¹éº»çƒ¦ï¼Œè¦æ ¹æ®å®é™…ä»»åŠ¡çš„ç±»å‹å’Œæ•°é‡æ¥è¿›è¡Œé…ç½®ã€‚å¦å¤–ï¼Œå¦‚æœ ThreadPoolExecutor è¾¾ä¸åˆ°è¦æ±‚ï¼Œå¯ä»¥è‡ªå·±ç»§æ‰¿ ThreadPoolExecutor ç±»è¿›è¡Œé‡å†™ã€‚&lt;/p&gt;</content><author><name>Fulong Ma</name></author><category term="Java" /><category term="Java" /><summary type="html">Javaå¹¶å‘åŒ…å’Œçº¿ç¨‹æ± </summary></entry></feed>