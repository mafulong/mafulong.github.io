---
layout: post
category: Web3
title: Web3入门笔记
tags: Web3
---

## 入门

## 概念

### 基础概念速览

- **Web3**：以太坊区块链和智能合约之间的连接。  

- **以太坊 Ethereum**：去中心化开源区块链，支持智能合约，原生加密货币是 ETH。  

- **智能合约 Smart Contracts**：存储在区块链上的程序，在满足条件时自动运行，主要用 Solidity 编写。  

- **去中心化 Decentralized**：数据不由单一实体或平台控制。  

- **区块链 Blockchain**：点对点网络，数据以链式结构存储，难以篡改。  

- **Solidity**：面向对象的智能合约语言，语法类似 JavaScript。  

- **DApp**：去中心化应用，后端运行在智能合约上，前端可用 React、Vue、Angular。  

- **比特币 Bitcoin**：第一个广泛应用的加密货币。  区块链的早期应用，被誉为“数字黄金”。  

- **加密货币 Crypto**：基于区块链的去中心化数字货币。   

- **NFT**：非同质化代币，链上记录的独一无二数字资产。  

- **DAO**：去中心化自治组织。  

- **Metaverse 元宇宙**：通过科技手段创造的虚拟世界概念。  

- **DeFi**：去中心化金融系统。  

- **Token**：泛指代币，包括加密货币、NFT 等。  

- **GameFi**：Game + DeFi，链游，通过加密货币和 NFT 将游戏资产映射到现实。  

- **Solidity**：以太坊智能合约语言。  

- **ERC-20**：代币标准，5 分钟可发行新币（空气币/空投币）。  

- **ICO**：首次代币发行。  

  

  

基础知识

- **Web1.0**：只读的静态网页，用户只能浏览信息。
- **Web2.0**：可交互的网络，用户能创造内容，但数据由平台掌控。
- **Web3**：去中心化的价值网络，用户拥有数据和资产。
- **区块链**：由节点共同维护、不可篡改的分布式数据库。
- **分布式账本**：多个节点共享并同步更新的账本，区块链是其实现之一。
- **加密货币**：运行在区块链上的原生数字资产（如 BTC、ETH）。
- **加密钱包**：存储私钥并帮助用户管理区块链资产的工具。
- **区块链浏览器**：查询交易、区块、地址信息的工具（如 Etherscan）。



### 什么是区块链？

区块链是分布式、去中心化的公共账本。  

- 特点：不可篡改、透明、分布式、去中心化、智能合约、共识机制。  
- 应用：最初为比特币而生，现在已扩展至供应链、医疗、金融、房地产等。  

---

### 什么是以太坊？

以太坊是开放的去中心化区块链平台，支持智能合约和 DApp。  

- 2013 年由 Vitalik Buterin 提出，2015 年正式发布。  
- 内部代币：以太币（ETH），既是加密货币，也是执行合约的“燃料”。  

---

### 什么是比特币？

比特币是第一个加密货币（2009 年发布）。  

- 由中本聪提出，目标是提供无需中介的去中心化货币。  
- 使用工作量证明（PoW）保障安全。  
- 被称为“数字黄金”，代表了货币系统的革命。 

### NFT（非同质化代币）
NFT 是存储在区块链上的独一无二数字资产，相当于基于区块链的所有权数字表示。  
- **同质化**：物品相同且可互换，例如美元、航空积分。  
- **非同质化**：物品独一无二，不可互换，例如原创绘画、土地、游戏皮肤。  

**NFT 优势：**  
- 不可变性  
- 可证明的稀缺性和出处  
- 标准化与互操作性  
- 可编程性  

**应用场景：** 数字艺术、域名、知识产权、活动门票、收藏品、游戏、音乐、金融等。  

---

### DeFi（去中心化金融）
DeFi 是去中心化的金融系统，基于区块链和智能合约，在无需中介的情况下开放透明地提供借贷、交易、投资等服务。  

**核心：**  
- 借贷：用户存放/借出代币，赚取利息。  
- 去中心化交易所（DEX）：提供流动性池，赚取手续费，完成代币定价和交换。  
- 流动性挖矿（Liquidity Mining）：用户通过提供流动性获得利息和项目代币。  





DeFi（Decentralized Finance）是去中心化金融，重构传统金融体系。  

**核心特点：**

1. 开放性和无许可性  
2. 智能合约驱动  
3. 稳定币作为价值存储  
4. 借贷平台  
5. 去中心化交易所（DEX）  
6. 资产代币化  
7. 预测市场  
8. 合成资产  
9. 流动性池和流动性挖矿  

**优势**：透明度高、可访问性强  
**风险**：智能合约漏洞、项目不成熟  

---

### 智能合约
运行在区块链上的自动化程序，满足条件时自动执行。  
- 透明、不可篡改  
- 常用语言：Solidity  



智能合约是存储在区块链上的自动执行合同。  

- 当条件满足时自动执行，例如付款即转移资产所有权。  
- 特点：透明、不可篡改。  
- 应用：金融、房地产、供应链管理。  

---

### 公链
由分布式网络 + 密码学组成。数万人贡献节点，共同维护一条链，历史账本加密存储，篡改难度极高。  

---

### Web 的演进
- **Web1.0**：只读  
- **Web2.0**：可读可写  
- **Web3.0**：可读、可写、可拥有  

Web2 vs Web3

- **Web2**：大公司依赖垄断社交、服务来构建护城河。  
- **Web3**：开放互通，协议和服务可集成调用，智能合约保障利益共享。  
  - 例如：若微信、钉钉、微博共用同一社交网络协议，用户可在微博打开朋友圈、在微信与钉钉好友聊天。  

---

### 元宇宙 Metaverse
通过区块链和 NFT 打造虚拟世界，用户在其中拥有皮肤、装备、土地等数字资产。  



---

### DAO（去中心化自治组织）
DAO 是基于区块链的组织形态，依靠智能合约执行规则。  
- 成员共同治理，无传统层级结构。  
- 提供透明管理、参与式决策、无国界协作。  
- 应用：协议治理、资助拨款、投资管理、社区协作。  

---

### 稳定币 Stablecoin
锚定现实资产（如美元）的加密货币。  

**三类稳定币：**
1. **法币抵押型**：由中心化机构发行（如 USDT、USDC），稳定性强，但存在中心化问题。  
2. **加密货币抵押型**：通过超额抵押维持价格稳定（如 DAI），去中心化但资本效率低。  
3. **算法稳定币**：无抵押，仅依赖算法调节（如 TerraUST），多次失败。  

---

### 代币化 Tokenization
通过区块链创建代币，代表资产的分数所有权或索赔权。属性和功能由智能合约定义。  

---

### DApp（去中心化应用）
运行在区块链上的应用，后端依赖智能合约，前端可用 React、Vue 等框架。  

---

### 以太坊 Ethereum
去中心化的图灵完备虚拟机，可处理任意计算和智能合约。  
- 特点：去中心化、无需信任、抗审查、开源匿名。  
- **The Merge（2022 年 9 月）**：共识从 PoW 切换到 PoS，被视为区块链工程史上的壮举。矿工由验证者取代，质押 ETH 获取奖励，恶意行为将遭罚没。  
- 拥有丰富的生态系统（DeFi、NFT、DAO）。  

---

### 加密货币钱包
钱包不是存币，而是存储私钥的工具。  
- **私钥**：独特字符串，用于签名和解密。  
- **助记词**：便于记忆的词组，用来恢复私钥。  



## 区块链技术具有哪些功能？

区块链技术具有以下主要功能：

### 去中心化

区块链中的去中心化是指将控制权和决策权从中心化实体（个人、组织或团体）转让给分布式网络。去中心化区块链网络使用透明度来减少对参与者之间取得信任的需要。这些网络还以削弱网络功能性的方式，阻止参与者彼此施加权力或控制。

### 不可变性

不可变性是指某些内容不能更改或改变。一旦某个参与者将交易记录到共享分类账中，则任何参与者均不能篡改该交易。如果某个交易记录包含错误，则您必须添加新交易以修正错误，并且整个网络均可看见这两个交易。

### 共识

区块链系统将建立关于参与者就记录交易达成共识的规则。仅当网络中的大部分参与者都同意时，才能记录新交易。



## 区块链技术包含哪些关键组件？

区块链架构包含以下主要组件：

### 分布式分类账

分布式分类账是区块链网络中用于存储交易的共享数据库，如团队中的每个人均可编辑的共享文件。在大多数共享文本编辑者中，任何拥有编辑权限的人员均可删除整个文件。但分布式分类账技术对于谁能编辑以及如何编辑具有严格规则。一旦条目已被记录，您就无法删除它们。

### 智能合约

很多公司使用智能合约来自行管理业务合约，而不需要第三方的帮助。智能合约是存储在区块链系统上的程序，这些程序将在符合预先确定的条件时自动运行。这些程序将运行条件语句检查，以便能够放心地完成交易。例如，某家物流公司可能拥有一份智能合约，约定一旦商品抵达港口将自动进行付款。

### 公钥加密

公钥加密是一种安全功能，用于唯一标识区块链网络中的参与者。此机制将为网络成员生成两组密钥。一组密钥是公钥，对于网络中的每个人都是公用的。另一组密钥是私钥，对于每个成员都是唯一的。私钥与公钥配合使用，解锁分类账中的数据。 

例如，John 和 Jill 是网络中的两个成员。John 记录了一项交易，并用其私钥进行了加密。Jill 可以使用其公钥解密该交易。通过这种方式，Jill 可以确信 John 进行了该交易。如果 John 的私钥已被篡改，则 Jill 的公钥不会发挥作用。



## 区块链的工作原理是什么？

虽然区块链的底层机制非常复杂，我们将通过以下步骤提供简要概述。区块链软件可以自动执行以下大部分步骤：

### 第 1 步 – 记录交易

区块链交易显示实体资产或数字资产从区块链网络中的一方向另一方的转移。该交易以区块的形式记录，可能包括如下细节：

- 谁参与了该交易？
- 交易期间发生了什么情况？
- 交易是在何时进行的？
- 交易是在哪里进行的？
- 为什么进行该交易？
- 交换了多少资产？
- 交易期间符合多少前提条件？

### 第 2 步 – 达成共识

分布式区块链网络中的大多数参与者必须就已记录的交易是有效的达成一致。根据网络类型，达成协议的规则可能有所不同，但通常是在网络开始建立时就制定好的。

### 第 3 步 – 将区块链接起来

一旦参与者达成了共识，会将区块链中的交易写入区块，区块就相当于分类账账簿中的页面。连同交易一起，还会将一个加密哈希附加到新区块。该哈希作为将区块链接在一起的链条。如果有意或无意修改了区块的内容，则该哈希值也将更改，这将提供一种检测数据篡改的方式。 

因此，区块将与链条安全地链接在一起，且您无法编辑它们。每增加一个区块，都会强化前一个区块的验证，因而也会强化整个区块链的验证。这就像是堆砌木块建塔一样。您只能在前一层木块之上堆叠木块，如果您从塔的中间取出一个木块，则整座塔将垮塌。

### 第 4 步 – 共享分类账

该系统会将中心分类账的最新副本分发给所有参与者。



## 前端与框架

- 大多数 Web3 项目使用 **Next.js** 框架，并通过 **Vercel** 部署。
- **Next.js** 基于 **React**，支持写 API，也能作为后端框架。
- 学习路径：React → Next.js → 与 Web3 结合。

------

## 协议标准

### ERC-20（同质化代币）

- 定义代币转账、余额查询、授权等接口。
- 特点：代币等价、可分割。
- 应用：稳定币（USDT、USDC）、治理代币（UNI、COMP）。

### ERC-721（非同质化代币，NFT）

- 定义 NFT 的转移、所有权、元数据接口。
- 特点：唯一、不可分割。
- 应用：艺术品、游戏道具、虚拟土地。

### ERC-1155（多代币标准）

- 在同一合约中同时管理同质化与非同质化代币。
- 特点：高效，节省 Gas。
- 应用：游戏场景（金币=ERC20，装备=ERC721）。

### 代理合约（Proxy Contract）

- 逻辑合约与数据存储分离，实现合约可升级。
- 常见实现：OpenZeppelin Transparent Proxy、UUPS Proxy。

------

## 智能合约交互

- 常用库：**Web3.js、Ethers.js、Wagmi**。
- 如果使用 TypeScript：配合 **TypeChain**。
- 推荐：
  - **Ethers.js** → 最常用、功能完善。
  - **Next.js + React + TypeScript** → 适合用 **Wagmi**。

------

## 应用生态

- 常见应用：
  - **MetaMask**：最知名的钱包
  - **Stepn**：边跑步边赚钱的 DApp
  - **Axie Infinity**：区块链游戏
  - **NBA TopShot**：NBA 官方 NFT
  - **OpenSea**：全球最大的 NFT 市场
- 其他公链生态：
  - BNB Chain、Solana、Tron 等
- 推荐网站：
  - **dappradar.com** → 探索 DApp 生态，查热门项目和调研报告。



## 比特币与区块链之间有什么区别？

比特币与区块链可以互换使用，但它们是两种不同的事物。由于比特币是区块链技术的早期应用，人们无意间开始使用比特币来指代区块链，因而造成了这种误用。但除比特币外，区块链技术还有很多应用。

比特币是一种在没有任何中心化控制的情况下运营的数字货币。最初创建比特币的目的在于在线进行金融交易，但现在已被视为可转换为任何其他全球货币（如美元或欧元）的数字资产。公有比特币区块链网络将创建和管理中心分类账。 

### 比特币网络

公有分类账记录所有比特币交易，而世界各地的众多服务器则保存此分类账的副本。这些服务器就像银行。只是每个银行仅了解其客户兑换的资金，而比特币服务器则了解世界上的每一笔比特币交易。

任何拥有闲置计算机的人员均可搭建一台此类服务器，称为节点。这就像是开设您自己的比特币银行，而不是银行账户。



最初，比特币区块链考虑的是公开匿名场景下的最坏保证。通过引入了“工作量证明”（Proof of Work）策略来规避少数人的恶意行为，并通过概率模型保证最终共识到最长链。算法的核心思想是基于经济利益的博弈，让恶意破坏的参与者损失经济利益，从而保证大部分人的合作。同时，确认必须经过多个区块的生成之后达成，从概率上进行保证。这类算法的主要问题在于效率低下和能源浪费。类似地，还有以权益为抵押的 PoS 和 DPoS 算法等。

| 项目     | 说明                         |
| -------- | ---------------------------- |
| 共识机制 | PoW（工作量证明）            |
| 判断主链 | 以“累计工作量最大”的链为主链 |
| 原因     | 避免分叉、达成全网共识       |
| 安全性   | 通过算力成本抵抗攻击         |





PoW: 试图找到一个 nonce 串（随机串）放到区块里，使得区块结构的哈希结果满足一定条件（比如小于某个值）。这个计算 nonce 串的过程，即俗称的“挖矿”。nonce 串的查找需要花费一定的计算力。





因为比特币网络中存在大量（据估计数千个）的维护节点，而且大部分节点都是正常工作的，默认都只承认所看到的最长的链结构。只要网络中不存在超过一半的节点提前勾结一起采取恶意行动，则最长的链将很大概率上成为最终合法的链。而且随着时间增加，这个概率会越来越大。例如，经过 6 个区块生成后，即便有一半的节点联合起来想颠覆被确认的结果，其概率也仅为 (1/2)^6 ≈ 1.6%，即低于 1/60 的可能性。10 个区块后概率将降到千分之一以下。





### 比特币挖矿

在公有比特币网络上，成员通过求解加密方程来创建新区块，以挖掘加密货币。该系统将向该网络公开广播每一笔新交易，并在各节点间共享这一信息。每十分钟左右，挖矿者会将这些交易收集到一个新区块中，再将这些新区块永久添加到区块链中，该区块链就像比特币的最终账簿。

由于软件进程的复杂性，因此挖矿需要大量计算资源，并且需要很长时间。作为交换，挖矿者可以赚取少量加密货币。挖矿者相当于记录交易并收取交易费用的现代职员。

该网络上的所有参与者都将使用区块链加密技术，就谁拥有哪些比特币达成共识。



## 数据库与区块链之间有什么区别？

区块链是一种特殊类型的数据库管理系统，拥有比常规数据库更多的功能。我们将在下面的列表中介绍传统数据库与区块链之间的一些重要区别：

- 区块链去中心化控制，而不会破坏现有数据中的信任。这在其他数据库系统中是不可能实现的。
- 参与交易的公司无法共享其整个数据库。但在区块链网络中，每家公司都拥有其分类账副本，并且该系统将自动维护两份分类账之间的一致性。
- 虽然在大多数数据库系统中，您都可以编辑或删除数据，但在区块链中，您只能插入数据。



## 参考

- https://zhuanlan.zhihu.com/p/647524814
- [AWS区块链](https://aws.amazon.com/cn/what-is/blockchain/?aws-products-all.sort-by=item.additionalFields.productNameLowercase&aws-products-all.sort-order=asc)