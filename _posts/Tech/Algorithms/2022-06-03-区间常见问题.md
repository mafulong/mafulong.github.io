---
layout: post
category: Algorithms
title: 区间常见问题
tags: Algorithms
---

## 区间常见问题



一般区间题目是线段树来做。例如区间sum，max等

还有类普通区间的插入合并等，这个可以单纯的贪心(开始节点排序)等来做。



## Key Ponints

判断是否有交集, [l1,r1], [l2,r2]

如果有交集可合并, [ min(l1,l2), max(r1,r2)]

区间插入，其实就是把可合并的合并到一起。左边右边都有可合并的。

1. 首先将新区间左边且相离的区间加入结果集（遍历时，如果当前区间的结束位置小于新区间的开始位置，说明当前区间在新区间的左边且相离）；
2. 接着判断当前区间是否与新区间重叠，重叠的话就进行合并，直到遍历到当前区间在新区间的右边且相离，将最终合并后的新区间加入结果集；
3. 最后将新区间右边且相离的区间加入结果集。



## 应用

- [354. 俄罗斯套娃信封问题](https://leetcode.cn/problems/russian-doll-envelopes/) 当另一个信封的宽度和高度都比这个信封大的时候，这个信封就可以放进另一个信封里，如同俄罗斯套娃一样。请计算 最多能有多少个 信封能组成一组“俄罗斯套娃”信封（即可以把一个信封放到另一个信封里面）。
  - 其实是个二维的找最长递增子序列，需要a1<a2, b1 < a2 对于[a,b]这样的长宽信封来说。 如果按a有序+ LIS o(nlogn)的模板，会错误的统计到a相同时的结果，所以可以按a有序+按b倒序，这样求b的LIS就是正确的了



## 参考

- [参考](https://mp.weixin.qq.com/s/ioUlNa4ZToCrun3qb4y4Ow)
