---
layout: post
category: golang
title: golang反射
---

[参考](https://studygolang.com/articles/12348?fr=sidebar)


## golang类型设计原则

1. 变量包括(type,value)两部分，因此```nil!=nil```
2. type 包括 static type和concrete type. 简单来说 static type是你在编码是看见的类型(如int、string)，concrete type是runtime系统看见的类型
3. 类型断言能否成功，取决于变量的concrete type，而不是static type. 因此，一个 reader变量如果它的concrete type也实现了write方法的话，它也可以被类型断言为writer.

## reflect的基本功能TypeOf和ValueOf

既然反射就是用来检测存储在接口变量内部(值value；类型concrete type) pair对的一种机制。那么在Golang的reflect反射包中有什么样的方式可以让我们直接获取到变量内部的信息呢？ 它提供了两种类型（或者说两个方法）让我们可以很容易的访问接口变量内容，分别是reflect.ValueOf() 和 reflect.TypeOf()

ValueOf用来获取输入参数接口中的数据的值，如果接口为空则返回0

TypeOf用来动态获取输入参数接口中的值的类型，如果接口为空则返回nil

