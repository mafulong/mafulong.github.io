---
layout: post
category: ComputerNetwork
title: 计算机网络复习
tags: ComputerNetwork
---

[张今灵整理](https://github.com/Gillian97/FrontEnd-Interview/blob/main/NetWork.md)

## ssh工作原理

[参考](https://www.cnblogs.com/diffx/p/9553587.html)

![image](https://cdn.jsdelivr.net/gh/mafulong/mdPic@vv2/v2/1.png)

![image](https://cdn.jsdelivr.net/gh/mafulong/mdPic@master/images/d8228e846b78c3585dd68137559df304.png)

1. Client将自己的公钥存放在Server上，追加在文件authorized_keys中。
2. Server端接收到Client的连接请求后，会在authorized_keys中匹配到Client的公钥pubKey，并生成随机数R，用Client的公钥对该随机数进行加密得到pubKey(R)
，然后将加密后信息发送给Client。
3. Client端通过私钥进行解密得到随机数R，然后对随机数R和本次会话的SessionKey利用MD5生成摘要Digest1，发送给Server端。
4. Server端会也会对R和SessionKey利用同样摘要算法生成Digest2。
5. Server端会最后比较Digest1和Digest2是否相同，完成认证过程。

## httpDns
- 传统的DNS有解析慢，更新不及时，转发跨运营商，nat跨运营商等问题，影响了流量的调度。
- HTTPDNS通过客户端sdk和服务端，直接解析dns，绕过了传统dns缺点，实现智能调度。

[这个解释好些](https://juejin.im/post/6844903695587475469)

[参考](https://www.cnblogs.com/jimmyhe/p/11279762.html)


## https

[HTTPS、SSL、TLS三者之间的联系和区别](https://blog.csdn.net/enweitech/article/details/81781405)

## 应用层协议
dns是udp的，特别大的才会用tcp

dhcp是udp的



## http连接

1.1引入了长连接和流水线。

### 连接管理

![img](https://cdn.jsdelivr.net/gh/mafulong/mdPic@vv3/v3/20211222140159.png)



#### 1. 短连接与长连接

当浏览器访问一个包含多张图片的 HTML 页面时，除了请求访问的 HTML 页面资源，还会请求图片资源。如果每进行一次 HTTP 通信就要新建一个 TCP 连接，那么开销会很大。

长连接只需要建立一次 TCP 连接就能进行多次 HTTP 通信。

- 从 HTTP/1.1 开始默认是长连接的，如果要断开连接，需要由客户端或者服务器端提出断开，使用 `Connection : close`；
- 在 HTTP/1.1 之前默认是短连接的，如果需要使用长连接，则使用 `Connection : Keep-Alive`。

#### 2. 流水线

默认情况下，HTTP 请求是按顺序发出的，下一个请求只有在当前请求收到响应之后才会被发出。由于受到网络延迟和带宽的限制，在下一个请求被发送到服务器之前，可能需要等待很长时间。

流水线是在同一条长连接上连续发出请求，而不用等待响应返回，这样可以减少延迟。



流水线问题，后续请求返回必须等待第一个请求返回后才可以开始，也就是**线头阻塞**，同时没有现代浏览器默认开启此特性。